"use strict";(self.webpackChunkJbNotifier=self.webpackChunkJbNotifier||[]).push([[19818],{19818:(E,c,i)=>{i.r(c),i.d(c,{TopicsModule:()=>R});var d=i(96814),T=i(31610),s=i(88762),l=i(23758);const y=[{type:"buttons",fixed:!0,buttons:[{name:"save",template:"grid-save-button"},{name:"edit",template:"grid-edit-button"},{name:"delete",template:"grid-delete-button"},{name:"cancel",template:"grid-cancel-button"}]},{dataField:"id",visible:!1},{dataField:"concurrencyStamp",visible:!1},{dataField:"idCode",caption:"idCode",dataType:"string"},{dataField:"name",caption:"\u540d\u7a31",dataType:"string"},{dataField:"sortingNumber",caption:"\u6392\u5e8f",dataType:"number",visible:!1},{dataField:"receiverIds",caption:"",dataType:"object",visible:!1,calculateCellValue:e=>e.receiverIds?.map(r=>({id:r.id,displayName:r.name}))}],m={index:"/api/app/jbnotifier-admin/topics",get:"/api/app/jbnotifier-admin/topics",create:"/api/app/jbnotifier-admin/topics",update:"/api/app/jbnotifier-admin/topics",delete:"/api/app/jbnotifier-admin/topics"},x=[{dataField:"receiverIds",path:"/api/app/jbnotifier-admin/topics/receiver-lookup"}],g=[{dataField:"id",mapping:["topic","id"]},{dataField:"concurrencyStamp",mapping:["concurrencyStamp"]},{dataField:"idCode",queryStringKey:"IdCode",mapping:["topic","idCode"]},{dataField:"name",queryStringKey:"Name",mapping:["topic","name"]},{dataField:"sortingNumber",queryStringKey:"SortingNumber",mapping:["topic","sortingNumber"]},{dataField:"receiverIds",queryStringKey:"ReceiverIds",mapping:["receivers"]}],u=[{dataField:"idCode",editorType:"dxTextBox",colSpan:1},{dataField:"name",editorType:"dxTextBox",colSpan:1},{dataField:"sortingNumber",editorType:"dxTextBox",colSpan:1},{dataField:"receiverIds",editorType:"dxTagBox",editorOptions:{displayExpr:"displayName"},colSpan:1}],b={popup:{title:"::\u4e3b\u984c",wrapperAttr:{class:"basic-popup"},showCloseButton:!0,toolbarItems:[{toolbar:"bottom",template:"bottom-toolbar"}],width:"85vw",height:"90vh"},form:{colCount:2,items:u,elementAttr:{class:"basic-form basic-form-edit"}}},F={popup:{title:"::\u4e3b\u984c",wrapperAttr:{class:"basic-popup"},showCloseButton:!0,toolbarItems:[{toolbar:"bottom",template:"bottom-toolbar"}],width:"85vw",height:"90vh"},form:{colCount:2,items:u,elementAttr:{class:"basic-form basic-form-edit"}}};var t=i(19212),C=i(67),S=i(72783),h=i(67846),A=i(44347),M=i(65343),N=i(92931),Q=i(60237),Z=i(16358),B=i(20843),f=i(2173),D=i(25012),v=i(12305);const I=["grid"];function J(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"dx-button",10),t.NdJ("onClick",function(){t.CHM(o),t.oxw();const n=t.MAs(1);return t.KtG(n.instance.addRow())}),t.qZA()}}function U(e,r){if(1&e&&t._UZ(0,"app-grid-after-tool-bar",9),2&e){t.oxw();const o=t.MAs(1);t.Q6J("grid",o)}}function K(e,r){1&e&&t.GkF(0)}const P=e=>({$implicit:e});function O(e,r){if(1&e&&(t.ynx(0),t.YNc(1,K,1,0,"ng-container",11),t.BQk()),2&e){const o=r.$implicit,a=t.oxw().$implicit,n=t.oxw();t.xp6(),t.Q6J("ngTemplateOutlet",n.templateStore.getGridTemplates(a.key))("ngTemplateOutletContext",t.VKq(2,P,o))}}function _(e,r){if(1&e&&(t.ynx(0),t.YNc(1,O,2,4,"ng-container",8),t.BQk()),2&e){const o=r.$implicit;t.xp6(),t.Q6J("dxTemplateOf",o.key)}}function G(e,r){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-bottom-toolbar-btns",9),t.qZA()),2&e){t.oxw();const o=t.MAs(1);t.xp6(),t.Q6J("grid",o)}}const j=[{path:"",component:(()=>{class e{constructor(o,a){this.gridDataSourceService=o,this.templateStore=a,this.columns=y,this.cRUDEndpoints=m,this.dataFieldLookupSourceMapping=x,this.relatedDataValueAndQueryStringKeyMapping=g,this.editingPropertiesForCreating=b,this.editingPropertiesForUpdating=F}ngOnInit(){this.gridDataSource=this.gridDataSourceService.getDataSource(m,g)}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(C.I),t.Y36(S.z))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-topics"]],viewQuery:function(a,n){if(1&a&&t.Gf(I,5),2&a){let p;t.iGM(p=t.CRH())&&(n.grid=p.first)}},decls:12,vars:12,consts:[["appGridFeature","","appGridFeatureNotification","",3,"datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","editingPropertiesForCreating","editingPropertiesForUpdating","columns","dataSource","isEditingDataAsync"],["grid",""],["location","before"],["appGridAddButton","",3,"onClick",4,"dxTemplate"],["location","after"],[3,"grid",4,"dxTemplate"],["name","applyFilterButton","cssClass","d-none"],[4,"ngFor","ngForOf"],[4,"dxTemplate","dxTemplateOf"],[3,"grid"],["appGridAddButton","",3,"onClick"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,n){if(1&a&&(t.TgZ(0,"dx-data-grid",0,1)(2,"dxo-toolbar")(3,"dxi-item",2),t.YNc(4,J,1,0,"dx-button",3),t.qZA(),t.TgZ(5,"dxi-item",4),t.YNc(6,U,1,1,"app-grid-after-tool-bar",5),t.qZA(),t._UZ(7,"dxi-item",6),t.qZA(),t.YNc(8,_,2,1,"ng-container",7),t.ALo(9,"keyvalue"),t.YNc(10,G,2,1,"div",8),t.qZA(),t._UZ(11,"app-notification-pager",9)),2&a){const p=t.MAs(1);t.Q6J("datafieldValueQueryStringKeyMapping",n.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",n.dataFieldLookupSourceMapping)("editingPropertiesForCreating",n.editingPropertiesForCreating)("editingPropertiesForUpdating",n.editingPropertiesForUpdating)("columns",n.columns)("dataSource",n.gridDataSource)("isEditingDataAsync",!0),t.xp6(8),t.Q6J("ngForOf",t.lcZ(9,10,n.templateStore.gridTemplates)),t.xp6(2),t.Q6J("dxTemplateOf","bottom-toolbar"),t.xp6(),t.Q6J("grid",p)}},dependencies:[d.sg,d.tP,h.S,A._,M.f,N.R,Q.V,Z.K,B.p6,f.ZT3,D.e,f.y1f,v.D,d.Nd],encapsulation:2})}return e})(),canActivate:[s.a1M,s.nG9]}];let V=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(j),l.Bz]})}return e})();var Y=i(5533);let R=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[d.ez,V,T.m,Y.P,v.D]})}return e})()}}]);