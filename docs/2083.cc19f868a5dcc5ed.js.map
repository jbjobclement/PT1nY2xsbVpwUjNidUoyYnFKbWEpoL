{"version":3,"file":"2083.cc19f868a5dcc5ed.js","mappings":"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","names":["i0","now","Date","oneMonthAgo","getFullYear","getMonth","getDate","HostDashboardComponent","constructor","this","fb","inject","FormBuilder","toDate","fromDate","formFilters","group","times","ngAfterViewInit","refresh","value","startDate","convertToString","endDate","errorRateWidget","draw","averageExecutionDurationWidget","editionsUsageWidget","latestTenantsWidget","toLocalISOString","static","t","core","Xpm","selectors","viewQuery","rf","ctx","provide","NgbDateAdapter","useClass","NgbDateNativeAdapter","decls","vars","consts","template","HostDashboardComponent_div_16_Template","HostDashboardComponent_div_17_Template","HostDashboardComponent_div_18_Template","HostDashboardComponent_div_19_Template","TenantDashboardComponent","ngOnDestroy","routes","path","component","DashboardComponent","DashboardComponent_app_host_dashboard_0_Template","DashboardComponent_app_tenant_dashboard_1_Template","DashboardRoutingModule","oAB","cJS","RouterModule","forChild","DashboardModule","SharedModule","NgbDatepickerModule","AuditLoggingModule","SaasModule","PageModule","DateRangePickerModule","ReactiveFormsModule"],"sourceRoot":"webpack:///","sources":["./src/app/dashboard/host-dashboard/host-dashboard.component.html","./src/app/dashboard/host-dashboard/host-dashboard.component.ts","./src/app/dashboard/tenant-dashboard/tenant-dashboard.component.ts","./src/app/dashboard/tenant-dashboard/tenant-dashboard.component.html","./src/app/dashboard/dashboard.component.ts","./src/app/dashboard/dashboard-routing.module.ts","./src/app/dashboard/dashboard.module.ts"],"sourcesContent":["<abp-page [title]=\"'::Menu:Dashboard' | abpLocalization\">\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <form [formGroup]=\"formFilters\" (ngSubmit)=\"refresh()\"> \r\n        <div id=\"datepicker\" class=\"input-daterange row align-items-center justify-content-center\">\r\n          <div class=\"col-12 col-lg-auto col-md-6 mb-3 mb-lg-0\">\r\n            <abp-date-range-picker\r\n              formControlName=\"times\"\r\n              id=\"times\"\r\n              [labelText]=\"'::Date' | abpLocalization\"\r\n              startDateProp=\"fromDate\"\r\n              endDateProp=\"toDate\"\r\n            >\r\n            </abp-date-range-picker>\r\n          </div>\r\n          <div class=\"col-12 col-lg-2 col-md-12\">\r\n            <button type=\"submit\" class=\"btn btn-primary btn-block\">\r\n              <span>{{ 'AbpAuditLogging::Refresh' | abpLocalization }}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n\r\n  <div id=\"DashboardWidgetsArea\">\r\n    <div class=\"row\">\r\n      <div class=\"col col-md-12 col-lg-6\" *abpPermission=\"'AuditLogging.AuditLogs'\">\r\n        <abp-error-rate-widget #errorRateWidget [height]=\"250\"></abp-error-rate-widget>\r\n      </div>\r\n\r\n      <div class=\"col col-md-12 col-lg-6\" *abpPermission=\"'AuditLogging.AuditLogs'\">\r\n        <abp-average-execution-duration-widget\r\n          #averageExecutionDurationWidget\r\n          [height]=\"250\"\r\n        ></abp-average-execution-duration-widget>\r\n      </div>\r\n\r\n      <div class=\"col col-md-12 col-lg-6\" *abpPermission=\"'Saas.Tenants'\">\r\n        <abp-editions-usage-widget #editionsUsageWidget [height]=\"250\"></abp-editions-usage-widget>\r\n      </div>\r\n\r\n      <div class=\"col col-md-12 col-lg-6\" *abpPermission=\"'Saas.Tenants'\">\r\n        <abp-latest-tenants-widget\r\n          #latestTenantsWidget\r\n          [minHeight]=\"250\"\r\n        ></abp-latest-tenants-widget>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</abp-page>\r\n","import { AfterViewInit, Component, ViewChild, inject } from '@angular/core';\r\nimport {\r\n  AverageExecutionDurationWidgetComponent,\r\n  ErrorRateWidgetComponent,\r\n} from '@volo/abp.ng.audit-logging';\r\nimport { EditionsUsageWidgetComponent, LatestTenantsWidgetComponent } from '@volo/abp.ng.saas';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { NgbDateAdapter, NgbDateNativeAdapter } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nconst now = new Date();\r\nconst oneMonthAgo = new Date(now.getFullYear(), now.getMonth() - 1, now.getDate());\r\n\r\n@Component({\r\n  selector: 'app-host-dashboard',\r\n  templateUrl: './host-dashboard.component.html',\r\n  styleUrls: ['./host-dashboard.component.scss'],\r\n  providers: [{ provide: NgbDateAdapter, useClass: NgbDateNativeAdapter }],\r\n})\r\nexport class HostDashboardComponent implements AfterViewInit {\r\n  fb = inject(FormBuilder);\r\n\r\n  @ViewChild('errorRateWidget', { static: false })\r\n  errorRateWidget: ErrorRateWidgetComponent;\r\n\r\n  @ViewChild('averageExecutionDurationWidget', { static: false })\r\n  averageExecutionDurationWidget: AverageExecutionDurationWidgetComponent;\r\n\r\n  @ViewChild('editionsUsageWidget', { static: false })\r\n  editionsUsageWidget: EditionsUsageWidgetComponent;\r\n\r\n  @ViewChild('latestTenantsWidget', { static: false })\r\n  latestTenantsWidget: LatestTenantsWidgetComponent;\r\n\r\n  toDate = now\r\n  fromDate = oneMonthAgo;\r\n\r\n  formFilters = this.fb.group({\r\n    times: [\r\n      {\r\n        fromDate: this.fromDate,\r\n        toDate: this.toDate,\r\n      },\r\n    ],\r\n  });\r\n\r\n  ngAfterViewInit() {\r\n    this.refresh();\r\n  }\r\n\r\n  refresh() {\r\n    const {fromDate,toDate} = {\r\n      ...this.formFilters.value.times,\r\n    };\r\n  \r\n    const startDate = this.convertToString(fromDate);\r\n    const endDate = this.convertToString(toDate);\r\n    this.errorRateWidget?.draw({ startDate, endDate });\r\n    this.averageExecutionDurationWidget?.draw({ startDate, endDate });\r\n    this.editionsUsageWidget?.draw();\r\n    this.latestTenantsWidget?.draw();\r\n  }\r\n  private convertToString(value: Date): string {\r\n    return value.toLocalISOString();\r\n  }\r\n}\r\n","import { Component, OnDestroy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-tenant-dashboard',\r\n  templateUrl: './tenant-dashboard.component.html',\r\n  styleUrls: ['./tenant-dashboard.component.scss'],\r\n})\r\nexport class TenantDashboardComponent implements OnDestroy {\r\n\r\n  ngOnDestroy(): void {}\r\n}\r\n","<div class=\"row entry-row\">\r\n  <div class=\"col\">\r\n    <div class=\"card\">\r\n      <div class=\"card-body\">\r\n        Add your Tenant related charts/widgets to this page !\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  template: `\r\n    <app-host-dashboard *abpPermission=\"'JbNotifier.Dashboard.Host'\"></app-host-dashboard>\r\n    <app-tenant-dashboard *abpPermission=\"'JbNotifier.Dashboard.Tenant'\"></app-tenant-dashboard>\r\n  `,\r\n})\r\nexport class DashboardComponent {}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DashboardComponent } from './dashboard.component';\r\n\r\nconst routes: Routes = [{ path: '', component: DashboardComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DashboardRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { NgbDatepickerModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AuditLoggingModule } from '@volo/abp.ng.audit-logging';\r\nimport { PageModule } from '@abp/ng.components/page';\r\nimport { SaasModule } from '@volo/abp.ng.saas';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { DashboardRoutingModule } from './dashboard-routing.module';\r\nimport { DashboardComponent } from './dashboard.component';\r\nimport { HostDashboardComponent } from './host-dashboard/host-dashboard.component';\r\nimport { TenantDashboardComponent } from './tenant-dashboard/tenant-dashboard.component';\r\nimport { DateRangePickerModule } from '@volo/abp.commercial.ng.ui';\r\nimport { PermissionDirective } from '@abp/ng.core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [DashboardComponent, HostDashboardComponent, TenantDashboardComponent],\r\n  imports: [\r\n    SharedModule,\r\n    DashboardRoutingModule,\r\n    NgbDatepickerModule,\r\n    AuditLoggingModule,\r\n    SaasModule,\r\n    PageModule,\r\n    DateRangePickerModule,\r\n    PermissionDirective,\r\n    ReactiveFormsModule,\r\n  ],\r\n})\r\nexport class DashboardModule {}\r\n"],"x_google_ignoreList":[]}