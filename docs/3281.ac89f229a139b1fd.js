"use strict";(self.webpackChunkJbNotifier=self.webpackChunkJbNotifier||[]).push([[3281],{3281:(V,g,n)=>{n.r(g),n.d(g,{ReceiversModule:()=>Y});var s=n(96814),y=n(31610),l=n(88762),m=n(23758),d=n(35461);const S=[{name:"tenantName",caption:"\u79df\u6236\u540d\u7a31",dataType:"string",filterOperations:d.I$.text},{name:"subTenantName",caption:"\u5b50\u79df\u6236\u540d\u7a31",dataType:"string",filterOperations:d.I$.text},{name:"outerId",caption:"\u63a5\u6536\u8005\u5916\u90e8Id",dataType:"string",filterOperations:d.I$.text},{name:"receiverName",caption:"\u63a5\u6536\u8005\u540d\u7a31",dataType:"string",filterOperations:d.I$.text}],u={index:"/api/app/jbnotifier-admin/receivers",get:"",create:"",update:"",delete:""},T=[{dataField:"outerId",path:"",pathForSelectedDisplay:""},{dataField:"subTenantId",path:"",pathForSelectedDisplay:""}],f=[{name:"tenantName",queryStringKey:"TenantName",mapping:["tenant","name"]},{name:"subTenantName",queryStringKey:"SubTenantName",mapping:["subTenant","name"]},{name:"outerId",queryStringKey:"OuterId",mapping:["receiver","outerId"]},{name:"receiverName",queryStringKey:"Name",mapping:["receiver","name"]}],v=[{dataField:"outerId",editorType:"dxSelectBox",colSpan:1},{dataField:"name",editorType:"dxTextBox",colSpan:1},{dataField:"subTenantId",editorType:"dxSelectBox",colSpan:1}],x={popup:{title:"::",toolbarItems:[{toolbar:"bottom",template:"bottom-toolbar"}]},form:{colCount:2,items:v}},F={popup:{title:"::",toolbarItems:[{toolbar:"bottom",template:"bottom-toolbar"}]},form:{colCount:2,items:v}};var e=n(19212),C=n(67),I=n(72783),R=n(59444),P=n(13443),b=n(65343),O=n(25659),M=n(20843),N=n(25012),h=n(12305),Q=n(21194);const D=["grid"];function J(t,p){if(1&t&&e._UZ(0,"app-grid-popup-bottom-toolbar",6),2&t){e.oxw();const a=e.MAs(4);e.Q6J("grid",a)}}function U(t,p){1&t&&e.GkF(0)}const A=t=>({$implicit:t});function B(t,p){if(1&t&&(e.ynx(0),e.YNc(1,U,1,0,"ng-container",8),e.BQk()),2&t){const a=p.$implicit,i=e.oxw().$implicit,o=e.oxw();e.xp6(),e.Q6J("ngTemplateOutlet",o.templateStore.getGridTemplates(i.key))("ngTemplateOutletContext",e.VKq(2,A,a))}}function K(t,p){if(1&t&&(e.ynx(0),e.YNc(1,B,2,4,"ng-container",7),e.BQk()),2&t){const a=p.$implicit;e.xp6(),e.Q6J("dxTemplateOf",a.key)}}const $=[{path:"",component:(()=>{class t{constructor(a,i,o,r){this.gridDataSourceService=a,this.templateStore=i,this.tenantChooser=o,this.configStateService=r,this.columns=S,this.cRUDEndpoints=u,this.dataFieldLookupSourceMapping=T,this.relatedDataValueAndQueryStringKeyMapping=f,this.editingPropertiesForCreating=x,this.editingPropertiesForUpdating=F,this.properties={editing:{allowUpdating:!1,allowDeleting:!1}},this.configStateService.getOne$("currentUser").subscribe(c=>{c.tenantId&&(this.columns[0].visible=!1)}),this.tenantChooser.tenantId$.subscribe(c=>{this.grid?.instance?.refresh()})}ngOnInit(){this.gridDataSource=this.gridDataSourceService.getDataSource(u,f)}onRowPrepared(a){a.rowElement.style.height="41.333px"}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(C.I),e.Y36(I.z),e.Y36(R.L),e.Y36(l.XJE))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-receivers"]],viewQuery:function(i,o){if(1&i&&e.Gf(D,5),2&i){let r;e.iGM(r=e.CRH())&&(o.grid=r.first)}},decls:9,vars:14,consts:[[1,"custom-grid-container"],[3,"grid","hideCreateBtn"],["appGridFeature","","appGridFeatureNotification","",3,"datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","editingPropertiesForCreating","editingPropertiesForUpdating","columns","dataSource","gridProperties","onRowPrepared"],["grid",""],[3,"grid",4,"dxTemplate","dxTemplateOf"],[4,"ngFor","ngForOf"],[3,"grid"],[4,"dxTemplate","dxTemplateOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){if(1&i&&(e.TgZ(0,"div",0),e._UZ(1,"app-tenant-chooser")(2,"app-grid-tool-bar",1),e.TgZ(3,"dx-data-grid",2,3),e.NdJ("onRowPrepared",function(c){return o.onRowPrepared(c)}),e.YNc(5,J,1,1,"app-grid-popup-bottom-toolbar",4)(6,K,2,1,"ng-container",5),e.ALo(7,"keyvalue"),e.qZA(),e._UZ(8,"app-notification-pager",6),e.qZA()),2&i){const r=e.MAs(4);e.xp6(2),e.Q6J("grid",r)("hideCreateBtn",!0),e.xp6(),e.Q6J("datafieldValueQueryStringKeyMapping",o.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",o.dataFieldLookupSourceMapping)("editingPropertiesForCreating",o.editingPropertiesForCreating)("editingPropertiesForUpdating",o.editingPropertiesForUpdating)("columns",o.columns)("dataSource",o.gridDataSource)("gridProperties",o.properties),e.xp6(2),e.Q6J("dxTemplateOf","bottom-toolbar"),e.xp6(),e.Q6J("ngForOf",e.lcZ(7,12,o.templateStore.gridTemplates)),e.xp6(2),e.Q6J("grid",r)}},dependencies:[s.sg,s.tP,P._,b.f,O.l,M.p6,N.e,h.D,Q.D,s.Nd],encapsulation:2})}return t})(),canActivate:[l.a1M,l.nG9]}];let Z=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[m.Bz.forChild($),m.Bz]})}return t})();var G=n(5533),L=n(41992);let Y=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[s.ez,Z,y.m,G.P,h.D,L.e]})}return t})()}}]);