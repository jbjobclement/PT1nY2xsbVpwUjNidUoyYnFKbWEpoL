"use strict";(self.webpackChunkJbNotifier=self.webpackChunkJbNotifier||[]).push([[94375],{94375:(M,l,c)=>{c.r(l),c.d(l,{CronTestingModule:()=>A});var a=c(96814),h=c(31610),u=c(88762),p=c(23758),e=c(19212),x=c(9135);const C=[{path:"",component:(()=>{class o{constructor(){this.cronExpression="*/15 * * * 1-5",this.expressionInfos=[{name:"\u6e2c\u8a66\u81ea\u8a02\u6bcf\u6708",cronExpression:"* * * * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6e2c\u8a66\u81ea\u8a02\u8907\u6578\u6708",cronExpression:"* * * 1,2,3 *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6e2c\u8a66\u81ea\u8a02\u55ae\u9078\u6708",cronExpression:"* * * 3 *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6e2c\u8a66\u81ea\u8a02\u55ae\u6708\u983b\u7387",cronExpression:"* * * */3 *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6e2c\u8a66\u81ea\u8a02\u6bcf\u5c0f\u6642",cronExpression:"* * * * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6e2c\u8a66\u81ea\u8a02\u8907\u6578\u5c0f\u6642",cronExpression:"* 0,1,2 * * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6e2c\u8a66\u81ea\u8a02\u55ae\u9078\u5c0f\u6642",cronExpression:"* 12 * * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6e2c\u8a66\u81ea\u8a02\u55ae\u5c0f\u6642\u983b\u7387",cronExpression:"* */3 * * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6e2c\u8a66\u81ea\u8a02\u6bcf\u5206\u9418",cronExpression:"* * * * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6e2c\u8a66\u81ea\u8a02\u8907\u6578\u5206\u9418",cronExpression:"0,1,2 * * * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6e2c\u8a66\u81ea\u8a02\u55ae\u9078\u5206\u9418",cronExpression:"12 * * * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6e2c\u8a66\u81ea\u8a02\u5206\u9418\u983b\u7387",cronExpression:"*/3 * * * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6bcf\u5929",cronExpression:"* * * * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6708\u6bcf\u9694\u5e7e\u5929",cronExpression:"* * */10 * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u661f\u671f\u6bcf\u9694\u5e7e\u5929",cronExpression:"* * * * */3",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6307\u5b9a\u6708\u65e5\u55ae\u9078",cronExpression:"* * 11 * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6307\u5b9a\u6708\u65e5\u8907\u9078",cronExpression:"* * 11,20,23 * *",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6307\u5b9a\u9031\u65e5\u8907\u9078",cronExpression:"* * * * 0,2,3,5",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{name:"\u6307\u5b9a\u9031\u65e5\u55ae\u9078",cronExpression:"* * * * 0",expectedEndTime:null,expectedPushCount:0,cronDescription:"\u63cf\u8ff0 1"},{cronExpression:"1 1 1,2,3 * *",expectedEndTime:"2024-06-01T14:30:00",cronDescription:"\u63cf\u8ff0 1 - 1"}],this.selected=["1","1-1-1","2-1"],this.dataSource=[{id:"1",name:"1"},{id:"1-1",name:"1-1",parentId:"1"},{id:"1-1-1",name:"1-1-1",parentId:"1-1"},{id:"1-1-2",name:"1-1-2",parentId:"1-1"},{id:"2",name:"2"},{id:"2-1",name:"2-1",parentId:"2"},{id:"2-1-1",name:"2-1-1",parentId:"2-1"},{id:"2-1-2",name:"2-1-2",parentId:"2-1"},{id:"2-1-3",name:"2-1-3",parentId:"2-1"}]}onExpressionsChange(n){console.log("expressions"),console.log(n)}selectedChange(n){this.selected=n}static#e=this.\u0275fac=function(t){return new(t||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-customize-tenants"]],decls:1,vars:1,consts:[[3,"expressionInfos","expressionsChange"]],template:function(t,s){1&t&&(e.TgZ(0,"app-cron-expression-generator",0),e.NdJ("expressionsChange",function(r){return s.onExpressionsChange(r)}),e.qZA()),2&t&&e.Q6J("expressionInfos",s.expressionInfos)},dependencies:[x.D],encapsulation:2})}return o})(),canActivate:[u.a1M,u.nG9]}];let f=(()=>{class o{static#e=this.\u0275fac=function(t){return new(t||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(C),p.Bz]})}return o})();var g=c(60752),v=c(5533);const m=(o,d)=>{if(void 0===d)return[];const n=[];return function t(s){o.filter(r=>r.parentId===s).forEach(r=>{n.push(r.id),t(r.id)})}(d),n};var S=c(16358),I=c(95051),w=c(98179),D=c(20843),V=c(4050),b=c(37072),J=c(21137);const N=["tree"];function B(o,d){if(1&o){const n=e.EpF();e.TgZ(0,"dx-tree-view",8,9),e.NdJ("onItemSelectionChanged",function(s){e.CHM(n);const i=e.oxw(2);return e.KtG(i.onItemSelectionChanged(s))}),e.qZA()}if(2&o){const n=e.oxw(2);e.Q6J("dataSource",n._dataSource)("selectNodesRecursive",!1)}}function P(o,d){if(1&o){const n=e.EpF();e.TgZ(0,"dx-scroll-view")(1,"div",3)(2,"div",4)(3,"dx-button",5),e.NdJ("onClick",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.restore())}),e.qZA()(),e.TgZ(4,"dx-check-box",6),e.NdJ("onValueChanged",function(s){e.CHM(n);const i=e.oxw();return e.KtG(i.onCustomSelectNodesRecursiveChanged(s))}),e.qZA(),e.TgZ(5,"span"),e._uU(6,"\u5b50\u9805\u76ee\u9023\u52d5"),e.qZA()(),e.YNc(7,B,2,2,"dx-tree-view",7),e.qZA()}if(2&o){const n=e.oxw();e.xp6(4),e.Q6J("value",n.customSelectNodesRecursive),e.xp6(3),e.Q6J("ngIf",n.popupVisible)}}function R(o,d){if(1&o){const n=e.EpF();e.TgZ(0,"div")(1,"dx-button",10),e.NdJ("onClick",function(){e.CHM(n);const s=e.oxw();return e.KtG(s.onConfirm())}),e.qZA()()}}let y=(()=>{class o{constructor(){this.customSelectNodesRecursive=!0,this.tagBoxSelected=[],this.treeViewselected=[],this._originSelected=[],this._dataSource=[],this.selected=[],this.dataSource=[],this.isViewMode=!1,this.selectedChange=new e.vpe,this.popupVisible=!1,this.popupButtonToolBars=[{toolbar:"bottom",template:"bottom-toolbar",location:"after"}],this.onCustomSelectNodesRecursiveChanged=n=>{this.customSelectNodesRecursive=n.value},this.restore=()=>{const n=this.customSelectNodesRecursive;this.customSelectNodesRecursive=!1,this.tree.instance.unselectAll(),this._originSelected.forEach(t=>{this.tree.instance.selectItem(t)}),this.customSelectNodesRecursive=n},this.onTagBoxFocusIn=()=>{const n=function T(o){const d=new Set;return o.filter(t=>!t.parentId).forEach(function n(t){if(t.selected){let i=t.parentId;for(;i;)d.add(i),i=o.find(r=>r.id===i)?.parentId}o.filter(i=>i.parentId===t.id).forEach(n)}),Array.from(d)}(this._dataSource);((o,d)=>{this._dataSource.forEach(n=>{const t=void 0!==d.find(s=>s===n.id);n.expanded=t})})(0,n),this.popupVisible=!0}}ngOnChanges(n){n.selected&&(this.treeViewselected=this.selected?.map(t=>t),this.tagBoxSelected=this.selected?.map(t=>t),this._originSelected=this.selected?[...this.selected]:[]),n.dataSource&&(this._dataSource=((o,d)=>this.dataSource.map(t=>{const s=void 0!==d?.find(i=>i===t.id);return d?.find(i=>i===t.id)?{...t,selected:s}:t}))(0,this.selected),this._originSelected=this.selected?[...this.selected]:[])}onItemSelectionChanged(n){if(this.customSelectNodesRecursive&&!0===n.itemData?.selected){const t=n.itemData?.id;m(this.dataSource,t).forEach(i=>{this.tree.instance.selectItem(i)})}if(this.customSelectNodesRecursive&&!1===n.itemData?.selected){const t=n.itemData?.id;m(this.dataSource,t).forEach(i=>{this.tree.instance.unselectItem(i)})}this.treeViewselected=this._dataSource.filter(t=>t.selected).map(t=>t.id)}onConfirm(){this.tagBoxSelected=this.treeViewselected.map(n=>n),this.popupVisible=!1,this.selectedChange.emit(this.treeViewselected)}onTagBoxSelectionChanged(n){if(n.removedItems.length){const t=n.removedItems.map(s=>s.id);this.treeViewselected=this.treeViewselected.filter(s=>void 0===t.find(i=>s===i)),this._dataSource.forEach(s=>{t.find(r=>s.id===r)&&(s.selected=!1)}),setTimeout(()=>this.selectedChange.emit(this.treeViewselected))}!n.removedItems?.length&&this.treeViewselected?.length&&setTimeout(()=>this.selectedChange.emit(this.treeViewselected))}static#e=this.\u0275fac=function(t){return new(t||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-jb-tree-view"]],viewQuery:function(t,s){if(1&t&&e.Gf(N,5),2&t){let i;e.iGM(i=e.CRH())&&(s.tree=i.first)}},inputs:{selected:"selected",dataSource:"dataSource",isViewMode:"isViewMode"},outputs:{selectedChange:"selectedChange"},standalone:!0,features:[e.TTD,e.jDz],decls:4,vars:11,consts:[["valueExpr","id","displayExpr","name","placeholder","\u9078\u64c7...",3,"value","dataSource","openOnFieldClick","multiline","disabled","showDropDownButton","valueChange","onSelectionChanged","onFocusIn"],["contentTemplate","contentTemplate","width","35%","minWidth","300px",3,"toolbarItems","visible","showTitle"],[4,"dxTemplate","dxTemplateOf"],[1,"d-flex","align-items-center","mb-1"],[1,"me-1"],["type","default","text","\u5fa9\u539f",3,"onClick"],[3,"value","onValueChanged"],["dataStructure","plain","keyExpr","id","displayExpr","name","parentIdExpr","parentId","selectionMode","multiple","showCheckBoxesMode","normal",3,"dataSource","selectNodesRecursive","onItemSelectionChanged",4,"ngIf"],["dataStructure","plain","keyExpr","id","displayExpr","name","parentIdExpr","parentId","selectionMode","multiple","showCheckBoxesMode","normal",3,"dataSource","selectNodesRecursive","onItemSelectionChanged"],["tree",""],["text","\u78ba\u5b9a",3,"onClick"]],template:function(t,s){1&t&&(e.TgZ(0,"dx-tag-box",0),e.NdJ("valueChange",function(r){return s.tagBoxSelected=r})("onSelectionChanged",function(r){return s.onTagBoxSelectionChanged(r)})("onFocusIn",function(){return s.onTagBoxFocusIn()}),e.qZA(),e.TgZ(1,"dx-popup",1),e.YNc(2,P,8,2,"dx-scroll-view",2)(3,R,2,0,"div",2),e.qZA()),2&t&&(e.Q6J("value",s.tagBoxSelected)("dataSource",s._dataSource)("openOnFieldClick",!1)("multiline",!0)("disabled",s.isViewMode)("showDropDownButton",!0),e.xp6(),e.Q6J("toolbarItems",s.popupButtonToolBars)("visible",s.popupVisible)("showTitle",!1),e.xp6(),e.Q6J("dxTemplateOf","contentTemplate"),e.xp6(),e.Q6J("dxTemplateOf","bottom-toolbar"))},dependencies:[v.P,S.K,D.p6,I.u,w.x,V.U,b.N,J.v,a.ez,a.O5]})}return o})(),A=(()=>{class o{static#e=this.\u0275fac=function(t){return new(t||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[a.ez,f,h.m,g.j,y]})}return o})()}}]);