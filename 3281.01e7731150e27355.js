"use strict";(self.webpackChunkJbNotifier=self.webpackChunkJbNotifier||[]).push([[3281],{3281:(Y,s,n)=>{n.r(s),n.d(s,{ReceiversModule:()=>$});var d=n(96814),h=n(31610),c=n(88762),l=n(23758),g=n(35461);const y=[{name:"tenantName",caption:"\u79df\u6236\u540d\u7a31",dataType:"string",filterOperations:g.I$.text},{name:"subTenantName",caption:"\u5b50\u79df\u6236\u540d\u7a31",dataType:"string"},{name:"outerId",caption:"\u63a5\u6536\u8005\u5916\u90e8Id",dataType:"string",filterOperations:g.I$.text},{name:"receiverName",caption:"\u63a5\u6536\u8005\u540d\u7a31",dataType:"string"}],m={index:"/api/app/jbnotifier-admin/receivers",get:"",create:"",update:"",delete:""},S=[{dataField:"outerId",path:"",pathForSelectedDisplay:""},{dataField:"subTenantId",path:"",pathForSelectedDisplay:""}],u=[{name:"tenantName",queryStringKey:"TenantName",mapping:["tenant","name"]},{name:"subTenantName",queryStringKey:"SubTenantName",mapping:["subTenant","name"]},{name:"outerId",queryStringKey:"OuterId",mapping:["receiver","outerId"]},{name:"receiverName",queryStringKey:"Name",mapping:["receiver","name"]}],f=[{dataField:"outerId",editorType:"dxSelectBox",colSpan:1},{dataField:"name",editorType:"dxTextBox",colSpan:1},{dataField:"subTenantId",editorType:"dxSelectBox",colSpan:1}],T={popup:{title:"::",toolbarItems:[{toolbar:"bottom",template:"bottom-toolbar"}]},form:{colCount:2,items:f}},F={popup:{title:"::",toolbarItems:[{toolbar:"bottom",template:"bottom-toolbar"}]},form:{colCount:2,items:f}};var e=n(19212),x=n(67),C=n(72783),R=n(59444),I=n(13443),P=n(65343),M=n(25659),N=n(20843),Q=n(25012),v=n(12305),D=n(21194);const b=["grid"];function O(t,p){if(1&t&&e._UZ(0,"app-grid-popup-bottom-toolbar",6),2&t){e.oxw();const i=e.MAs(4);e.Q6J("grid",i)}}function J(t,p){1&t&&e.GkF(0)}const U=t=>({$implicit:t});function A(t,p){if(1&t&&(e.ynx(0),e.YNc(1,J,1,0,"ng-container",8),e.BQk()),2&t){const i=p.$implicit,o=e.oxw().$implicit,a=e.oxw();e.xp6(),e.Q6J("ngTemplateOutlet",a.templateStore.getGridTemplates(o.key))("ngTemplateOutletContext",e.VKq(2,U,i))}}function B(t,p){if(1&t&&(e.ynx(0),e.YNc(1,A,2,4,"ng-container",7),e.BQk()),2&t){const i=p.$implicit;e.xp6(),e.Q6J("dxTemplateOf",i.key)}}const K=[{path:"",component:(()=>{class t{constructor(i,o,a){this.gridDataSourceService=i,this.templateStore=o,this.tenantChooser=a,this.columns=y,this.cRUDEndpoints=m,this.dataFieldLookupSourceMapping=S,this.relatedDataValueAndQueryStringKeyMapping=u,this.editingPropertiesForCreating=T,this.editingPropertiesForUpdating=F,this.properties={editing:{allowUpdating:!1,allowDeleting:!1}},this.tenantChooser.tenantId$.subscribe(r=>{this.grid?.instance?.refresh()})}ngOnInit(){this.gridDataSource=this.gridDataSourceService.getDataSource(m,u)}onRowPrepared(i){i.rowElement.style.height="41.333px"}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(x.I),e.Y36(C.z),e.Y36(R.L))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-receivers"]],viewQuery:function(o,a){if(1&o&&e.Gf(b,5),2&o){let r;e.iGM(r=e.CRH())&&(a.grid=r.first)}},decls:9,vars:14,consts:[[1,"custom-grid-container"],[3,"grid","hideCreateBtn"],["appGridFeature","","appGridFeatureNotification","",3,"datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","editingPropertiesForCreating","editingPropertiesForUpdating","columns","dataSource","gridProperties","onRowPrepared"],["grid",""],[3,"grid",4,"dxTemplate","dxTemplateOf"],[4,"ngFor","ngForOf"],[3,"grid"],[4,"dxTemplate","dxTemplateOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-tenant-chooser")(2,"app-grid-tool-bar",1),e.TgZ(3,"dx-data-grid",2,3),e.NdJ("onRowPrepared",function(V){return a.onRowPrepared(V)}),e.YNc(5,O,1,1,"app-grid-popup-bottom-toolbar",4)(6,B,2,1,"ng-container",5),e.ALo(7,"keyvalue"),e.qZA(),e._UZ(8,"app-notification-pager",6),e.qZA()),2&o){const r=e.MAs(4);e.xp6(2),e.Q6J("grid",r)("hideCreateBtn",!0),e.xp6(),e.Q6J("datafieldValueQueryStringKeyMapping",a.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",a.dataFieldLookupSourceMapping)("editingPropertiesForCreating",a.editingPropertiesForCreating)("editingPropertiesForUpdating",a.editingPropertiesForUpdating)("columns",a.columns)("dataSource",a.gridDataSource)("gridProperties",a.properties),e.xp6(2),e.Q6J("dxTemplateOf","bottom-toolbar"),e.xp6(),e.Q6J("ngForOf",e.lcZ(7,12,a.templateStore.gridTemplates)),e.xp6(2),e.Q6J("grid",r)}},dependencies:[d.sg,d.tP,I._,P.f,M.l,N.p6,Q.e,v.D,D.D,d.Nd],encapsulation:2})}return t})(),canActivate:[c.a1M,c.nG9]}];let Z=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[l.Bz.forChild(K),l.Bz]})}return t})();var G=n(5533),L=n(41992);let $=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.oAB({type:t});static#n=this.\u0275inj=e.cJS({imports:[d.ez,Z,h.m,G.P,v.D,L.e]})}return t})()}}]);