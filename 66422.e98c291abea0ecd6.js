"use strict";(self.webpackChunkJbNotifier=self.webpackChunkJbNotifier||[]).push([[66422],{66422:(w,r,i)=>{i.r(r),i.d(r,{PendingNotificationsModule:()=>k});var d=i(96814),h=i(31610),l=i(88762),c=i(23758),T=i(35461),v=i(93116);const S=[{type:"buttons",fixed:!0,buttons:[{name:"edit",template:"grid-edit-button"}]},{dataField:"id",visible:!1},{dataField:"concurrencyStamp",visible:!1},{name:"tenantName",caption:"\u79df\u6236\u540d\u7a31",dataType:"string",filterOperations:T.I.text},{dataField:"isModifiedWhenPending",caption:"\u7b49\u5019\u4e2d\u4fee\u6539 (\u662f/\u5426)",dataType:"boolean"},{name:"expectedPushTime",caption:"\u9810\u8a08\u63a8\u9001\u6642\u9593",dataType:"datetime",calculateDisplayValue:e=>(0,v.m)(e.expectedPushTime)},{name:"receiverName",caption:"\u63a5\u6536\u8005\u540d\u7a31",dataType:"string"},{name:"category",caption:"\u5206\u985e",dataType:"string"},{dataField:"title",caption:"\u6a19\u984c",dataType:"string"},{dataField:"subtitle",caption:"\u5b50\u6a19\u984c",dataType:"string"},{dataField:"textContent",caption:"\u7d14\u6587\u5b57\u5167\u5bb9",dataType:"string",cellTemplate:"text-content-viewer"},{dataField:"htmlContent",caption:"Html\u5167\u5bb9",dataType:"string",cellTemplate:"html-content-viewer"},{name:"hookEndpoint",caption:"Hook Endpoint",dataType:"string"},{dataField:"filePaths",dataType:"string",visible:!1},{dataField:"hyperlink",dataType:"string",visible:!1}],s={index:"/api/app/jbnotifier-admin/pending-notifications",get:"/api/app/jbnotifier-admin/pending-notifications",create:"/api/app/jbnotifier-admin/pending-notifications",update:"/api/app/jbnotifier-admin/pending-notifications",delete:"/api/app/jbnotifier-admin/pending-notifications"},F=[],g=[{dataField:"id",mapping:["pendingNotification","id"]},{dataField:"concurrencyStamp",mapping:["pendingNotification","concurrencyStamp"]},{name:"tenantName",mapping:["tenant","name"],queryStringKey:"TenantName"},{dataField:"isModifiedWhenPending",mapping:["pendingNotification","isModifiedWhenPending"],queryStringKey:"IsModifiedWhenPending"},{name:"expectedPushTime",mapping:["notificationSchedulePlan","nextExpectedPushTime"],queryStringKey:"ExpectedPushTime"},{name:"receiverName",mapping:["receiver","name"],queryStringKey:"ReceiverName"},{name:"category",queryStringKey:"NotificationCategoryName",mapping:["notificationCategory","name"]},{dataField:"title",queryStringKey:"Title",mapping:["pendingNotification","title"]},{dataField:"subtitle",queryStringKey:"Subtitle",mapping:["pendingNotification","subtitle"]},{dataField:"textContent",queryStringKey:"TextContent",mapping:["pendingNotification","textContent"]},{dataField:"htmlContent",queryStringKey:"HtmlContent",mapping:["pendingNotification","htmlContent"]},{dataField:"concurrencyStamp",queryStringKey:"ConcurrencyStamp",mapping:["pendingNotification","concurrencyStamp"]},{name:"hookEndpoint",queryStringKey:"HookEndpoint",mapping:["pendingNotification","hookEndpoint"]},{name:"filePaths",queryStringKey:"FilePaths",mapping:["pendingNotification","filePaths"]},{name:"hyperlink",queryStringKey:"Hyperlink",mapping:["pendingNotification","hyperlink"]}],m=[{dataField:"title",editorType:"dxTextBox",colSpan:1},{dataField:"subtitle",editorType:"dxTextBox",colSpan:1},{dataField:"textContent",editorType:"dxTextBox",colSpan:1},{dataField:"filePaths",editorType:"dxTextBox"},{dataField:"hyperlink",editorType:"dxTextBox"},{itemType:"empty"},{dataField:"htmlContent",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{...i(35130).W,height:"250px"}}],N={popup:{title:"::"},form:{colCount:2,items:m}},C={popup:{title:"::"},form:{colCount:2,items:m}};var t=i(19212),M=i(67),Q=i(72783),K=i(44347),O=i(10313),B=i(20843),u=i(2173),J=i(25012),f=i(89267),y=i(33630);const U=["grid"];function Z(e,p){if(1&e&&t._UZ(0,"app-text-content-viewer",8),2&e){const n=p.$implicit;t.Q6J("simplifiedText",n.value)("url","/api/app/grouping-notification-push-logs/text-contents/"+(null==n.data?null:n.data.id))}}function A(e,p){if(1&e&&t._UZ(0,"app-html-content-viewer",8),2&e){const n=p.$implicit;t.Q6J("simplifiedText",n.value)("url","/api/app/grouping-notification-push-logs/html-contents/"+(null==n.data?null:n.data.id))}}function D(e,p){if(1&e&&t._UZ(0,"app-grid-general-filter",9),2&e){t.oxw();const n=t.MAs(1);t.Q6J("grid",n)}}function E(e,p){1&e&&t.GkF(0)}const I=e=>({$implicit:e});function $(e,p){if(1&e&&(t.ynx(0),t.YNc(1,E,1,0,"ng-container",11),t.BQk()),2&e){const n=p.$implicit,a=t.oxw().$implicit,o=t.oxw();t.xp6(),t.Q6J("ngTemplateOutlet",o.templateStore.getGridTemplates(a.key))("ngTemplateOutletContext",t.VKq(2,I,n))}}function b(e,p){if(1&e&&(t.ynx(0),t.YNc(1,$,2,4,"ng-container",10),t.BQk()),2&e){const n=p.$implicit;t.xp6(),t.Q6J("dxTemplateOf",n.key)}}const j=()=>({type:"default",stylingMode:"contained"}),H=[{path:"",component:(()=>{class e{constructor(n,a){this.gridDataSourceService=n,this.templateStore=a,this.gridProperties={editing:{allowAdding:!1}},this.columns=S,this.cRUDEndpoints=s,this.dataFieldLookupSourceMapping=F,this.relatedDataValueAndQueryStringKeyMapping=g,this.editingPropertiesForCreating=N,this.editingPropertiesForUpdating=C}ngOnInit(){this.gridDataSource=this.gridDataSourceService.getDataSource(s,g)}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(M.I),t.Y36(Q.z))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-pending-notifications"]],viewQuery:function(a,o){if(1&a&&t.Gf(U,5),2&a){let x;t.iGM(x=t.CRH())&&(o.grid=x.first)}},decls:11,vars:14,consts:[["appGridFeature","",3,"datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","editingPropertiesForCreating","editingPropertiesForUpdating","columns","dataSource","gridProperties"],["grid",""],[3,"simplifiedText","url",4,"dxTemplate","dxTemplateOf"],["name","addRowButton","location","before","widget","dxButton","cssClass","mb-1",3,"options"],["location","after"],[3,"grid",4,"dxTemplate"],["name","applyFilterButton","cssClass","d-none"],[4,"ngFor","ngForOf"],[3,"simplifiedText","url"],[3,"grid"],[4,"dxTemplate","dxTemplateOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,o){1&a&&(t.TgZ(0,"dx-data-grid",0,1),t.YNc(2,Z,1,2,"app-text-content-viewer",2)(3,A,1,2,"app-html-content-viewer",2),t.TgZ(4,"dxo-toolbar"),t._UZ(5,"dxi-item",3),t.TgZ(6,"dxi-item",4),t.YNc(7,D,1,1,"app-grid-general-filter",5),t.qZA(),t._UZ(8,"dxi-item",6),t.qZA(),t.YNc(9,b,2,1,"ng-container",7),t.ALo(10,"keyvalue"),t.qZA()),2&a&&(t.Q6J("datafieldValueQueryStringKeyMapping",o.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",o.dataFieldLookupSourceMapping)("editingPropertiesForCreating",o.editingPropertiesForCreating)("editingPropertiesForUpdating",o.editingPropertiesForUpdating)("columns",o.columns)("dataSource",o.gridDataSource)("gridProperties",o.gridProperties),t.xp6(2),t.Q6J("dxTemplateOf","text-content-viewer"),t.xp6(),t.Q6J("dxTemplateOf","html-content-viewer"),t.xp6(2),t.Q6J("options",t.DdM(13,j)),t.xp6(4),t.Q6J("ngForOf",t.lcZ(10,11,o.templateStore.gridTemplates)))},dependencies:[d.sg,d.tP,K._,O.w,B.p6,u.ZT3,J.e,u.y1f,f.Q,y.$,d.Nd],encapsulation:2})}return e})(),canActivate:[l.a1M,l.nG9]}];let V=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(H),c.Bz]})}return e})();var Y=i(5533);let k=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[d.ez,V,h.m,Y.P,f.Q,y.$]})}return e})()}}]);