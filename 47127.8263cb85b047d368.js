"use strict";(self.webpackChunkJBNotifier=self.webpackChunkJBNotifier||[]).push([[47127],{47127:(z,m,o)=>{o.r(m),o.d(m,{PendingNotificationsModule:()=>j});var s=o(96814),F=o(66648),g=o(88762),u=o(23758);const S=[{type:"buttons",fixed:!0,buttons:[{name:"edit",template:"grid-edit-button"}]},{dataField:"id",visible:!1},{dataField:"concurrencyStamp",visible:!1},{name:"pushTime",caption:"\u9810\u8a08\u63a8\u9001\u6642\u9593",dataType:"datetime"},{name:"receiverName",caption:"\u63a5\u6536\u8005\u540d\u7a31",dataType:"string"},{name:"category",caption:"\u5206\u985e",dataType:"string"},{dataField:"title",caption:"\u6a19\u984c",dataType:"string"},{dataField:"subtitle",caption:"\u5b50\u6a19\u984c",dataType:"string"},{dataField:"textContent",caption:"\u7d14\u6587\u5b57\u5167\u5bb9",dataType:"string",cellTemplate:"text-content-viewer"},{dataField:"htmlContent",caption:"Html\u5167\u5bb9",dataType:"string",cellTemplate:"html-content-viewer"},{name:"hookEndpoint",caption:"Hook Endpoint",dataType:"string"}],f={index:"/api/app/pending-notifications",get:"/api/app/pending-notifications",create:"/api/app/pending-notifications",update:"/api/app/pending-notifications",delete:"/api/app/pending-notifications"},N=[],T=[{dataField:"id",mapping:["pendingNotification","id"]},{dataField:"concurrencyStamp",mapping:["concurrencyStamp"]},{name:"pushTime",mapping:["pendingNotification","pushTime"]},{name:"receiverName",mapping:["receiver","name"]},{name:"category",queryStringKey:"NotificationCategory",mapping:["notificationCategory","name"]},{dataField:"title",queryStringKey:"Title",mapping:["pendingNotification","title"]},{dataField:"subtitle",queryStringKey:"Subtitle",mapping:["pendingNotification","subtitle"]},{dataField:"textContent",queryStringKey:"TextContent",mapping:["pendingNotification","textContent"]},{dataField:"htmlContent",queryStringKey:"HtmlContent",mapping:["pendingNotification","htmlContent"]},{dataField:"concurrencyStamp",queryStringKey:"ConcurrencyStamp",mapping:["pendingNotification","concurrencyStamp"]}],x=[{dataField:"title",editorType:"dxTextBox",colSpan:1},{dataField:"subtitle",editorType:"dxTextBox",colSpan:1},{dataField:"textContent",editorType:"dxTextBox",colSpan:1},{itemType:"empty"},{dataField:"htmlContent",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{imageUpload:{fileUploadMode:"both",tabs:["url","file"]},toolbar:{items:[{name:"undo"},{name:"redo"},{name:"separator"},{name:"size",acceptedValues:["8pt","10pt","12pt","14pt","18pt","24pt","36pt"]},{name:"font",acceptedValues:["Arial","Georgia","Tahoma","Times New Roman","Verdana"]},{name:"separator"},{name:"bold"},{name:"italic"},{name:"strike"},{name:"underline"},{name:"separator"},{name:"alignLeft"},{name:"alignCenter"},{name:"alignRight"},{name:"alignJustify"},{name:"separator"},{name:"orderedList"},{name:"bulletList"},{name:"separator"},{name:"header",acceptedValues:[!1,1,2,3,4,5]},{name:"separator"},{name:"color"},{name:"background"},{name:"separator"},{name:"link"},{name:"image"},{name:"separator"},{name:"clear"},{name:"codeBlock"},{name:"blockquote"},{name:"separator"},{name:"insertTable"},{name:"deleteTable"},{name:"insertRowAbove"},{name:"insertRowBelow"},{name:"deleteRow"},{name:"insertColumnLeft"},{name:"insertColumnRight"},{name:"deleteColumn"},{name:"cellProperties"},{name:"tableProperties"}]},height:"250px"}}],w={popup:{title:"::"},form:{colCount:2,items:x}},P={popup:{title:"::"},form:{colCount:2,items:x}};var e=o(19212),b=o(67),J=o(72783),M=o(43821),Q=o(10313),d=o(20843),h=o(2173),Z=o(25012),c=o(77490),v=o(53009),C=o(98179);function B(t,p){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(),e.hij(" ",i.text," ")}}let y=(()=>{class t{constructor(i){this.restService=i,this.visible=!1}showText(i){i.preventDefault(),this.visible=!0,this.text=this.simplifiedText}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(v.$))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-text-content-viewer"]],inputs:{simplifiedText:"simplifiedText",url:"url"},standalone:!0,features:[e.jDz],decls:5,vars:4,consts:[["href","#",3,"click"],["contentTemplate","content",3,"visible","showCloseButton","visibleChange"],[4,"dxTemplate","dxTemplateOf"]],template:function(n,a){1&n&&(e.TgZ(0,"div")(1,"a",0),e.NdJ("click",function(r){return a.showText(r)}),e._uU(2),e.qZA()(),e.TgZ(3,"dx-popup",1),e.NdJ("visibleChange",function(r){return a.visible=r}),e.YNc(4,B,2,1,"div",2),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",a.simplifiedText," "),e.xp6(),e.Q6J("visible",a.visible)("showCloseButton",!0),e.xp6(),e.Q6J("dxTemplateOf","content"))},dependencies:[c.P,d.p6,C.x]})}return t})();function U(t,p){if(1&t&&e._UZ(0,"div",3),2&t){const i=e.oxw();e.Q6J("innerHTML",i.htmlContent,e.oJD)}}let _=(()=>{class t{constructor(i){this.restService=i,this.visible=!1}showHTML(i){i.preventDefault(),this.htmlContent=this.simplifiedText,this.visible=!0}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(v.$))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-html-content-viewer"]],inputs:{simplifiedText:"simplifiedText",url:"url"},standalone:!0,features:[e.jDz],decls:5,vars:4,consts:[["href","#",3,"click"],["contentTemplate","content",3,"visible","showCloseButton","visibleChange"],[3,"innerHTML",4,"dxTemplate","dxTemplateOf"],[3,"innerHTML"]],template:function(n,a){1&n&&(e.TgZ(0,"div")(1,"a",0),e.NdJ("click",function(r){return a.showHTML(r)}),e._uU(2),e.qZA()(),e.TgZ(3,"dx-popup",1),e.NdJ("visibleChange",function(r){return a.visible=r}),e.YNc(4,U,1,1,"div",2),e.qZA()),2&n&&(e.xp6(2),e.hij(" ",a.simplifiedText," "),e.xp6(),e.Q6J("visible",a.visible)("showCloseButton",!0),e.xp6(),e.Q6J("dxTemplateOf","content"))},dependencies:[c.P,d.p6,C.x]})}return t})();const V=["grid"];function A(t,p){if(1&t&&e._UZ(0,"app-text-content-viewer",8),2&t){const i=p.$implicit;e.Q6J("simplifiedText",i.value)("url","/api/app/grouping-notification-push-logs/text-contents/"+(null==i.data?null:i.data.id))}}function O(t,p){if(1&t&&e._UZ(0,"app-html-content-viewer",8),2&t){const i=p.$implicit;e.Q6J("simplifiedText",i.value)("url","/api/app/grouping-notification-push-logs/html-contents/"+(null==i.data?null:i.data.id))}}function D(t,p){if(1&t&&e._UZ(0,"app-grid-general-filter",9),2&t){e.oxw();const i=e.MAs(1);e.Q6J("grid",i)}}function H(t,p){1&t&&e.GkF(0)}const L=t=>({$implicit:t});function k(t,p){if(1&t&&(e.ynx(0),e.YNc(1,H,1,0,"ng-container",11),e.BQk()),2&t){const i=p.$implicit,n=e.oxw().$implicit,a=e.oxw();e.xp6(),e.Q6J("ngTemplateOutlet",a.templateStore.getGridTemplates(n.key))("ngTemplateOutletContext",e.VKq(2,L,i))}}function K(t,p){if(1&t&&(e.ynx(0),e.YNc(1,k,2,4,"ng-container",10),e.BQk()),2&t){const i=p.$implicit;e.xp6(),e.Q6J("dxTemplateOf",i.key)}}const R=()=>({type:"default",stylingMode:"contained"}),Y=[{path:"",component:(()=>{class t{constructor(i,n){this.gridDataSourceService=i,this.templateStore=n,this.gridProperties={editing:{allowAdding:!1}},this.columns=S,this.cRUDEndpoints=f,this.dataFieldLookupSourceMapping=N,this.relatedDataValueAndQueryStringKeyMapping=T,this.editingPropertiesForCreating=w,this.editingPropertiesForUpdating=P}ngOnInit(){this.gridDataSource=this.gridDataSourceService.getDataSource(f,T)}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(b.I),e.Y36(J.z))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-pending-notifications"]],viewQuery:function(n,a){if(1&n&&e.Gf(V,5),2&n){let l;e.iGM(l=e.CRH())&&(a.grid=l.first)}},decls:11,vars:14,consts:[["appGridFeature","",3,"datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","editingPropertiesForCreating","editingPropertiesForUpdating","columns","dataSource","gridProperties"],["grid",""],[3,"simplifiedText","url",4,"dxTemplate","dxTemplateOf"],["name","addRowButton","location","before","widget","dxButton","cssClass","mb-1",3,"options"],["location","after"],[3,"grid",4,"dxTemplate"],["name","applyFilterButton","cssClass","d-none"],[4,"ngFor","ngForOf"],[3,"simplifiedText","url"],[3,"grid"],[4,"dxTemplate","dxTemplateOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,a){1&n&&(e.TgZ(0,"dx-data-grid",0,1),e.YNc(2,A,1,2,"app-text-content-viewer",2)(3,O,1,2,"app-html-content-viewer",2),e.TgZ(4,"dxo-toolbar"),e._UZ(5,"dxi-item",3),e.TgZ(6,"dxi-item",4),e.YNc(7,D,1,1,"app-grid-general-filter",5),e.qZA(),e._UZ(8,"dxi-item",6),e.qZA(),e.YNc(9,K,2,1,"ng-container",7),e.ALo(10,"keyvalue"),e.qZA()),2&n&&(e.Q6J("datafieldValueQueryStringKeyMapping",a.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",a.dataFieldLookupSourceMapping)("editingPropertiesForCreating",a.editingPropertiesForCreating)("editingPropertiesForUpdating",a.editingPropertiesForUpdating)("columns",a.columns)("dataSource",a.gridDataSource)("gridProperties",a.gridProperties),e.xp6(2),e.Q6J("dxTemplateOf","text-content-viewer"),e.xp6(),e.Q6J("dxTemplateOf","html-content-viewer"),e.xp6(2),e.Q6J("options",e.DdM(13,R)),e.xp6(4),e.Q6J("ngForOf",e.lcZ(10,11,a.templateStore.gridTemplates)))},dependencies:[s.sg,s.tP,M._,Q.w,d.p6,h.ZT3,Z.e,h.y1f,y,_,s.Nd],encapsulation:2})}return t})(),canActivate:[g.a1M,g.nG9]}];let $=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(Y),u.Bz]})}return t})(),j=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[s.ez,$,F.m,c.P,y,_]})}return t})()}}]);