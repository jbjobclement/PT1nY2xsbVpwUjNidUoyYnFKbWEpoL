(self.webpackChunkJBNotifier=self.webpackChunkJBNotifier||[]).push([[68862],{68862:(ki,xn,ie)=>{"use strict";ie.d(xn,{O:()=>$a});var o,de=ie(6593),_e=ie(19212),B=ie(87462),C=ie(90498),n=ie(646),v=ie(70557),b=ie(37285),O=ie(73391),S=ie(35587),U=ie(75582),F=ie(43720),W=ie(10977),N=ie(49343),A=ie(33687),x=ie(29556),P=ie(14823),I=ie(14891),K=ie(29464),w=ie(27731),Z=ie(79627),z=ie(28936),j=ie(96454),d=ie.n(j);function _(){if(!d())throw W.Z.Error("E1041","Quill");return d()}if(d()){var u=d().import("core/theme");o=class extends u{constructor(r,t){super(r,t),this.quill.root.classList.add("dx-htmleditor-content"),this.quill.root.setAttribute("role","textbox"),this.quill.root.setAttribute("aria-label","Editor content")}}}else o={};const f=o;var y={};if(d()){var R=d().import("formats/image");(y=class extends R{static create(r){var e=super.create(r&&r.src||r);if((0,v.Kn)(r)){var c=(L,pt)=>{r[L]&&e.setAttribute(L,pt)};c("alt",r.alt),c("width",r.width),c("height",r.height)}return e}static formats(r){var t=super.formats(r);return t.imageSrc=r.getAttribute("src"),t}formats(){var r=super.formats(),t=this.domNode.style.float;return t&&(r.float=t),r}format(r,t){"float"===r?this.domNode.style[r]=t:super.format(r,t)}static value(r){return{src:r.getAttribute("src"),width:r.getAttribute("width"),height:r.getAttribute("height"),alt:r.getAttribute("alt")}}}).blotName="extendedImage"}const D=y;var q={};if(d()){var et=d().import("formats/link");q=class uo extends et{static create(t){var e,c=null!==(e=t?.href)&&void 0!==e?e:t,L=super.create(c);return(0,v.Kn)(t)&&(t.text&&(L.innerText=t.text),t.target||L.removeAttribute("target")),L}static formats(t){return{href:t.getAttribute("href"),target:t.getAttribute("target")}}formats(){var t=super.formats(),{href:e,target:c}=uo.formats(this.domNode);return t.link=e,t.target=c,t}format(t,e){"link"===t&&(0,v.Kn)(e)?(e.text&&(this.domNode.innerText=e.text),e.target?this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target"),this.domNode.setAttribute("href",e.href)):super.format(t,e)}static value(t){return{href:t.getAttribute("href"),text:t.innerText,target:!!t.getAttribute("target")}}}}const ft=q;var ht={};d()&&((ht=d().import("attributors/style/font")).whitelist=null);const dt=ht;var ot={};d()&&((ot=d().import("attributors/style/size")).whitelist=null);const Et=ot;var X={};d()&&(X=d().import("attributors/style/align")).whitelist.push("left");const vt=X;var at=class st{};if(d()){var H=d().import("core/module");at=class extends H{constructor(r,t){super(r,t),this.editorInstance=t.editorInstance}saveValueChangeEvent(r){this.editorInstance._saveValueChangeEvent(r)}addCleanCallback(r){this.editorInstance.addCleanCallback(r)}handleOptionChangeValue(r){(0,v.Kn)(r)?Object.entries(r).forEach(t=>{var[e,c]=t;return this.option(e,c)}):(0,v.$K)(r)||null==this||this.clean()}}}const T=at;var Y=ie(13502),k=(ie(42930),ie(87825)),lt=ie(36395),mt={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},Rt=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(r){return[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(r){return[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(r){return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(r){return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16),Number((parseInt(r[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(r){return[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16),Number((parseInt(r[4]+r[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(r){return[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(r){var t=parseInt(r[1],10),e=parseInt(r[2],10),c=parseInt(r[3],10),L=Ot(t,e,c);return[L[0],L[1],L[2],1,[t,e,c]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(r){var t=parseInt(r[1],10),e=parseInt(r[2],10),c=parseInt(r[3],10),L=M(t,e,c);return[L[0],L[1],L[2],1,null,[t,e,c]]}}],rt=Math.round;function Q(r){var t;this.baseColor=r,r&&(t=String(r).toLowerCase().replace(/ /g,""),t=function _t(r){if("transparent"===r)return[0,0,0,0];for(var c,t=0,e=Rt.length;t<e;++t)if(c=Rt[t].re.exec(r))return Rt[t].process(c);return null}(t=mt[t]?"#"+mt[t]:t)),t||(this.colorIsInvalid=!0),this.r=tt((t=t||{})[0]),this.g=tt(t[1]),this.b=tt(t[2]),this.a=tt(t[3],1,1),this.hsv=t[4]?{h:t[4][0],s:t[4][1],v:t[4][2]}:function ct(r,t,e){var yt,Dt,c=Math.max(r,t,e),L=Math.min(r,t,e),pt=c-L,zt=c;if(Dt=0===c?0:1-L/c,c===L)yt=0;else switch(c){case r:yt=(t-e)/pt*60,t<e&&(yt+=360);break;case t:yt=(e-r)/pt*60+120;break;case e:yt=(r-t)/pt*60+240}return Dt*=100,zt*=100/255,{h:Math.round(yt),s:Math.round(Dt),v:Math.round(zt)}}(this.r,this.g,this.b),this.hsl=t[5]?{h:t[5][0],s:t[5][1],l:t[5][2]}:function l(r,t,e){r=ut(r,255),t=ut(t,255),e=ut(e,255);var yt,Dt,c=Math.max(r,t,e),L=Math.min(r,t,e),pt=c+L,zt=pt/2;if(c===L)yt=Dt=0;else{var te=c-L;Dt=zt>.5?te/(2-pt):te/pt,yt=function E(r,t,e,c){switch(Math.max(r,t,e)){case r:return(t-e)/c+(t<e?6:0);case t:return(e-r)/c+2;case e:return(r-t)/c+4}}(r,t,e,te),yt/=6}return{h:rt(360*yt),s:rt(100*Dt),l:rt(100*zt)}}(this.r,this.g,this.b)}function tt(r,t,e){return t=t||0,e=e||255,r<0||isNaN(r)?t:r>e?e:r}function Ot(r,t,e){var zt,te,ne,L=(100-t)*e/100,pt=r%60/60*(e-L),yt=L+pt,Dt=e-pt;switch(Math.floor(r%360/60)){case 0:zt=e,te=yt,ne=L;break;case 1:zt=Dt,te=e,ne=L;break;case 2:zt=L,te=e,ne=yt;break;case 3:zt=L,te=Dt,ne=e;break;case 4:zt=yt,te=L,ne=e;break;case 5:zt=e,te=L,ne=Dt}return[Math.round(2.55*zt),Math.round(2.55*te),Math.round(2.55*ne)]}function i(r,t){var e=t;return"r"===r&&(e=t+1/3),"b"===r&&(e=t-1/3),e}function p(r,t,e){return e=function g(r){return r<0&&(r+=1),r>1&&(r-=1),r}(e),e<1/6?r+6*(t-r)*e:e<.5?t:e<2/3?r+(t-r)*(2/3-e)*6:r}function M(r,t,e){var c,L,pt;if(r=ut(r,360),t=ut(t,100),e=ut(e,100),0===t)c=L=pt=e;else{var yt=e<.5?e*(1+t):e+t-e*t,Dt=2*e-yt;c=p(Dt,yt,i("r",r)),L=p(Dt,yt,i("g",r)),pt=p(Dt,yt,i("b",r))}return[rt(255*c),rt(255*L),rt(255*pt)]}function ut(r,t){return r=Math.min(t,Math.max(0,parseFloat(r))),Math.abs(r-t)<1e-6?1:r%t/parseFloat(t)}function wt(r,t,e){return t=t||0,e=e||255,!(r%1!=0||r<t||r>e||"number"!=typeof r||isNaN(r))}Q.prototype={constructor:Q,highlight:function(r){return this.alter(r=r||10).toHex()},darken:function(r){return this.alter(-(r=r||10)).toHex()},alter:function(r){var t=new Q;return t.r=tt(this.r+r),t.g=tt(this.g+r),t.b=tt(this.b+r),t},blend:function(r,t){var e=r instanceof Q?r:new Q(r),c=new Q;return c.r=tt(rt(this.r*(1-t)+e.r*t)),c.g=tt(rt(this.g*(1-t)+e.g*t)),c.b=tt(rt(this.b*(1-t)+e.b*t)),c},toHex:function(){return function it(r,t,e){return"#"+(16777216|r<<16|t<<8|e).toString(16).slice(1)}(this.r,this.g,this.b)},getPureColor:function(){return new Q("rgb("+Ot(this.hsv.h,100,100).join(",")+")")},isValidHex:function(r){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r)},isValidRGB:function(r,t,e){return!(!wt(r)||!wt(t)||!wt(e))},isValidAlpha:function(r){return!(isNaN(r)||r<0||r>1||"number"!=typeof r)},colorIsInvalid:!1,fromHSL:function(r){var t=new Q,e=M(r.h,r.s,r.l);return t.r=e[0],t.g=e[1],t.b=e[2],t}};const Ft=Q;var Pt=ie(24459),Kt=ie(32776),Xt=ie(85710);const bt=ie(86609).Z;var xt=ie(90344),Nt=ie(29846),Wt="dx-colorview-container-row",fe="dx-colorview-palette-gradient",me="dx-colorview-palette-gradient-white",be="dx-colorview-palette-gradient-black",Ht="dx-colorview-label-hex",Ye="dx-colorview-color-preview",Ce="dx-colorview-color-preview-color-current",Mr="dx-colorview-color-preview-color-new",wr="#000000",Br=F.Z.inherit({_supportedKeys:function(){var r=this.option("rtlEnabled"),t=this,e=function(Vt){var Qt=100/t._paletteWidth;return Vt.shiftKey&&(Qt*=t.option("keyStep")),Qt=Qt>1?Qt:1,Math.round(Qt)},c=function(Vt){var Qt=t._currentColor.hsv.s+Vt;Qt>100?Qt=100:Qt<0&&(Qt=0),t._currentColor.hsv.s=Qt,yt()},L=function(Vt){var Qt=100/t._paletteHeight;return Vt.shiftKey&&(Qt*=t.option("keyStep")),Qt=Qt>1?Qt:1,Math.round(Qt)},pt=function(Vt){var Qt=t._currentColor.hsv.v+Vt;Qt>100?Qt=100:Qt<0&&(Qt=0),t._currentColor.hsv.v=Qt,yt()};function yt(){t._placePaletteHandle(),t._updateColorFromHsv(t._currentColor.hsv.h,t._currentColor.hsv.s,t._currentColor.hsv.v)}var Dt=function(Vt){var Qt=360/(t._hueScaleWrapperHeight-t._hueScaleHandleHeight);return Vt.shiftKey&&(Qt*=t.option("keyStep")),Qt>1?Qt:1},zt=function(Vt){t._currentColor.hsv.h+=Vt,t._placeHueScaleHandle();var Qt=(0,lt.jt)(t._$hueScaleHandle);t._updateColorHue(Qt.top+t._hueScaleHandleHeight/2)},te=function(Vt){var Qt=1/t._alphaChannelScaleWorkWidth;return Vt.shiftKey&&(Qt*=t.option("keyStep")),Qt=Qt>.01?Qt:.01,r?-Qt:Qt},ne=function(Vt){t._currentColor.a+=Vt,t._placeAlphaChannelHandle();var Qt=(0,lt.jt)(t._$alphaChannelHandle);t._calculateColorTransparencyByScaleWidth(Qt.left+t._alphaChannelHandleWidth/2)};return(0,n.l)(this.callBase(),{upArrow:function(Vt){Vt.preventDefault(),Vt.stopPropagation(),(0,P.j1)(Vt)?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&(this._saveValueChangeEvent(Vt),zt(Dt(Vt))):this._currentColor.hsv.v<100&&(this._saveValueChangeEvent(Vt),pt(L(Vt)))},downArrow:function(Vt){Vt.preventDefault(),Vt.stopPropagation(),(0,P.j1)(Vt)?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),this._saveValueChangeEvent(Vt),zt(-Dt(Vt))):this._currentColor.hsv.v>0&&(this._saveValueChangeEvent(Vt),pt(-L(Vt)))},rightArrow:function(Vt){Vt.preventDefault(),Vt.stopPropagation(),(0,P.j1)(Vt)?(r?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(Vt),ne(-te(Vt))):this._currentColor.hsv.s<100&&(this._saveValueChangeEvent(Vt),c(e(Vt)))},leftArrow:function(Vt){Vt.preventDefault(),Vt.stopPropagation(),(0,P.j1)(Vt)?(r?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(Vt),ne(te(Vt))):this._currentColor.hsv.s>0&&(this._saveValueChangeEvent(Vt),c(-e(Vt)))},enter:function(Vt){this._fireEnterKeyPressed(Vt)}})},_getDefaultOptions:function(){return(0,n.l)(this.callBase(),{value:null,matchValue:null,onEnterKeyPressed:void 0,editAlphaChannel:!1,keyStep:1,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===z.Z.real().deviceType&&!z.Z.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initColorAndOpacity(),this._initEnterKeyPressedAction()},_initEnterKeyPressedAction:function(){this._onEnterKeyPressedAction=this._createActionByOption("onEnterKeyPressed")},_fireEnterKeyPressed:function(r){this._onEnterKeyPressedAction&&this._onEnterKeyPressedAction({event:r})},_initColorAndOpacity:function(){this._setCurrentColor(this.option("value"))},_setCurrentColor:function(r){var t=new Ft(r=r||wr);t.colorIsInvalid?(this._currentColor||(this._currentColor=new Ft(wr)),this.option("value",this._currentColor.baseColor)):(!this._currentColor||this._makeRgba(this._currentColor)!==this._makeRgba(t))&&(this._currentColor=t,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,t))},_setBaseColor:function(r){var e=new Ft(r||wr);e.colorIsInvalid||this._makeRgba(this.option("matchValue")!==this._makeRgba(e))&&this._$baseColor&&this._makeTransparentBackground(this._$baseColor,e)},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-colorview"),this._renderColorPickerContainer()},_render:function(){this.callBase(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_makeTransparentBackground:function(r,t){t instanceof Ft||(t=new Ft(t)),r.css("backgroundColor",this._makeRgba(t))},_makeRgba:function(r){return r instanceof Ft||(r=new Ft(r)),"rgba("+[r.r,r.g,r.b,r.a].join(", ")+")"},_renderValue:function(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer:function(){var r=this.$element();this._$colorPickerContainer=(0,C.Z)("<div>").addClass("dx-colorview-container").appendTo(r),this._renderHtmlRows()},_renderHtmlRows:function(r){var t=this._$colorPickerContainer.find("."+Wt),e=t.length,L=e-(this.option("editAlphaChannel")?2:1);if(L>0&&t.eq(-1).remove(),L<0){L=Math.abs(L);var yt,pt=[];for(yt=0;yt<L;yt++)pt.push((0,C.Z)("<div>").addClass(Wt));if(e)for(yt=0;yt<pt.length;yt++)t.eq(0).after(pt[yt]);else this._$colorPickerContainer.append(pt)}},_renderHtmlCellInsideRow:function(r,t,e){return(0,C.Z)("<div>").addClass("dx-colorview-container-cell").addClass(e).appendTo(t.find("."+Wt).eq(r))},_renderPalette:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,"dx-colorview-palette-cell"),t=(0,C.Z)("<div>").addClass([fe,me].join(" ")),e=(0,C.Z)("<div>").addClass([fe,be].join(" "));this._$palette=(0,C.Z)("<div>").addClass("dx-colorview-palette").css("backgroundColor",this._currentColor.getPureColor().toHex()).appendTo(r),this._paletteHeight=(0,k.Cr)(this._$palette),this._paletteWidth=(0,k.dz)(this._$palette),this._renderPaletteHandle(),this._$palette.append([t,e])},_renderPaletteHandle:function(){this._$paletteHandle=(0,C.Z)("<div>").addClass("dx-colorview-palette-handle").appendTo(this._$palette);var r="dx-".concat(new Nt.Z);this.setAria({id:r,role:"application"},this._$paletteHandle),this.setAria("activedescendant",r,this.option("target")),this._createComponent(this._$paletteHandle,bt,{contentTemplate:null,boundary:this._$palette,allowMoveByClick:!0,boundOffset:function(){return-this._paletteHandleHeight/2}.bind(this),onDragMove:e=>{var{event:c}=e,L=(0,lt.jt)(this._$paletteHandle);this._updateByDrag=!0,this._saveValueChangeEvent(c),this._updateColorFromHsv(this._currentColor.hsv.h,this._calculateColorSaturation(L),this._calculateColorValue(L))}}),this._paletteHandleWidth=(0,k.dz)(this._$paletteHandle),this._paletteHandleHeight=(0,k.Cr)(this._$paletteHandle),this._placePaletteHandle()},_placePaletteHandle:function(){(0,lt.pB)(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue:function(r){var t=Math.floor(r.top+this._paletteHandleHeight/2);return 100-Math.round(100*t/this._paletteHeight)},_calculateColorSaturation:function(r){var t=Math.floor(r.left+this._paletteHandleWidth/2);return Math.round(100*t/this._paletteWidth)},_updateColorFromHsv:function(r,t,e){var c=this._currentColor.a;this._currentColor=new Ft("hsv("+[r,t,e].join(",")+")"),this._currentColor.a=c,this._updateColorParamsAndColorPreview(),this.applyColor()},_renderHueScale:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,"dx-colorview-hue-scale-cell");this._$hueScaleWrapper=(0,C.Z)("<div>").addClass("dx-colorview-hue-scale-wrapper").appendTo(r),this._$hueScale=(0,C.Z)("<div>").addClass("dx-colorview-hue-scale").appendTo(this._$hueScaleWrapper),this._hueScaleHeight=(0,k.Cr)(this._$hueScale),this._hueScaleWrapperHeight=(0,k.zp)(this._$hueScaleWrapper),this._renderHueScaleHandle()},_renderHueScaleHandle:function(){this._$hueScaleHandle=(0,C.Z)("<div>").addClass("dx-colorview-hue-scale-handle").appendTo(this._$hueScaleWrapper),this._createComponent(this._$hueScaleHandle,bt,{contentTemplate:null,boundary:this._$hueScaleWrapper,allowMoveByClick:!0,dragDirection:"vertical",onDragMove:r=>{var{event:t}=r;this._updateByDrag=!0,this._saveValueChangeEvent(t),this._updateColorHue((0,lt.jt)(this._$hueScaleHandle).top+this._hueScaleHandleHeight/2)}}),this._hueScaleHandleHeight=(0,k.Cr)(this._$hueScaleHandle),this._placeHueScaleHandle()},_placeHueScaleHandle:function(){var r=this._hueScaleWrapperHeight,t=this._hueScaleHandleHeight,e=(r-t)*(360-this._currentColor.hsv.h)/360;r<e+t&&(e=r-t),e<0&&(e=0),(0,lt.pB)(this._$hueScaleHandle,{top:Math.round(e)})},_updateColorHue:function(r){var t=360-Math.round(360*(r-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),e=this._currentColor.hsv.s,c=this._currentColor.hsv.v;this._isTopColorHue=!1,(t=t<0?0:t)>=360&&(this._isTopColorHue=!0,t=0),this._updateColorFromHsv(t,e,c),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer:function(){var r=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer);this._$controlsContainer=(0,C.Z)("<div>").addClass("dx-colorview-controls-container").appendTo(r)},_renderControls:function(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview:function(){var r=(0,C.Z)("<div>").addClass("dx-colorview-color-preview-container").appendTo(this._$controlsContainer),t=(0,C.Z)("<div>").addClass("dx-colorview-color-preview-container-inner").appendTo(r);this._$currentColor=(0,C.Z)("<div>").addClass([Ye,Mr].join(" ")),this._$baseColor=(0,C.Z)("<div>").addClass([Ye,Ce].join(" ")),this._makeTransparentBackground(this._$baseColor,this.option("matchValue")),this._makeTransparentBackground(this._$currentColor,this._currentColor),t.append([this._$baseColor,this._$currentColor])},_renderAlphaChannelElements:function(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find("."+Wt).eq(1).addClass("dx-colorview-alpha-channel-row"),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs:function(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:Kt.Z,value:this._currentColor.r,onValueChanged:this._updateColor.bind(this,!1),labelText:"R",labelAriaText:Pt.Z.format("dxColorView-ariaRed"),labelClass:"dx-colorview-label-red"}),this._renderEditorWithLabel({editorType:Kt.Z,value:this._currentColor.g,onValueChanged:this._updateColor.bind(this,!1),labelText:"G",labelAriaText:Pt.Z.format("dxColorView-ariaGreen"),labelClass:"dx-colorview-label-green"}),this._renderEditorWithLabel({editorType:Kt.Z,value:this._currentColor.b,onValueChanged:this._updateColor.bind(this,!1),labelText:"B",labelAriaText:Pt.Z.format("dxColorView-ariaBlue"),labelClass:"dx-colorview-label-blue"})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")]},_renderEditorWithLabel:function(r){var t=(0,C.Z)("<div>"),e=(0,C.Z)("<label>").addClass(r.labelClass).text(r.labelText+":").append(t);x.Z.off(e,xt.u),x.Z.on(e,xt.u,function(yt){yt.preventDefault()});var c=r.editorType,L=(0,n.l)({value:r.value,onValueChanged:r.onValueChanged,onKeyboardHandled:yt=>this._keyboardHandler(yt)},{stylingMode:this.option("stylingMode")});return c===Kt.Z&&(L.min=r.min||0,L.max=r.max||255,L.step=r.step||1),new c(t,L).registerKeyHandler("enter",function(yt){this._fireEnterKeyPressed(yt)}.bind(this)),this.setAria("label",r.labelAriaText,t),e},hexInputOptions:function(){return{editorType:Xt.Z,value:this._currentColor.toHex().replace("#",""),onValueChanged:this._updateColor.bind(this,!0),labelClass:Ht,labelText:"#",labelAriaText:Pt.Z.format("dxColorView-ariaHex")}},_renderHexInput:function(){this._hexInput=Xt.Z.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox"));var r="dx-".concat(new Nt.Z),t=this._$controlsContainer.find(".".concat(Ht)).find(".".concat("dx-texteditor-input"));this.setAria("id",r,t),this.setAria("labelledby",r,this._$paletteHandle)},_renderAlphaChannelScale:function(){var r=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer,"dx-colorview-alpha-channel-cell"),t=(0,C.Z)("<div>").addClass("dx-colorview-alpha-channel-border").appendTo(r),e=(0,C.Z)("<div>").addClass("dx-colorview-alpha-channel-wrapper").appendTo(t);this._$alphaChannelScale=(0,C.Z)("<div>").addClass("dx-colorview-alpha-channel-scale").appendTo(e),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(r)},_makeCSSLinearGradient:function(r){var t=this._currentColor,e="".concat(t.r,",").concat(t.g,",").concat(t.b),c=this.option("rtlEnabled"),L="rgba(".concat(e,", ").concat(c?"1":"0",")"),pt="rgba(".concat(e,", ").concat(c?"0":"1",")"),yt="linear-gradient(-90deg, ".concat(L,", ").concat(pt,")");r.css("backgroundImage",yt)},_renderAlphaChannelInput:function(){var r=this,t=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer);r._alphaChannelInput=this._renderEditorWithLabel({editorType:Kt.Z,value:this._currentColor.a,max:1,step:.1,onValueChanged:function(e){var c=e.value;c=r._currentColor.isValidAlpha(c)?c:r._currentColor.a,e.event&&r._saveValueChangeEvent(e.event),r._updateColorTransparency(c),r._placeAlphaChannelHandle()},labelClass:"dx-colorview-alpha-channel-label",labelText:"Alpha",labelAriaText:Pt.Z.format("dxColorView-ariaAlpha")}).appendTo(t).find(".dx-numberbox").dxNumberBox("instance")},_updateColorTransparency:function(r){this._currentColor.a=r,this.applyColor()},_renderAlphaChannelHandle:function(r){this._$alphaChannelHandle=(0,C.Z)("<div>").addClass("dx-colorview-alpha-channel-handle").appendTo(r),this._createComponent(this._$alphaChannelHandle,bt,{contentTemplate:null,boundary:r,allowMoveByClick:!0,dragDirection:"horizontal",onDragMove:t=>{var{event:e}=t;this._updateByDrag=!0;var L=(0,lt.jt)(this._$alphaChannelHandle).left+this._alphaChannelHandleWidth/2;this._saveValueChangeEvent(e),this._calculateColorTransparencyByScaleWidth(L)}}),this._alphaChannelHandleWidth=(0,k.dz)(this._$alphaChannelHandle),this._alphaChannelScaleWorkWidth=(0,k.dz)(r)-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparencyByScaleWidth:function(r){var t=(r-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,e=this.option("rtlEnabled");t=e?t:1-t,r>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?t=e?1:0:t<1&&(t=t.toFixed(2));var c=this._alphaChannelInput.option("value");t=Math.max(t,0),(t=Math.min(t,1))===c?this._updateByDrag=!1:this._alphaChannelInput.option("value",t)},_placeAlphaChannelHandle:function(){var r=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);r<0&&(r=0),this._alphaChannelScaleWorkWidth<r&&(r=this._alphaChannelScaleWorkWidth),(0,lt.pB)(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-r:r})},applyColor:function(){var r=this.option("value"),t=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),t===r?this._updateByDrag=!1:this.option("value",t)},cancelColor:function(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor:function(r,t){var e,c;r?c=this._validateHex("#"+this._hexInput.option("value")):(e=this._validateRgb(),this._alphaChannelInput?(e.push(this._alphaChannelInput.option("value")),c="rgba("+e.join(", ")+")"):c="rgb("+e.join(", ")+")"),this._suppressEditorsValueUpdating||(this._currentColor=new Ft(c),this._saveValueChangeEvent(t.event),this.applyColor(),this._refreshMarkup())},_validateHex:function(r){return this._currentColor.isValidHex(r)?r:this._currentColor.toHex()},_validateRgb:function(){var r=this._rgbInputs[0].option("value"),t=this._rgbInputs[1].option("value"),e=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(r,t,e)||(r=this._currentColor.r,t=this._currentColor.g,e=this._currentColor.b),[r,t,e]},_refreshMarkup:function(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparency(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview:function(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged:function(r){var t=r.value;switch(r.name){case"value":this._setCurrentColor(t),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(r);break;case"matchValue":this._setBaseColor(t);break;case"onEnterKeyPressed":this._initEnterKeyPressedAction();break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"keyStep":break;case"stylingMode":this._renderControls();break;default:this.callBase(r)}}});(0,S.Z)("dxColorView",Br);const mr=Br;var pe=ie(16673);class Ar{constructor(){this._collection=[]}clear(){this._collection=[]}add(t,e){this._collection.push({name:t,instance:e})}remove(t){this._collection=this._collection.filter(e=>e.name!==t)}getByName(t){var e=null;return(0,pe.S6)(this._collection,(c,L)=>{var{name:pt,instance:yt}=L;if(pt===t)return e=yt,!1}),e}each(t){this._collection.forEach(e=>{var{name:c,instance:L}=e;return L&&t(c,L)})}}var Ze=ie(79869),Or=["table","tableHeaderCell"],xr=["insertTable","insertHeaderRow","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteColumn","deleteRow","deleteTable","cellProperties","tableProperties"];function Dr(r){var t=r.getModule("table");return null!=t&&t.tableFormats?t.tableFormats():Or}function De(r,t){var{tableBlot:e,quill:c}=t;(e??c.scroll.find(r.get(0))).format("tableWidth","initial")}function We(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r.find("tr").eq(t).find("th, td")}function ke(r){var e=[],c="horizontal"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"horizontal");return(c?We(r):Rr(r)).each((pt,yt)=>{var Dt=(0,C.Z)(yt);""===Dt.get(0).style[c?"width":"height"]&&e.push(Dt)}),e}function Se(r,t){var{elements:e,property:c,value:L}=t,pt=r.quill.getModule("table").tableBlots,yt="cell".concat((0,Ze._A)(c,!0));(0,pe.S6)(e,(Dt,zt)=>{var te,ne=r.quill.scroll.find(zt);if(!pt.includes(ne.statics.blotName)){var Vt=ne.descendant(Qt=>pt.includes(Qt.statics.blotName));ne=Vt?Vt[0]:null}null===(te=ne)||void 0===te||te.format(yt,L+"px")})}function je(r,t){return"horizontal"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal")?Rr(r,t):We(r,t)}function Rr(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r.find("th:nth-child(".concat(1+t,"), td:nth-child(").concat(1+t,")"))}function Xe(r,t){for(var e=arguments.length,c=new Array(e>2?e-2:0),L=2;L<e;L++)c[L-2]=arguments[L];return()=>{var pt=r.getModule("table");if(pt)return r.focus(),pt[t](...c)}}var kr=ie(90730),Er=ie(84580),Cr=ie(83603),ze="dx-colorbox",sr=ze+"-input",jr=sr+"-container",Fr=ze+"-color-result-preview",Ur=ze+"-color-is-not-defined",or=ze+"-overlay",Je=mr.prototype,Re={makeTransparentBackground:Je._makeTransparentBackground.bind(Je),makeRgba:Je._makeRgba.bind(Je)},Ke=Cr.Z.inherit({_supportedKeys:function(){var r=function(t){if(t.stopPropagation(),this.option("opened"))return t.preventDefault(),!0};return(0,n.l)(this.callBase(),{enter:this._enterKeyHandler,leftArrow:r,rightArrow:r,upArrow:function(t){return this.option("opened")?!t.altKey||(this.close(),!1):(t.preventDefault(),!1)},downArrow:function(t){return this.option("opened")||t.altKey?!(!this.option("opened")&&t.altKey&&(this._validatedOpening(),1)):(t.preventDefault(),!1)}})},_getDefaultOptions:function(){return(0,n.l)(this.callBase(),{editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1,fieldTemplate:null,buttonsLocation:"bottom after"})},_popupHidingHandler:function(){this.callBase(),"useButtons"===this.option("applyValueMode")&&this._updateColorViewValue(this.option("value"))},_popupConfig:function(){return(0,n.l)(this.callBase(),{width:""})},_contentReadyHandler:function(){this._createColorView(),this._addPopupBottomClasses()},_addPopupBottomClasses:function(){var r=this._popup.bottomToolbar();r&&(r.addClass("dx-colorview-container-cell").addClass("dx-colorview-button-cell").find(".dx-toolbar-items-container").addClass("dx-colorview-buttons-container"),r.find(".dx-popup-done").addClass("dx-colorview-apply-button"),r.find(".dx-popup-cancel").addClass("dx-colorview-cancel-button"))},_createColorView:function(){this._popup.$overlayContent().addClass(or);var r=(0,C.Z)("<div>").appendTo(this._popup.$content());this._colorView=this._createComponent(r,mr,this._colorViewConfig())},_applyNewColor:function(r){this.option("value",r),r&&Re.makeTransparentBackground(this._$colorResultPreview,r),this._colorViewEnterKeyPressed&&(this.close(),this._colorViewEnterKeyPressed=!1)},_colorViewConfig:function(){var r=this;return{value:r.option("value"),matchValue:r.option("value"),editAlphaChannel:r.option("editAlphaChannel"),applyValueMode:r.option("applyValueMode"),focusStateEnabled:r.option("focusStateEnabled"),stylingMode:this.option("stylingMode"),target:this._input(),onEnterKeyPressed:function(t){var{event:e}=t;r._colorViewEnterKeyPressed=!0,r._colorView.option("value")!==r.option("value")&&(r._saveValueChangeEvent(e),r._applyNewColor(r._colorView.option("value")),r.close())},onValueChanged:function(t){var{event:e,value:c,previousValue:L}=t,pt="instantly"===r.option("applyValueMode");Re.makeRgba(c)===L||!pt&&!r._colorViewEnterKeyPressed||r._shouldSaveEmptyValue||(e&&r._saveValueChangeEvent(e),r._applyNewColor(c))}}},_enterKeyHandler:function(r){var t=this._input().val(),{value:e,editAlphaChannel:c}=this.option(),L=e&&c?Re.makeRgba(e):e;if(!t)return!1;if(!new Ft(t).colorIsInvalid){if(t!==L&&(this._applyColorFromInput(t),this._saveValueChangeEvent(r),this.option("value",this.option("editAlphaChannel")?Re.makeRgba(t):t)),this._colorView){var yt=this._colorView.option("value");e!==yt&&(this._saveValueChangeEvent(r),this.option("value",yt))}return this.close(),!1}this._input().val(L)},_applyButtonHandler:function(r){this._saveValueChangeEvent(r.event),this._applyNewColor(this._colorView.option("value")),this.callBase()},_cancelButtonHandler:function(){this._resetInputValue(),this.callBase()},_getKeyboardListeners(){return this.callBase().concat([this._colorView])},_init:function(){this.callBase()},_initMarkup:function(){this.$element().addClass(ze),this.callBase()},_renderInput:function(){this.callBase(),this._input().addClass(sr),this._renderColorPreview()},_renderColorPreview:function(){this.$element().wrapInner((0,C.Z)("<div>").addClass(jr)),this._$colorBoxInputContainer=this.$element().children().eq(0),this._$colorResultPreview=(0,C.Z)("<div>").addClass(Fr).appendTo(this._$textEditorInputContainer),this.option("value")?Re.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass(Ur)},_renderValue:function(){var{value:r,editAlphaChannel:t}=this.option(),c=r&&t?Re.makeRgba(r):r;return this.option("text",c),this.callBase()},_resetInputValue:function(){var r=this._input(),t=this.option("value");r.val(t),this._updateColorViewValue(t)},_updateColorViewValue:function(r){this._colorView&&this._colorView.option({value:r,matchValue:r})},_valueChangeEventHandler:function(r){var t=this._input().val();t&&(t=this._applyColorFromInput(t),this._updateColorViewValue(t)),this.callBase(r,t)},_applyColorFromInput:function(r){var{editAlphaChannel:t}=this.option();return new Ft(r).colorIsInvalid?(this._resetInputValue(),this.option("value")):t?Re.makeRgba(r):r},_clean:function(){this.callBase(),delete this._shouldSaveEmptyValue},_optionChanged:function(r){var t=r.value,e=r.name;switch(e){case"value":this._$colorBoxInputContainer.toggleClass(Ur,!t),t?Re.makeTransparentBackground(this._$colorResultPreview,t):this._$colorResultPreview.removeAttr("style"),null===t&&(this._shouldSaveEmptyValue=!0),this._updateColorViewValue(t),this._shouldSaveEmptyValue=!1,this.callBase(r);break;case"applyButtonText":case"cancelButtonText":this.callBase(r),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"keyStep":this._colorView&&this._colorView.option(e,t);break;default:this.callBase(r)}}});(0,S.Z)("dxColorBox",Ke);const cr=Ke;var tr=ie(54404),Lr=ie(63366),fr=ie(77484),Fe=ie(36831),yr=ie(18346),He=ie(74490),Ae=ie(44383),er=F.Z.inherit({_getDefaultOptions:function(){return(0,n.l)(this.callBase(),{min:0,max:100,value:0})},_initMarkup:function(){this.$element().addClass("dx-trackbar"),this._renderWrapper(),this._renderContainer(),this._renderRange(),this._renderValue(),this._setRangeStyles(),this.callBase()},_render:function(){this.callBase(),this._setRangeStyles(this._rangeStylesConfig())},_renderWrapper:function(){this._$wrapper=(0,C.Z)("<div>").addClass("dx-trackbar-wrapper").appendTo(this.$element())},_renderContainer:function(){this._$bar=(0,C.Z)("<div>").addClass("dx-trackbar-container").appendTo(this._$wrapper)},_renderRange:function(){this._$range=(0,C.Z)("<div>").addClass("dx-trackbar-range").appendTo(this._$bar)},_renderValue:function(){var r=this.option("value"),t=this.option("min"),e=this.option("max");if(!(t>e)){if(r<t)return this.option("value",t),void(this._currentRatio=0);if(r>e)return this.option("value",e),void(this._currentRatio=1);var c=t===e?0:(r-t)/(e-t);!this._needPreventAnimation&&this._setRangeStyles({width:100*c+"%"}),this.setAria({valuemin:this.option("min"),valuemax:e,valuenow:r}),this._currentRatio=c}},_rangeStylesConfig:function(){return{width:100*this._currentRatio+"%"}},_setRangeStyles:function(r){Ae.Z.stop(this._$range),r?this._needPreventAnimation||!(0,Fe.Ym)()||Ae.Z.animate(this._$range,{type:"custom",duration:100,to:r}):this._$range.css({width:0})},_optionChanged:function(r){switch(r.name){case"value":this._renderValue(),this.callBase(r);break;case"max":case"min":this._renderValue();break;default:this.callBase(r)}},_dispose:function(){Ae.Z.stop(this._$range),this.callBase()}});(0,S.Z)("dxTrackBar",er);var $r="dx-progressbar-animating-segment",h=er.inherit({_getDefaultOptions:function(){return(0,n.l)(this.callBase(),{value:0,statusFormat:function(r){return"Progress: "+Math.round(100*r)+"%"},showStatus:!0,onComplete:null,activeStateEnabled:!1,statusPosition:"bottom left",_animatingSegmentCount:0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(r){return"android"===r.platform},options:{_animatingSegmentCount:2}}])},_initMarkup:function(){this._renderStatus(),this._createCompleteAction(),this.callBase(),this.$element().addClass("dx-progressbar"),this._$wrapper.addClass("dx-progressbar-wrapper"),this._$bar.addClass("dx-progressbar-container"),this.setAria("role","progressbar"),(0,C.Z)("<div>").addClass("dx-progressbar-range-container").appendTo(this._$wrapper).append(this._$bar),this._$range.addClass("dx-progressbar-range"),this._toggleStatus(this.option("showStatus"))},_useTemplates:function(){return!1},_createCompleteAction:function(){this._completeAction=this._createActionByOption("onComplete")},_renderStatus:function(){this._$status=(0,C.Z)("<div>").addClass("dx-progressbar-status")},_renderIndeterminateState:function(){this._$segmentContainer=(0,C.Z)("<div>").addClass("dx-progressbar-animating-container");for(var r=this.option("_animatingSegmentCount"),t=0;t<r;t++)(0,C.Z)("<div>").addClass($r).addClass($r+"-"+(t+1)).appendTo(this._$segmentContainer);this._$segmentContainer.appendTo(this._$wrapper)},_toggleStatus:function(r){var t=this.option("statusPosition").split(" ");r?"top"===t[0]||"left"===t[0]?this._$status.prependTo(this._$wrapper):this._$status.appendTo(this._$wrapper):this._$status.detach(),this._togglePositionClass()},_togglePositionClass:function(){var t=this.option("statusPosition").split(" ");this._$wrapper.removeClass("dx-position-top-left dx-position-top-right dx-position-bottom-left dx-position-bottom-right dx-position-left dx-position-right");var e="dx-position-"+t[0];t[1]&&(e+="-"+t[1]),this._$wrapper.addClass(e)},_toggleIndeterminateState:function(r){r?(this._renderIndeterminateState(),this._$bar.toggle(!1)):(this._$bar.toggle(!0),this._$segmentContainer.remove(),delete this._$segmentContainer)},_renderValue:function(){var r=this.option("value"),t=this.option("max");r||0===r?(this._$segmentContainer&&this._toggleIndeterminateState(!1),r===t&&this._completeAction(),this.callBase(),this._setStatus()):this._toggleIndeterminateState(!0)},_setStatus:function(){var r=this.option("statusFormat"),t=(r=(0,v.mf)(r)?r.bind(this):function(e){return e})(this._currentRatio,this.option("value"));this._$status.text(t)},_dispose:function(){this._$status.remove(),this.callBase()},_optionChanged:function(r){switch(r.name){case"statusFormat":this._setStatus();break;case"showStatus":this._toggleStatus(r.value);break;case"statusPosition":this._toggleStatus(this.option("showStatus"));break;case"onComplete":this._createCompleteAction();break;case"_animatingSegmentCount":break;default:this.callBase(r)}}});(0,S.Z)("dxProgressBar",h);const $=h;var m=ie(23306),V=(0,Fe.Jj)(),re="dx-fileuploader-dragover",qe="dx-fileuploader-file-container",Wr="dx-fileuploader-file-name",ln="dx-fileuploader-file-size",nn="dx-fileuploader-button",zr="dx-fileuploader-button-container",gn="dx-fileuploader-upload-button",yn=()=>!!V.FormData;class sn extends F.Z{_supportedKeys(){var t=e=>{e.preventDefault();var c=this._selectButton.$element();x.Z.trigger(c,xt.u)};return(0,n.l)(super._supportedKeys(),{space:t,enter:t})}_setOptionsByReference(){super._setOptionsByReference(),(0,n.l)(this._optionsByReference,{value:!0})}_getDefaultOptions(){return(0,n.l)(super._getDefaultOptions(),{chunkSize:0,value:[],selectButtonText:Pt.Z.format("dxFileUploader-selectFile"),uploadButtonText:Pt.Z.format("dxFileUploader-upload"),labelText:Pt.Z.format("dxFileUploader-dropFile"),name:"files[]",multiple:!1,accept:"",uploadUrl:"/",allowCanceling:!0,showFileList:!0,progress:0,dialogTrigger:void 0,dropZone:void 0,readyToUploadMessage:Pt.Z.format("dxFileUploader-readyToUpload"),uploadedMessage:Pt.Z.format("dxFileUploader-uploaded"),uploadFailedMessage:Pt.Z.format("dxFileUploader-uploadFailedMessage"),uploadAbortedMessage:Pt.Z.format("dxFileUploader-uploadAbortedMessage"),uploadMode:"instantly",uploadMethod:"POST",uploadHeaders:{},uploadCustomData:{},onBeforeSend:null,onUploadStarted:null,onUploaded:null,onFilesUploaded:null,onProgress:null,onUploadError:null,onUploadAborted:null,onDropZoneEnter:null,onDropZoneLeave:null,allowedFileExtensions:[],maxFileSize:0,minFileSize:0,inputAttr:{},invalidFileExtensionMessage:Pt.Z.format("dxFileUploader-invalidFileExtension"),invalidMaxFileSizeMessage:Pt.Z.format("dxFileUploader-invalidMaxFileSize"),invalidMinFileSizeMessage:Pt.Z.format("dxFileUploader-invalidMinFileSize"),extendSelection:!0,validationMessageMode:"always",uploadFile:null,uploadChunk:null,abortUpload:null,validationMessageOffset:{h:0,v:0},hoverStateEnabled:!0,useNativeInputClick:!1,useDragOver:!0,nativeDropSupported:!0,_uploadButtonType:"normal",_buttonStylingMode:"contained"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"desktop"===z.Z.real().deviceType&&!z.Z.isSimulator(),options:{focusStateEnabled:!0}},{device:[{platform:"android"}],options:{validationMessageOffset:{v:0}}},{device:()=>"desktop"!==z.Z.real().deviceType,options:{useDragOver:!1}},{device:()=>!yn(),options:{uploadMode:"useForm"}},{device:()=>"desktop"!==z.Z.real().deviceType,options:{nativeDropSupported:!1}},{device:()=>(0,fr.x2)(),options:{_uploadButtonType:"default"}},{device:()=>(0,fr.dC)(),options:{_buttonStylingMode:"text"}}])}_initOptions(t){var e="labelText"in t;super._initOptions(t),!e&&!this._shouldDragOverBeRendered()&&this.option("labelText","")}_init(){super._init(),this._initFileInput(),this._initLabel(),this._setUploadStrategy(),this._createFiles(),this._createBeforeSendAction(),this._createUploadStartedAction(),this._createUploadedAction(),this._createFilesUploadedAction(),this._createProgressAction(),this._createUploadErrorAction(),this._createUploadAbortedAction(),this._createDropZoneEnterAction(),this._createDropZoneLeaveAction()}_setUploadStrategy(){var t=null;if(this.option("chunkSize")>0){var e=this.option("uploadChunk");t=e&&(0,v.mf)(e)?new Xr(this):new ri(this)}else{var c=this.option("uploadFile");t=c&&(0,v.mf)(c)?new ni(this):new un(this)}this._uploadStrategy=t}_initFileInput(){this._isCustomClickEvent=!1,this._$fileInput||(this._$fileInput=(0,C.Z)("<input>").attr("type","file"),x.Z.on(this._$fileInput,"change",this._inputChangeHandler.bind(this)),x.Z.on(this._$fileInput,"click",t=>(t.stopPropagation(),this._resetInputValue(),this.option("useNativeInputClick")||this._isCustomClickEvent))),this._$fileInput.prop({multiple:this.option("multiple"),accept:this.option("accept"),title:this.option("hint")||null,tabIndex:-1})}_inputChangeHandler(){if(!this._doPreventInputChange){var t=this._$fileInput.val().replace(/^.*\\/,""),e=this._$fileInput.prop("files");if(!e||e.length||"useForm"===this.option("uploadMode")){var c=e?this._getFiles(e):[{name:t}];this._changeValue(c),"instantly"===this.option("uploadMode")&&this._uploadFiles()}}}_shouldFileListBeExtended(){return"useForm"!==this.option("uploadMode")&&this.option("extendSelection")&&this.option("multiple")}_changeValue(t){var e=this._shouldFileListBeExtended()?this.option("value").slice():[];this.option("value",e.concat(t))}_getFiles(t){var e=[];return(0,pe.S6)(t,(c,L)=>e.push(L)),e}_getFile(t){var e=(0,v.kE)(t)?this.option("value")[t]:t;return this._files.filter(c=>c.value===e)[0]}_initLabel(){this._$inputLabel||(this._$inputLabel=(0,C.Z)("<div>")),this._updateInputLabelText()}_updateInputLabelText(){var t=this._isInteractionDisabled()?"":this.option("labelText");this._$inputLabel.text(t)}_focusTarget(){return this.$element().find("."+nn)}_getSubmitElement(){return this._$fileInput}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-fileuploader"),this._renderWrapper(),this._renderInputWrapper(),this._renderSelectButton(),this._renderInputContainer(),this._renderUploadButton(),this._preventRecreatingFiles=!0,this._activeDropZone=null}_render(){this._preventRecreatingFiles=!1,this._attachDragEventHandlers(this._$inputWrapper),this._attachDragEventHandlers(this.option("dropZone")),this._renderFiles(),super._render()}_createFileProgressBar(t){t.progressBar=this._createProgressBar(t.value.size),t.progressBar.$element().appendTo(t.$file),this._initStatusMessage(t),this._ensureCancelButtonInitialized(t)}_setStatusMessage(t,e){setTimeout(()=>{this.option("showFileList")&&t.$statusMessage&&(t.$statusMessage.text(e),t.$statusMessage.css("display",""),t.progressBar.$element().remove())},400)}_getUploadAbortedStatusMessage(){return"instantly"===this.option("uploadMode")?this.option("uploadAbortedMessage"):this.option("readyToUploadMessage")}_createFiles(){var t=this.option("value");this._files&&(0===t.length||!this._shouldFileListBeExtended())&&(this._preventFilesUploading(this._files),this._files=null),this._files||(this._files=[]),(0,pe.S6)(t.slice(this._files.length),(e,c)=>{var L=this._createFile(c);this._validateFile(L),this._files.push(L)})}_preventFilesUploading(t){t.forEach(e=>this._uploadStrategy.abortUpload(e))}_validateFile(t){t.isValidFileExtension=this._validateFileExtension(t),t.isValidMinSize=this._validateMinFileSize(t),t.isValidMaxSize=this._validateMaxFileSize(t)}_validateFileExtension(t){var e=this.option("allowedFileExtensions"),c=this.option("accept"),L=this._getAllowedFileTypes(c),pt=t.value.name.substring(t.value.name.lastIndexOf(".")).toLowerCase();if(0!==c.length&&!this._isFileTypeAllowed(t.value,L))return!1;if(0===e.length)return!0;for(var yt=0;yt<e.length;yt++)if(pt===e[yt].toLowerCase())return!0;return!1}_validateMaxFileSize(t){var e=t.value.size,c=this.option("maxFileSize");return!(c>0)||e<=c}_validateMinFileSize(t){var e=t.value.size,c=this.option("minFileSize");return!(c>0)||e>=c}_createBeforeSendAction(){this._beforeSendAction=this._createActionByOption("onBeforeSend",{excludeValidators:["readOnly"]})}_createUploadStartedAction(){this._uploadStartedAction=this._createActionByOption("onUploadStarted",{excludeValidators:["readOnly"]})}_createUploadedAction(){this._uploadedAction=this._createActionByOption("onUploaded",{excludeValidators:["readOnly"]})}_createFilesUploadedAction(){this._filesUploadedAction=this._createActionByOption("onFilesUploaded",{excludeValidators:["readOnly"]})}_createProgressAction(){this._progressAction=this._createActionByOption("onProgress",{excludeValidators:["readOnly"]})}_createUploadAbortedAction(){this._uploadAbortedAction=this._createActionByOption("onUploadAborted",{excludeValidators:["readOnly"]})}_createUploadErrorAction(){this._uploadErrorAction=this._createActionByOption("onUploadError",{excludeValidators:["readOnly"]})}_createDropZoneEnterAction(){this._dropZoneEnterAction=this._createActionByOption("onDropZoneEnter")}_createDropZoneLeaveAction(){this._dropZoneLeaveAction=this._createActionByOption("onDropZoneLeave")}_createFile(t){return{value:t,loadedSize:0,onProgress:(0,N.Z)(),onAbort:(0,N.Z)(),onLoad:(0,N.Z)(),onError:(0,N.Z)(),onLoadStart:(0,N.Z)(),isValidFileExtension:!0,isValidMaxSize:!0,isValidMinSize:!0,isValid(){return this.isValidFileExtension&&this.isValidMaxSize&&this.isValidMinSize},isInitialized:!1}}_resetFileState(t){t.isAborted=!1,t.uploadStarted=!1,t.isStartLoad=!1,t.loadedSize=0,t.chunksData=void 0,t.request=void 0}_renderFiles(){var t,e=this.option("value");this._$filesContainer?(!this._shouldFileListBeExtended()||0===e.length)&&this._$filesContainer.empty():this._$filesContainer=(0,C.Z)("<div>").addClass("dx-fileuploader-files-container").appendTo(this._$content);var c=this.option("showFileList");c&&(0,pe.S6)(this._files,(L,pt)=>{pt.$file||this._renderFile(pt)}),this.$element().toggleClass("dx-fileuploader-show-file-list",c),this._toggleFileUploaderEmptyClassName(),this._updateFileNameMaxWidth(),null===(t=this._validationMessage)||void 0===t||t.repaint()}_renderFile(t){var e=t.value,c=(0,C.Z)("<div>").addClass(qe).appendTo(this._$filesContainer);this._renderFileButtons(t,c),t.$file=(0,C.Z)("<div>").addClass("dx-fileuploader-file").appendTo(c);var L=(0,C.Z)("<div>").addClass("dx-fileuploader-file-info").appendTo(t.$file);t.$statusMessage=(0,C.Z)("<div>").addClass("dx-fileuploader-file-status-message").appendTo(t.$file),(0,C.Z)("<div>").addClass(Wr).text(e.name).appendTo(L),(0,v.$K)(e.size)&&(0,C.Z)("<div>").addClass(ln).text(this._getFileSize(e.size)).appendTo(L),t.isValid()?t.$statusMessage.text(this.option("readyToUploadMessage")):(t.isValidFileExtension||t.$statusMessage.append(this._createValidationElement("invalidFileExtensionMessage")),t.isValidMaxSize||t.$statusMessage.append(this._createValidationElement("invalidMaxFileSizeMessage")),t.isValidMinSize||t.$statusMessage.append(this._createValidationElement("invalidMinFileSizeMessage")),c.addClass("dx-fileuploader-invalid"))}_createValidationElement(t){return(0,C.Z)("<span>").text(this.option(t))}_updateFileNameMaxWidth(){var t=this.option("allowCanceling")&&"useForm"!==this.option("uploadMode")?1:0,e="useButtons"===this.option("uploadMode")?1:0,c=(0,k.dz)(this._$filesContainer.find("."+qe).first())||(0,k.dz)(this._$filesContainer),L=this._$filesContainer.find("."+zr).eq(0),pt=(0,k.dz)(L)*(t+e),yt=this._$filesContainer.find("."+ln).eq(0),Dt=yt.text();yt.text("1000 Mb");var zt=(0,k.dz)(yt);yt.text(Dt),this._$filesContainer.find("."+Wr).css("maxWidth",c-pt-zt)}_renderFileButtons(t,e){var c=this._getCancelButton(t);c&&e.append(c);var L=this._getUploadButton(t);L&&e.append(L)}_getCancelButton(t){if("useForm"===this.option("uploadMode"))return null;var{allowCanceling:e,readOnly:c,hoverStateEnabled:L,_buttonStylingMode:pt}=this.option();return t.cancelButton=this._createComponent((0,C.Z)("<div>").addClass(nn+" dx-fileuploader-cancel-button"),He.Z,{onClick:()=>this._removeFile(t),icon:"close",visible:e,disabled:c,integrationOptions:{},hoverStateEnabled:L,stylingMode:pt}),(0,C.Z)("<div>").addClass(zr).append(t.cancelButton.$element())}_getUploadButton(t){if(!t.isValid()||"useButtons"!==this.option("uploadMode"))return null;var{hoverStateEnabled:e,_buttonStylingMode:c}=this.option();return t.uploadButton=this._createComponent((0,C.Z)("<div>").addClass(nn+" "+gn),He.Z,{onClick:()=>this._uploadFile(t),icon:"upload",hoverStateEnabled:e,stylingMode:c}),t.onLoadStart.add(()=>t.uploadButton.option({visible:!1,disabled:!0})),t.onAbort.add(()=>t.uploadButton.option({visible:!0,disabled:!1})),(0,C.Z)("<div>").addClass(zr).append(t.uploadButton.$element())}_removeFile(t){var e;null===(e=t.$file)||void 0===e||e.parent().remove(),this._files.splice(this._files.indexOf(t),1);var c=this.option("value").slice();c.splice(c.indexOf(t.value),1),this._preventRecreatingFiles=!0,this.option("value",c),this._preventRecreatingFiles=!1,this._toggleFileUploaderEmptyClassName(),this._resetInputValue(!0)}removeFile(t){if("useForm"!==this.option("uploadMode")&&(0,v.$K)(t)){var e=this._getFile(t);e&&(e.uploadStarted&&this._preventFilesUploading([e]),this._removeFile(e))}}_toggleFileUploaderEmptyClassName(){this.$element().toggleClass("dx-fileuploader-empty",!this._files.length||this._hasInvalidFile(this._files))}_hasInvalidFile(t){for(var e=0;e<t.length;e++)if(!t[e].isValid())return!0;return!1}_getFileSize(t){for(var e=0,c=[Pt.Z.format("dxFileUploader-bytes"),Pt.Z.format("dxFileUploader-kb"),Pt.Z.format("dxFileUploader-Mb"),Pt.Z.format("dxFileUploader-Gb")],L=c.length-1;e<L&&t>=1024;)t/=1024,e++;return Math.round(t)+" "+c[e]}_renderSelectButton(){var t=(0,C.Z)("<div>").addClass(nn).appendTo(this._$inputWrapper);this._selectButton=this._createComponent(t,He.Z,{text:this.option("selectButtonText"),focusStateEnabled:!1,integrationOptions:{},disabled:this.option("readOnly"),hoverStateEnabled:this.option("hoverStateEnabled")}),this._selectFileDialogHandler=this._selectButtonClickHandler.bind(this),"desktop"===z.Z.real().deviceType?this._selectButton.option("onClick",this._selectFileDialogHandler):this._attachSelectFileDialogHandler(this._selectButton.$element()),this._attachSelectFileDialogHandler(this.option("dialogTrigger"))}_selectButtonClickHandler(){if(!this.option("useNativeInputClick")){if(this._isInteractionDisabled())return!1;this._isCustomClickEvent=!0,x.Z.trigger(this._$fileInput,"click"),this._isCustomClickEvent=!1}}_attachSelectFileDialogHandler(t){(0,v.$K)(t)&&(this._detachSelectFileDialogHandler(t),x.Z.on((0,C.Z)(t),"click",this._selectFileDialogHandler))}_detachSelectFileDialogHandler(t){(0,v.$K)(t)&&x.Z.off((0,C.Z)(t),"click",this._selectFileDialogHandler)}_renderUploadButton(){if("useButtons"===this.option("uploadMode")){var t=(0,C.Z)("<div>").addClass(nn).addClass(gn).appendTo(this._$content);this._uploadButton=this._createComponent(t,He.Z,{text:this.option("uploadButtonText"),onClick:this._uploadButtonClickHandler.bind(this),type:this.option("_uploadButtonType"),integrationOptions:{},hoverStateEnabled:this.option("hoverStateEnabled")})}}_uploadButtonClickHandler(){this._uploadFiles()}_shouldDragOverBeRendered(){return!this.option("readOnly")&&("useForm"!==this.option("uploadMode")||this.option("nativeDropSupported"))}_isInteractionDisabled(){return this.option("readOnly")||this.option("disabled")}_renderInputContainer(){this._$inputContainer=(0,C.Z)("<div>").addClass("dx-fileuploader-input-container").appendTo(this._$inputWrapper),this._$fileInput.addClass("dx-fileuploader-input"),this._renderInput();var t="dx-fileuploader-input-label-".concat(new Nt.Z);this._$inputLabel.attr("id",t).addClass("dx-fileuploader-input-label").appendTo(this._$inputContainer),this.setAria("labelledby",t,this._$fileInput)}_renderInput(){this.option("useNativeInputClick")?this._selectButton.option("template",this._selectButtonInputTemplate.bind(this)):(this._$fileInput.appendTo(this._$inputContainer),this._selectButton.option("template","content")),this._applyInputAttributes(this.option("inputAttr"))}_selectButtonInputTemplate(t,e){var c=(0,C.Z)(e),L=(0,C.Z)("<span>").addClass("dx-button-text").text(t.text);return c.append(L).append(this._$fileInput),c}_renderInputWrapper(){this._$inputWrapper=(0,C.Z)("<div>").addClass("dx-fileuploader-input-wrapper").appendTo(this._$content)}_detachDragEventHandlers(t){(0,v.$K)(t)&&x.Z.off((0,C.Z)(t),(0,P.V4)("",this.NAME))}_attachDragEventHandlers(t){var e=t!==this._$inputWrapper;!(0,v.$K)(t)||!this._shouldDragOverBeRendered()||(this._detachDragEventHandlers(t),t=(0,C.Z)(t),x.Z.on(t,(0,P.V4)("dragenter",this.NAME),this._dragEnterHandler.bind(this,e)),x.Z.on(t,(0,P.V4)("dragover",this.NAME),this._dragOverHandler.bind(this,e)),x.Z.on(t,(0,P.V4)("dragleave",this.NAME),this._dragLeaveHandler.bind(this,e)),x.Z.on(t,(0,P.V4)("drop",this.NAME),this._dropHandler.bind(this,e)))}_applyInputAttributes(t){this._$fileInput.attr(t)}_useInputForDrop(){return this.option("nativeDropSupported")&&"useForm"===this.option("uploadMode")}_getDropZoneElement(t,e){var c=t?Array.from((0,C.Z)(this.option("dropZone"))):[this._$inputWrapper];return(c=c.map(L=>(0,C.Z)(L).get(0)))[c.indexOf(e.currentTarget)]}_dragEnterHandler(t,e){if(this.option("disabled"))return!1;this._useInputForDrop()||e.preventDefault();var c=this._getDropZoneElement(t,e);(0,v.$K)(c)&&this._shouldRaiseDragOver(e,c)&&(this._activeDropZone=c,this._tryToggleDropZoneActive(!0,t,e))}_shouldRaiseDragOver(t,e){return null===this._activeDropZone&&this.isMouseOverElement(t,e,!1)&&t.originalEvent.dataTransfer.types.find(c=>"Files"===c)}_dragOverHandler(t,e){if(this._useInputForDrop()||e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="copy",!t){var c=this._getDropZoneElement(!1,e);this._shouldRaiseDragOver(e,c)&&this._dragEnterHandler(!1,e),this._shouldRaiseDragLeave(e,!1)&&this._dragLeaveHandler(!1,e)}}_dragLeaveHandler(t,e){this._useInputForDrop()||e.preventDefault(),this._shouldRaiseDragLeave(e,t)&&(this._tryToggleDropZoneActive(!1,t,e),this._activeDropZone=null)}_shouldRaiseDragLeave(t,e){return null!==this._activeDropZone&&!this.isMouseOverElement(t,this._activeDropZone,!e,-1)}_tryToggleDropZoneActive(t,e,c){var L=t?"addClass":"removeClass";this[t?"_dropZoneEnterAction":"_dropZoneLeaveAction"]({event:c,dropZoneElement:this._activeDropZone}),e||this.$element()[L](re)}_dropHandler(t,e){if(this._activeDropZone=null,t||this.$element().removeClass(re),!(this._useInputForDrop()||t&&this._isInteractionDisabled())){e.preventDefault();var L=this._getFiles(e.originalEvent.dataTransfer.files);!this.option("multiple")&&L.length>1||0===L.length||(this._changeValue(L),"instantly"===this.option("uploadMode")&&this._uploadFiles())}}_areAllFilesLoaded(){return this._files.every(t=>!t.isValid()||t._isError||t._isLoaded||t.isAborted)}_handleAllFilesUploaded(){this._recalculateProgress(),this._areAllFilesLoaded()&&this._filesUploadedAction()}_getAllowedFileTypes(t){return t.length?t.split(",").map(e=>e.trim()):[]}_isFileTypeAllowed(t,e){for(var c=0,L=e.length;c<L;c++){var pt=e[c];if("."===pt[0]){if(pt=pt.replace(".","\\."),t.name.match(new RegExp(pt+"$","i")))return!0}else if(pt=pt.replace(new RegExp("\\*","g"),""),t.type.match(new RegExp(pt,"i")))return!0}return!1}_renderWrapper(){var t=(0,C.Z)("<div>").addClass("dx-fileuploader-wrapper").appendTo(this.$element()),e=(0,C.Z)("<div>").addClass("dx-fileuploader-container").appendTo(t);this._$content=(0,C.Z)("<div>").addClass("dx-fileuploader-content").appendTo(e)}_clean(){this._$fileInput.detach(),delete this._$filesContainer,this._detachSelectFileDialogHandler(this.option("dialogTrigger")),this._detachDragEventHandlers(this.option("dropZone")),this._files&&this._files.forEach(t=>{t.$file=null,t.$statusMessage=null}),super._clean()}abortUpload(t){if("useForm"!==this.option("uploadMode"))if((0,v.$K)(t)){var e=this._getFile(t);e&&this._preventFilesUploading([e])}else this._preventFilesUploading(this._files)}upload(t){if("useForm"!==this.option("uploadMode"))if((0,v.$K)(t)){var e=this._getFile(t);e&&yn()&&this._uploadFile(e)}else this._uploadFiles()}_uploadFiles(){yn()&&(0,pe.S6)(this._files,(t,e)=>this._uploadFile(e))}_uploadFile(t){this._uploadStrategy.upload(t)}_updateProgressBar(t,e){t.progressBar&&t.progressBar.option({value:e.loaded,showStatus:!0}),this._progressAction({file:t.value,segmentSize:e.currentSegmentSize,bytesLoaded:e.loaded,bytesTotal:e.total,event:e.event,request:t.request})}_updateTotalProgress(t,e){var c=0;(0,v.$K)(t)&&(this._files.length>0&&this._areAllFilesLoaded()&&0===t&&0===e?c=this._getProgressValue(1):t&&(c=this._getProgressValue(e/t))),this.option("progress",c),this._setLoadedSize(e)}_getProgressValue(t){return Math.floor(100*t)}_initStatusMessage(t){t.$statusMessage.css("display","none")}_ensureCancelButtonInitialized(t){if(!t.isInitialized){t.cancelButton.option("onClick",()=>{this._preventFilesUploading([t]),this._removeFile(t)});var e=()=>{setTimeout(()=>{t.cancelButton.option({visible:!1})},400)};t.onLoad.add(e),t.onError.add(e)}}_createProgressBar(t){return this._createComponent((0,C.Z)("<div>"),$,{value:void 0,min:0,max:t,statusFormat:e=>this._getProgressValue(e)+"%",showStatus:!1,statusPosition:"right"})}_getTotalFilesSize(){return this._totalFilesSize||(this._totalFilesSize=0,(0,pe.S6)(this._files,(t,e)=>{this._totalFilesSize+=e.value.size})),this._totalFilesSize}_getTotalLoadedFilesSize(){return this._totalLoadedFilesSize||(this._totalLoadedFilesSize=0,(0,pe.S6)(this._files,(t,e)=>{this._totalLoadedFilesSize+=e.loadedSize})),this._totalLoadedFilesSize}_setLoadedSize(t){this._totalLoadedFilesSize=t}_recalculateProgress(){this._totalFilesSize=0,this._totalLoadedFilesSize=0,this._updateTotalProgress(this._getTotalFilesSize(),this._getTotalLoadedFilesSize())}isMouseOverElement(t,e,c){var L=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return!1;var pt=c?parseFloat(V.getComputedStyle(e,":before").height):0,yt=c?parseFloat(V.getComputedStyle(e,":after").height):0,Dt=(0,k.os)(e).left,zt=(0,k.os)(e).top+pt,te=e.offsetWidth,ne=e.offsetHeight-pt-yt,Vt=this._getEventX(t),Qt=this._getEventY(t);return Vt+L>=Dt&&Vt-L<Dt+te&&Qt+L>=zt&&Qt-L<zt+ne}_getEventX(t){return(0,P.z6)(t)?this._getTouchEventX(t):t.clientX+this._getDocumentScrollLeft()}_getEventY(t){return(0,P.z6)(t)?this._getTouchEventY(t):t.clientY+this._getDocumentScrollTop()}_getTouchEventX(t){var e=null;return t.changedTouches.length>0?e=t.changedTouches:t.targetTouches.length>0&&(e=t.targetTouches),e?e[0].pageX:0}_getTouchEventY(t){var e=null;return t.changedTouches.length>0?e=t.changedTouches:t.targetTouches.length>0&&(e=t.targetTouches),e?e[0].pageY:0}_getDocumentScrollTop(){var t=m.Z.getDocument();return t.documentElement.scrollTop||t.body.scrollTop}_getDocumentScrollLeft(){var t=m.Z.getDocument();return t.documentElement.scrollLeft||t.body.scrollLeft}_updateReadOnlyState(){var t=this.option("readOnly");this._selectButton.option("disabled",t),this._files.forEach(e=>{var c;return null===(c=e.cancelButton)||void 0===c?void 0:c.option("disabled",t)}),this._updateInputLabelText(),this._attachDragEventHandlers(this._$inputWrapper)}_updateHoverState(){var t,e,c=this.option("hoverStateEnabled");null===(t=this._selectButton)||void 0===t||t.option("hoverStateEnabled",c),null===(e=this._uploadButton)||void 0===e||e.option("hoverStateEnabled",c),this._files.forEach(L=>{var pt,yt;null===(pt=L.uploadButton)||void 0===pt||pt.option("hoverStateEnabled",c),null===(yt=L.cancelButton)||void 0===yt||yt.option("hoverStateEnabled",c)})}_optionChanged(t){var{name:e,value:c,previousValue:L}=t;switch(e){case"height":case"width":this._updateFileNameMaxWidth(),super._optionChanged(t);break;case"value":!c.length&&this._$fileInput.val(""),this._preventRecreatingFiles||(this._createFiles(),this._renderFiles()),this._recalculateProgress(),super._optionChanged(t);break;case"name":case"hint":this._initFileInput(),super._optionChanged(t);break;case"accept":this._initFileInput();break;case"multiple":this._initFileInput(),t.value||this.clear();break;case"readOnly":this._updateReadOnlyState(),super._optionChanged(t);break;case"disabled":this._updateInputLabelText(),super._optionChanged(t);break;case"selectButtonText":this._selectButton.option("text",c);break;case"uploadButtonText":this._uploadButton&&this._uploadButton.option("text",c);break;case"_uploadButtonType":this._uploadButton&&this._uploadButton.option("type",c);break;case"_buttonStylingMode":this._files.forEach(pt=>{var yt,Dt;null===(yt=pt.uploadButton)||void 0===yt||yt.option("stylingMode",c),null===(Dt=pt.cancelButton)||void 0===Dt||Dt.option("stylingMode",c)});break;case"dialogTrigger":this._detachSelectFileDialogHandler(L),this._attachSelectFileDialogHandler(c);break;case"dropZone":this._detachDragEventHandlers(L),this._attachDragEventHandlers(c);break;case"maxFileSize":case"minFileSize":case"allowedFileExtensions":case"invalidFileExtensionMessage":case"invalidMaxFileSizeMessage":case"invalidMinFileSizeMessage":case"readyToUploadMessage":case"uploadedMessage":case"uploadFailedMessage":case"uploadAbortedMessage":case"nativeDropSupported":this._invalidate();break;case"labelText":this._updateInputLabelText();break;case"showFileList":this._preventRecreatingFiles||this._renderFiles();break;case"uploadFile":case"uploadChunk":case"chunkSize":this._setUploadStrategy();break;case"abortUpload":case"uploadUrl":case"progress":case"uploadMethod":case"uploadHeaders":case"uploadCustomData":case"extendSelection":break;case"hoverStateEnabled":this._updateHoverState(),super._optionChanged(t);break;case"allowCanceling":case"uploadMode":this.clear(),this._invalidate();break;case"onBeforeSend":this._createBeforeSendAction();break;case"onUploadStarted":this._createUploadStartedAction();break;case"onUploaded":this._createUploadedAction();break;case"onFilesUploaded":this._createFilesUploadedAction();break;case"onProgress":this._createProgressAction();break;case"onUploadError":this._createUploadErrorAction();break;case"onUploadAborted":this._createUploadAbortedAction();break;case"onDropZoneEnter":this._createDropZoneEnterAction();break;case"onDropZoneLeave":this._createDropZoneLeaveAction();break;case"useNativeInputClick":this._renderInput();break;case"useDragOver":this._attachDragEventHandlers(this._$inputWrapper);break;case"inputAttr":this._applyInputAttributes(this.option(e));break;default:super._optionChanged(t)}}_resetInputValue(t){"useForm"===this.option("uploadMode")&&!t||(this._doPreventInputChange=!0,this._$fileInput.val(""),this._doPreventInputChange=!1)}clear(){this.option("value",[])}}class ei{constructor(t,e){this.file=t,this.chunkSize=e,this.index=0}read(){if(!this.file)return null;var t=this.createBlobResult(this.file,this.index,this.chunkSize);return t.isCompleted&&(this.file=null),this.index++,t}createBlobResult(t,e,c){var L=e*c;return{blob:this.sliceFile(t,L,c),index:e,isCompleted:L+c>=t.size}}sliceFile(t,e,c){return t.slice?t.slice(e,e+c):t.webkitSlice?t.webkitSlice(e,e+c):null}}class In{constructor(t){this.fileUploader=t}upload(t){t.isInitialized&&t.isAborted&&this.fileUploader._resetFileState(t),t.isValid()&&!t.uploadStarted&&(this._prepareFileBeforeUpload(t),this._uploadCore(t))}abortUpload(t){if(!(t._isError||t._isLoaded||t.isAborted)&&t.uploadStarted&&(t.isAborted=!0,t.request&&t.request.abort(),this._isCustomCallback("abortUpload"))){var e=this.fileUploader.option("abortUpload"),c=this._createUploadArgument(t),L=null;try{var pt=e(t.value,c);L=(0,A.p4)(pt)}catch(yt){L=(new A.BH).reject(yt).promise()}L.done(()=>t.onAbort.fire()).fail(yt=>this._handleFileError(t,yt))}}_beforeSend(t,e){var c=this._createUploadArgument(e);this.fileUploader._beforeSendAction({request:t,file:e.value,uploadInfo:c}),e.request=t}_createUploadArgument(t){}_uploadCore(t){}_isCustomCallback(t){var e=this.fileUploader.option(t);return e&&(0,v.mf)(e)}_handleProgress(t,e){t._isError||(t._isProgressStarted=!0,this._handleProgressCore(t,e))}_handleProgressCore(t,e){}_handleFileError(t,e){t._isError=!0,t.onError.fire(e)}_prepareFileBeforeUpload(t){var e;t.$file&&(null===(e=t.progressBar)||void 0===e||e.dispose(),this.fileUploader._createFileProgressBar(t)),t.isInitialized||(t.onLoadStart.add(this._onUploadStarted.bind(this,t)),t.onLoad.add(this._onLoadedHandler.bind(this,t)),t.onError.add(this._onErrorHandler.bind(this,t)),t.onAbort.add(this._onAbortHandler.bind(this,t)),t.onProgress.add(this._onProgressHandler.bind(this,t)),t.isInitialized=!0)}_shouldHandleError(t,e){return(this._isStatusError(e.status)||!t._isProgressStarted)&&!t.isAborted}_isStatusError(t){return 400<=t&&t<500||500<=t&&t<600}_onUploadStarted(t,e){t.uploadStarted=!0,this.fileUploader._uploadStartedAction({file:t.value,event:e,request:t.request})}_onAbortHandler(t,e){var c={file:t.value,event:e,request:t.request,message:this.fileUploader._getUploadAbortedStatusMessage()};this.fileUploader._uploadAbortedAction(c),this.fileUploader._setStatusMessage(t,c.message),this.fileUploader._handleAllFilesUploaded()}_onErrorHandler(t,e){var c={file:t.value,event:void 0,request:t.request,error:e,message:this.fileUploader.option("uploadFailedMessage")};this.fileUploader._uploadErrorAction(c),this.fileUploader._setStatusMessage(t,c.message),this.fileUploader._handleAllFilesUploaded()}_onLoadedHandler(t,e){var c={file:t.value,event:e,request:t.request,message:this.fileUploader.option("uploadedMessage")};t._isLoaded=!0,this.fileUploader._uploadedAction(c),this.fileUploader._setStatusMessage(t,c.message),this.fileUploader._handleAllFilesUploaded()}_onProgressHandler(t,e){if(t){var c=this.fileUploader._getTotalFilesSize(),L=this.fileUploader._getTotalLoadedFilesSize(),pt=Math.min(e.loaded,t.value.size),yt=pt-t.loadedSize;t.loadedSize=pt,this.fileUploader._updateTotalProgress(c,L+yt),this.fileUploader._updateProgressBar(t,this._getLoadedData(pt,e.total,yt,e))}}_getLoadedData(t,e,c,L){return{loaded:t,total:e,currentSegmentSize:c}}_extendFormData(t){var e=this.fileUploader.option("uploadCustomData");for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(0,v.$K)(e[c])&&t.append(c,e[c])}}class Ln extends In{constructor(t){super(t),this.chunkSize=this.fileUploader.option("chunkSize")}_uploadCore(t){var e=t.value,c={name:e.name,loadedBytes:0,type:e.type,blobReader:new ei(e,this.chunkSize),guid:new Nt.Z,fileSize:e.size,count:this._getFileChunksCount(e),customData:{}};t.chunksData=c,this._sendChunk(t,c)}_getFileChunksCount(t){return 0===t.size?1:Math.ceil(t.size/this.chunkSize)}_sendChunk(t,e){var c=e.blobReader.read();e.currentChunk=c,c&&this._sendChunkCore(t,e,c).done(()=>{t.isAborted||(e.loadedBytes+=c.blob.size,t.onProgress.fire({loaded:e.loadedBytes,total:t.value.size}),c.isCompleted&&t.onLoad.fire(),setTimeout(()=>this._sendChunk(t,e)))}).fail(L=>{this._shouldHandleError(t,L)&&this._handleFileError(t,L)})}_sendChunkCore(t,e,c){}_tryRaiseStartLoad(t){t.isStartLoad||(t.isStartLoad=!0,t.onLoadStart.fire())}_getEvent(t){return null}_createUploadArgument(t){return this._createChunksInfo(t.chunksData)}_createChunksInfo(t){return{bytesUploaded:t.loadedBytes,chunkCount:t.count,customData:t.customData,chunkBlob:t.currentChunk.blob,chunkIndex:t.currentChunk.index}}}class ri extends Ln{_sendChunkCore(t,e,c){return yr.Z.sendRequest({url:this.fileUploader.option("uploadUrl"),method:this.fileUploader.option("uploadMethod"),headers:this.fileUploader.option("uploadHeaders"),beforeSend:L=>this._beforeSend(L,t),upload:{onprogress:L=>this._handleProgress(t,L),onloadstart:()=>this._tryRaiseStartLoad(t),onabort:()=>t.onAbort.fire()},data:this._createFormData({fileName:e.name,blobName:this.fileUploader.option("name"),blob:c.blob,index:c.index,count:e.count,type:e.type,guid:e.guid,size:e.fileSize})})}_createFormData(t){var e=new V.FormData;return e.append(t.blobName,t.blob),e.append("chunkMetadata",JSON.stringify({FileName:t.fileName,Index:t.index,TotalCount:t.count,FileSize:t.size,FileType:t.type,FileGuid:t.guid})),this._extendFormData(e),e}}class Xr extends Ln{_sendChunkCore(t,e){this._tryRaiseStartLoad(t);var c=this._createChunksInfo(e),L=this.fileUploader.option("uploadChunk");try{var pt=L(t.value,c);return(0,A.p4)(pt)}catch(yt){return(new A.BH).reject(yt).promise()}}_shouldHandleError(t,e){return!0}}class bn extends In{_uploadCore(t){t.loadedSize=0,this._uploadFile(t).done(()=>{t.isAborted||t.onLoad.fire()}).fail(e=>{this._shouldHandleError(t,e)&&this._handleFileError(t,e)})}_uploadFile(t){}_handleProgressCore(t,e){t.onProgress.fire(e)}_getLoadedData(t,e,c,L){var pt=super._getLoadedData(t,e,c,L);return pt.event=L,pt}}class un extends bn{_uploadFile(t){return yr.Z.sendRequest({url:this.fileUploader.option("uploadUrl"),method:this.fileUploader.option("uploadMethod"),headers:this.fileUploader.option("uploadHeaders"),beforeSend:e=>this._beforeSend(e,t),upload:{onprogress:e=>this._handleProgress(t,e),onloadstart:()=>t.onLoadStart.fire(),onabort:()=>t.onAbort.fire()},data:this._createFormData(this.fileUploader.option("name"),t.value)})}_createFormData(t,e){var c=new V.FormData;return c.append(t,e,e.name),this._extendFormData(c),c}}class ni extends bn{_uploadFile(t){t.onLoadStart.fire();var e=this.fileUploader.option("uploadFile");try{var c=e(t.value,L=>{this._handleProgress(t,{loaded:L,total:t.value.size})});return(0,A.p4)(c)}catch(L){return(new A.BH).reject(L).promise()}}_shouldHandleError(t,e){return!0}}(0,S.Z)("dxFileUploader",sn);const _n=sn;var ii=["imageSrc","src"],Nn="phone"===z.Z.current().deviceType,fn="dx-formdialog",Dn="user";class vi{constructor(t,e){this.module=t,this.config=e??{},this.quill=this.module.quill,this.editorInstance=this.module.editorInstance}render(){this.editorInstance._formDialog&&(this.editorInstance._formDialog.beforeAddButtonAction=()=>this.getCurrentTab().upload()),this.tabPanelIndex=0,this.formData=this.getFormData(),this.isUpdating=this.isImageUpdating(),this.tabsModel=this.createTabsModel(this.config.tabs),this.tabs=this.createTabs(this.formData);var t=this.getFormConfig();this.updatePopupConfig(),this.updateAddButtonState(),this.editorInstance.showFormDialog(t).done((e,c)=>{this.tabs[this.getActiveTabIndex()].strategy.pasteImage(e,c)}).always(()=>{this.resetDialogPopupOptions(),this.quill.focus()})}getCurrentTab(){return this.tabs[this.tabPanelIndex]}updateAddButtonState(){var t=this.getCurrentTab().isDisableButton();this.setAddButtonDisabled(t)}setAddButtonDisabled(t){this.editorInstance.formDialogOption({"toolbarItems[0].options.disabled":t})}getActiveTabIndex(){return this.isUpdating?0:this.tabPanelIndex}getFormData(){return this.getUpdateDialogFormData(this.quill.getFormat())}getUpdateDialogFormData(t){var{imageSrc:e,src:c}=t,L=(0,Lr.Z)(t,ii);return(0,B.Z)({src:e??c},L)}createUrlTab(t){return new Fn(this.module,{config:this.config,formData:t,isUpdating:this.isUpdating},()=>this.updateAddButtonState())}createFileTab(){return new mi(this.module,{config:this.config},()=>this.updateAddButtonState())}createTabsModel(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===t.length||this.isUpdating?["url"]:t.map(e=>"object"==typeof e?e.name:e)}createTabs(t){return this.tabsModel.map(e=>"url"===e?this.createUrlTab(t):this.createFileTab())}isImageUpdating(){var t;return Object.prototype.hasOwnProperty.call(null!==(t=this.module.quill.getFormat())&&void 0!==t?t:{},"imageSrc")}updatePopupConfig(){var t="".concat("dx-htmleditor-add-image-popup"," ").concat(fn);this.useTabbedItems()&&(t+=" ".concat("dx-htmleditor-add-image-popup-with-tabs"));var c=this.isUpdating?"dxHtmlEditor-dialogImageUpdateButton":"dxHtmlEditor-dialogImageAddButton";this.editorInstance.formDialogOption({title:Pt.Z.format(this.isUpdating?"dxHtmlEditor-dialogUpdateImageCaption":"dxHtmlEditor-dialogImageCaption"),"toolbarItems[0].options.text":Pt.Z.format(c),wrapperAttr:{class:t}})}resetDialogPopupOptions(){this.editorInstance.formDialogOption({"toolbarItems[0].options.text":Pt.Z.format("OK"),"toolbarItems[0].options.visible":!0,"toolbarItems[0].options.disabled":!1,wrapperAttr:{class:fn}})}useTabbedItems(){return this.tabsModel.length>1}getFormWidth(){return Nn?"100%":493}getFormConfig(){return{formData:this.formData,width:this.getFormWidth(),labelLocation:"top",colCount:this.useTabbedItems()?1:11,items:this.getItemsConfig()}}getItemsConfig(){return this.useTabbedItems()?[{itemType:"tabbed",tabPanelOptions:{onSelectionChanged:e=>{this.tabPanelIndex=e.component.option("selectedIndex"),this.updateAddButtonState()}},tabs:(0,pe.UI)(this.tabs,e=>({title:e.getTabName(),colCount:11,items:e.getItemsConfig()}))}]:this.tabs[0].getItemsConfig()}}class jn{constructor(t,e,c){var{config:L,formData:pt,isUpdating:yt}=e;this.module=t,this.config=L,this.formData=pt,this.isUpdating=yt,this.onFileSelected=c,this.strategy=this.createStrategy()}getItemsConfig(){return this.strategy.getItemsConfig()}createStrategy(){return this.isUpdating?new gi(this.module,this.config,this.formData):new Un(this.module,this.config,this.onFileSelected)}isDisableButton(){return!1}upload(){return this.strategy.upload()}}class Fn extends jn{getTabName(){return Pt.Z.format("dxHtmlEditor-dialogImageSpecifyUrl")}}class mi extends jn{getTabName(){return Pt.Z.format("dxHtmlEditor-dialogImageSelectFile")}createStrategy(){return new Cn(this.module,this.config,this.onFileSelected)}isDisableButton(){return!this.strategy.isValid()}}class En{constructor(t,e){this.module=t,this.config=e,this.editorInstance=t.editorInstance,this.quill=t.quill,this.selection=this.getQuillSelection()}getQuillSelection(){return this.quill.getSelection()??{index:this.quill.getLength(),length:0}}pasteImage(){}isValid(){return!0}upload(){}}class Un extends En{constructor(t,e,c){super(t,e,c),this.shouldKeepAspectRatio=!0}pasteImage(t,e){this.module.saveValueChangeEvent(e),Sn(this.quill,this.selection.index,t)}keepAspectRatio(t,e){var{dependentEditor:c,e:L}=e,pt=parseInt(L.value),yt=parseInt(L.previousValue),Dt=parseInt(c.option("value"));t.component.updateData(t.dataField,pt),this.shouldKeepAspectRatio&&Dt&&yt&&!this.preventRecalculating&&(this.preventRecalculating=!0,c.option("value",Math.round(pt*Dt/parseInt(yt)).toString())),this.preventRecalculating=!1}createKeepAspectRatioEditor(t,e,c){return this.editorInstance._createComponent(t,Xt.Z,(0,n.l)(!0,e.editorOptions,{value:e.component.option("formData")[e.dataField],onEnterKey:e.component.option("onEditorEnterKey").bind(this.editorInstance._formDialog,e),onValueChanged:L=>{this.keepAspectRatio(e,{dependentEditor:this[c+"Editor"],e:L})}}))}upload(){return this.editorInstance._formDialog._form.validate().isValid}getItemsConfig(){var t=(0,fr.dC)()?"text":"outlined";return[{dataField:"src",colSpan:11,label:{text:Pt.Z.format("dxHtmlEditor-dialogImageUrlField")},validationRules:[{type:"required"},{type:"stringLength",min:1}]},{dataField:"width",colSpan:6,label:{text:Pt.Z.format("dxHtmlEditor-dialogImageWidthField")},template:e=>{var c=(0,C.Z)("<div>").addClass("dx-fix-ratio-container"),L=(0,C.Z)("<div>").appendTo(c);this.widthEditor=this.createKeepAspectRatioEditor(L,e,"height");var pt=(0,C.Z)("<div>").appendTo(c);return this.editorInstance._createComponent(pt,Er.Z,{items:[{icon:"imgarlock",value:"keepRatio"}],hint:Pt.Z.format("dxHtmlEditor-dialogImageKeepAspectRatio"),focusStateEnabled:!1,keyExpr:"value",stylingMode:t,selectionMode:"multiple",selectedItemKeys:["keepRatio"],onSelectionChanged:yt=>{this.shouldKeepAspectRatio=!!yt.component.option("selectedItems").length}}),c}},{dataField:"height",colSpan:5,label:{text:Pt.Z.format("dxHtmlEditor-dialogImageHeightField")},template:e=>{var c=(0,C.Z)("<div>");return this.heightEditor=this.createKeepAspectRatioEditor(c,e,"width"),c}},{dataField:"alt",colSpan:11,label:{text:Pt.Z.format("dxHtmlEditor-dialogImageAltField")}}]}}class gi extends Un{constructor(t,e,c,L){super(t,e,L),this.formData=c,this.modifyFormData()}modifyFormData(){var{imageSrc:t}=this.quill.getFormat(this.selection.index-1,1);(!t||0===this.selection.index)&&(this.selection={index:this.selection.index+1,length:0},this.quill.setSelection(this.selection.index,this.selection.length,"silent"));var c,L,e=this.quill.getLeaf(this.selection.index)[0].domNode;e&&(this.formData.width=null!==(c=this.formData.width)&&void 0!==c?c:(0,k.dz)((0,C.Z)(e)),this.formData.height=null!==(L=this.formData.height)&&void 0!==L?L:(0,k.Cr)((0,C.Z)(e)))}pasteImage(t,e){this.quill.deleteText(this.embedFormatIndex(),1,"silent"),this.selection.index-=1,super.pasteImage(t,e)}embedFormatIndex(){var t,e=null!==(t=this.selection)&&void 0!==t?t:this.quill.getSelection();return e?e.length?e.index:e.index-1:this.quill.getLength()}}class Cn extends En{constructor(t,e,c){super(t,e,c),this.useBase64=!(0,v.$K)(this.config.fileUploadMode)||"base64"===this.config.fileUploadMode,this.isValidInternal=!1,this.onFileSelected=c,this.data=null}upload(){return this.useBase64?this.base64Upload(this.data):this.data.value.length&&this.data.component.upload(),!0}isValid(){return this.isValidInternal}onUploaded(t){Hn(this.config.uploadDirectory,t.file.name,this.quill,this.selection.index)}base64Upload(t){this.quill.getModule("uploader").upload(this.selection,t.value,!0)}pasteImage(t,e){this.useBase64&&super.pasteImage(t,e)}isBase64Editable(){return"both"===this.config.fileUploadMode}validate(t){var e=t.component;this.isValidInternal=!e._files.some(c=>!c.isValid()),0===e._files.length&&(this.isValidInternal=!1)}getFileUploaderOptions(){return(0,n.l)({},{value:[],name:"dx-htmleditor-image",accept:"image/*",uploadMode:"useButtons"},{uploadUrl:this.config.uploadUrl,onValueChanged:e=>{this.validate(e),this.data=e,this.onFileSelected()},onUploaded:e=>this.onUploaded(e)},this.config.fileUploaderOptions)}getItemsConfig(){return[{itemType:"simple",dataField:"files",colSpan:11,label:{visible:!1},template:()=>{var t=(0,C.Z)("<div>");return this.module.editorInstance._createComponent(t,_n,this.getFileUploaderOptions()),t}},{itemType:"simple",colSpan:11,label:{visible:!1},editorType:"dxCheckBox",editorOptions:{value:this.useBase64,visible:this.isBase64Editable(),text:Pt.Z.format("dxHtmlEditor-dialogImageEncodeToBase64"),onValueChanged:t=>{this.isBase64Editable()&&(this.useBase64=t.value)}}}]}}function Sn(r,t,e){r.insertEmbed(t,"extendedImage",e,Dn),r.setSelection(t+1,0,Dn)}function Hn(r,t,e,c){if(r){var L=function yi(r){return"/"!==r[r.length-1]?r+"/":r}(r)+t;Sn(e,c,{src:L})}}var hn=400,$n=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"].map(r=>({id:r,value:Pt.Z.format("dxHtmlEditor-borderStyle".concat((0,Ze._A)(r,!0)))})),Kr="user",_i="silent",Wn="dxHtmlEditor-dialogColorCaption",zn="dxHtmlEditor-dialogBackgroundCaption",on="dxHtmlEditor-dialogLinkCaption",Kn="dxHtmlEditor-dialogInsertTableCaption",dn="dxHtmlEditor-dialogLinkUrlField",Oi="dxHtmlEditor-dialogLinkTextField",Ei="dxHtmlEditor-dialogLinkTargetField",Ci="dx-formdialog-field-target",pn="dxHtmlEditor-dialogInsertTableRowsField",Si="dxHtmlEditor-dialogInsertTableColumnsField",s={insertHeaderRow:"header",clear:"clearformat"};function a(r){return{clear:t=>{var L,{event:e}=t,c=r.quill.getSelection();c&&(r.saveValueChangeEvent(e),r.quill.removeFormat(c),null===(L=Ti(r))||void 0===L||L.updateFormatWidgets())},link:ji(r),image:Vn(r,r.editorInstance.option("imageUpload")),color:Fi(r,"color"),background:Fi(r,"background"),orderedList:en(r,"list","ordered"),bulletList:en(r,"list","bullet"),alignLeft:en(r,"align","left"),alignCenter:en(r,"align","center"),alignRight:en(r,"align","right"),alignJustify:en(r,"align","justify"),codeBlock:Pi(r,"code-block"),undo:t=>{var{event:e}=t;r.saveValueChangeEvent(e),r.quill.history.undo()},redo:t=>{var{event:e}=t;r.saveValueChangeEvent(e),r.quill.history.redo()},increaseIndent:t=>{var{event:e}=t;St(r,["indent","+1",Kr],e)},decreaseIndent:t=>{var{event:e}=t;St(r,["indent","-1",Kr],e)},superscript:en(r,"script","super"),subscript:en(r,"script","sub"),insertTable:fo(r),insertHeaderRow:Xe(r.quill,"insertHeaderRow"),insertRowAbove:Xe(r.quill,"insertRowAbove"),insertRowBelow:Xe(r.quill,"insertRowBelow"),insertColumnLeft:Xe(r.quill,"insertColumnLeft"),insertColumnRight:Xe(r.quill,"insertColumnRight"),deleteColumn:Xe(r.quill,"deleteColumn"),deleteRow:Xe(r.quill,"deleteRow"),deleteTable:Xe(r.quill,"deleteTable"),cellProperties:nt(r,"cell"),tableProperties:nt(r,"table")}}function G(r,t){var{contentTemplate:e,title:c,minHeight:L,minWidth:pt,maxWidth:yt}=t;r.formDialogOption({contentTemplate:e,title:c,minHeight:L??0,minWidth:pt??0,maxWidth:yt??"none"})}function nt(r,t){return e=>{var c,L;null!==(c=e)&&void 0!==c&&c.length||(e=(0,C.Z)(function Zt(r,t){var e=r.quill.getModule("table").getTable();return"table"===t?e[0].domNode:e[2].domNode}(r,t)));var Ue,[pt,yt]=null!==(L=r.quill.getModule("table").getTable())&&void 0!==L?L:[],Dt=r.quill.getFormat(r.editorInstance.getSelection(!0)),zt=function vo(r){return"cell"===r?po:ho}(t)(r,{$element:e,formats:Dt,tableBlot:pt,rowBlot:yt}),{contentTemplate:te,title:ne,minHeight:Vt,minWidth:Qt,maxWidth:Be}=r.editorInstance._formDialog._popup.option(),Pe={contentTemplate:te,title:ne,minHeight:Vt,minWidth:Qt,maxWidth:Be};r.editorInstance.formDialogOption({contentTemplate:Ne=>{var Oe=(0,C.Z)("<div>").appendTo(Ne),rn=(0,C.Z)("<div>").appendTo(Oe);return r.editorInstance._createComponent(rn,kr.Z,zt.formOptions),r.editorInstance._createComponent(Oe,tr.Z,{}),Ue=rn.dxForm("instance"),Oe},title:Pt.Z.format("dxHtmlEditor-".concat(t,"Properties")),minHeight:hn,minWidth:Math.min(800,.9*(0,k.dz)((0,Fe.Jj)())-1),maxWidth:.9*(0,k.dz)((0,Fe.Jj)())});var Ie=r.editorInstance.showFormDialog();Ie.done((Ne,Oe)=>{r.saveValueChangeEvent(Oe),zt.applyHandler(Ue),G(r.editorInstance,Pe)}),Ie.fail(()=>{r.quill.focus(),G(r.editorInstance,Pe)})}}function St(r,t,e){r.saveValueChangeEvent(e),r.quill.format(...t)}function Tn(r){return Array.isArray(r)?r[0]:r}function ji(r){return()=>{var t;r.quill.focus();var e=r.quill.getSelection(),c=e?r.quill.getFormat():{},L=void 0!==c.link&&0===(null===(t=e)||void 0===t?void 0:t.length),pt=c.link||"";if(L){var yt=function xe(r,t){var L,pt,c=_().import("formats/link");return[L,pt]=r.quill.scroll.descendant(c,t.index),!L&&0===t.length&&([L,pt]=r.quill.scroll.descendant(c,t.index-1),L&&(pt+=1)),L?{index:t.index-pt,length:L.length()}:null}(r,e);yt?e=yt:pt=""}var Dt=function ir(r,t){return!!t&&r.quill.getText(t).length<t.length}(r,e),zt={href:pt,text:e&&!Dt?r.quill.getText(e):"",target:!Object.prototype.hasOwnProperty.call(c,"target")||!!c.target};r.editorInstance.formDialogOption("title",Pt.Z.format(on));var te=r.editorInstance.showFormDialog({formData:zt,items:Gn(Dt)});te.done((ne,Vt)=>{if(e&&!Dt){var Qt=ne.text||ne.href,{index:Be,length:Pe}=e;ne.text=void 0,r.saveValueChangeEvent(Vt),Pe&&r.quill.deleteText(Be,Pe,_i),r.quill.insertText(Be,Qt,"link",ne,Kr),r.quill.setSelection(Be+Qt.length,0,Kr)}else ne.text=e||ne.text?ne.text:ne.href,St(r,["link",ne,Kr],Vt)}),te.fail(()=>{r.quill.focus()})}}function Vn(r,t){var e=new vi(r,t);return()=>{e.render()}}function Gn(r){return[{dataField:"href",label:{text:Pt.Z.format(dn)}},{dataField:"text",label:{text:Pt.Z.format(Oi)},visible:!r},{dataField:"target",editorType:"dxCheckBox",editorOptions:{text:Pt.Z.format(Ei)},cssClass:Ci,label:{visible:!1}}]}function Fi(r,t){return()=>{var e=r.quill.getFormat();r.editorInstance.formDialogOption("title",Pt.Z.format("color"===t?Wn:zn));var L=r.editorInstance.showFormDialog({formData:e,items:[{dataField:t,editorType:"dxColorView",editorOptions:{focusStateEnabled:!1},label:{visible:!1}}]});L.done((pt,yt)=>{St(r,[t,pt[t],Kr],yt)}),L.fail(()=>{r.quill.focus()})}}function en(r,t,e){return c=>{var L,{event:pt}=c,yt=r.quill.getFormat();St(r,[t,yt[t]!==e&&e,Kr],pt),null===(L=Ti(r))||void 0===L||L.updateFormatWidgets(!0)}}function Ti(r){return r._updateFormatWidget?r:r.quill.getModule("toolbar")}function Pi(r,t){return e=>{var c,{event:L}=e,pt=r.quill.getFormat(),yt=pt[t],Dt=!((0,v.jn)(yt)?yt:(0,v.$K)(yt));St(r,[t,Dt,Kr],L),null===(c=Ti(r))||void 0===c||c._updateFormatWidget(t,Dt,pt)}}function fo(r){return()=>{var t=r.quill.getFormat();r._tableFormats.some(L=>Object.prototype.hasOwnProperty.call(t,L))?r.quill.focus():(r.editorInstance.formDialogOption("title",Pt.Z.format(Kn)),r.editorInstance.showFormDialog({formData:{rows:1,columns:1},items:[{dataField:"columns",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Pt.Z.format(pn)}},{dataField:"rows",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:Pt.Z.format(Si)}}]}).done((L,pt)=>{r.quill.focus();var yt=r.quill.getModule("table");if(yt){r.saveValueChangeEvent(pt);var{columns:Dt,rows:zt}=L;yt.insertTable(Dt,zt)}}).always(()=>{r.quill.focus()}))}}function ho(r,t){var yt,Dt,zt,{$element:e,formats:c,tableBlot:L}=t,pt=(0,Fe.Jj)(),te=e,ne=r.editorInstance,Vt=parseInt(c.tableWidth)||(0,k.Y_)(te),Qt=pt.getComputedStyle(te.get(0)),Be="start"===Qt.textAlign?"left":Qt.textAlign;return{formOptions:{colCount:2,formData:{width:Vt,height:(0,v.$K)(c.tableHeight)?parseInt(c.tableHeight):(0,k.zp)(te),backgroundColor:c.tableBackgroundColor||Qt.backgroundColor,borderStyle:c.tableBorderStyle||Qt.borderTopStyle,borderColor:c.tableBorderColor||Qt.borderTopColor,borderWidth:parseInt((0,v.$K)(c.tableBorderWidth)?c.tableBorderWidth:Qt.borderTopWidth),alignment:c.tableAlign||Be},items:[{itemType:"group",caption:Pt.Z.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Pt.Z.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:$n,valueExpr:"id",displayExpr:"value",placeholder:"Select style"}},{dataField:"borderWidth",label:{text:Pt.Z.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Pt.Z.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",label:{text:Pt.Z.format("dxHtmlEditor-borderColor")},colSpan:2,template:Ue=>{var Ie=(0,C.Z)("<div>");return ne._createComponent(Ie,cr,{editAlphaChannel:!0,value:Ue.component.option("formData").borderColor,onInitialized:Ne=>{Dt=Ne.component}}),Ie}}]},{itemType:"group",caption:Pt.Z.format("dxHtmlEditor-dimensions"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"width",label:{text:Pt.Z.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Pt.Z.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Pt.Z.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Pt.Z.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Pt.Z.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Pt.Z.format("dxHtmlEditor-borderColor")},template:Ue=>{var Ie=(0,C.Z)("<div>");return ne._createComponent(Ie,cr,{editAlphaChannel:!0,value:Ue.component.option("formData").backgroundColor,onInitialized:Ne=>{zt=Ne.component}}),Ie}}]},{itemType:"group",caption:Pt.Z.format("dxHtmlEditor-alignment"),items:[{itemType:"simple",label:{text:Pt.Z.format("dxHtmlEditor-horizontal")},template:()=>{var Ue=(0,C.Z)("<div>");return ne._createComponent(Ue,Er.Z,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[Be],onInitialized:Ie=>{yt=Ie.component}}),Ue}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400},applyHandler:Ue=>{var Ie=Ue.option("formData");(function mo(r,t){var{$table:e,newHeight:c,newWidth:L,tableBlot:pt}=t;if((0,v.$K)(L))if(ke(e).length>0)r.editorInstance.format("tableWidth",L+"px");else{var Dt=We(e),zt=(0,k.Y_)(e);De(e,{tableBlot:pt}),(0,pe.S6)(Dt,(Qt,Be)=>{var Pe=(0,C.Z)(Be),Ue=L/zt*(0,k.Y_)(Pe),Ie=je(e,Pe.index(),"horizontal");Se(r,{elements:Ie,property:"width",value:Ue})})}var te=ke(e,"vertical");if(te?.length>0)pt.format("tableHeight",c+"px");else{var ne=Rr(e),Vt=(0,k.zp)(e);(0,pe.S6)(ne,(Qt,Be)=>{var Pe=(0,C.Z)(Be),Ue=c/Vt*(0,k.zp)(Pe),Ie=je(e,Qt,"vertical");Se(r,{elements:Ie,property:"height",value:Ue})})}})(r,{$table:te,newHeight:Ie.height,newWidth:Ie.width===Vt?void 0:Ie.width,tableBlot:L}),r.editorInstance.format("tableBorderStyle",Ie.borderStyle),r.editorInstance.format("tableBorderWidth",Ie.borderWidth+"px"),r.editorInstance.format("tableBorderColor",Dt.option("value")),r.editorInstance.format("tableBackgroundColor",zt.option("value")),r.editorInstance.format("tableTextAlign",yt.option("selectedItemKeys")[0])}}}function po(r,t){var Dt,zt,te,ne,{$element:e,formats:c,tableBlot:L,rowBlot:pt}=t,yt=(0,Fe.Jj)(),Vt=e,Qt=(0,v.$K)(c.cellWidth)?parseInt(c.cellWidth):(0,k.Y_)(Vt),Be=r.editorInstance,Pe=yt.getComputedStyle(Vt.get(0)),Ue="start"===Pe.textAlign?"left":Pe.textAlign;return{formOptions:{colCount:2,formData:{width:Qt,height:(0,v.$K)(c.cellHeight)?parseInt(c.cellHeight):(0,k.zp)(Vt),backgroundColor:Tn(c.cellBackgroundColor)||Pe.backgroundColor,borderStyle:c.cellBorderStyle||Pe.borderTopStyle,borderColor:Tn(c.cellBorderColor)||Pe.borderTopColor,borderWidth:parseInt((0,v.$K)(c.cellBorderWidth)?c.cellBorderWidth:Pe.borderTopWidth),alignment:c.cellTextAlign||Ue,verticalAlignment:c.cellVerticalAlign||Pe.verticalAlign,verticalPadding:parseInt((0,v.$K)(c.cellPaddingTop)?c.cellPaddingTop:Pe.paddingTop),horizontalPadding:parseInt((0,v.$K)(c.cellPaddingLeft)?c.cellPaddingLeft:Pe.paddingLeft)},items:[{itemType:"group",caption:Pt.Z.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:Pt.Z.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:$n,valueExpr:"id",displayExpr:"value"}},{dataField:"borderWidth",label:{text:Pt.Z.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:Pt.Z.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",colSpan:2,label:{text:Pt.Z.format("dxHtmlEditor-borderColor")},template:Ne=>{var Oe=(0,C.Z)("<div>");return Be._createComponent(Oe,cr,{editAlphaChannel:!0,value:Ne.component.option("formData").borderColor,onInitialized:rn=>{te=rn.component}}),Oe}}]},{itemType:"group",caption:Pt.Z.format("dxHtmlEditor-dimensions"),colCount:2,colCountByScreen:{xs:2},items:[{dataField:"width",label:{text:Pt.Z.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:Pt.Z.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:Pt.Z.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:Pt.Z.format("dxHtmlEditor-pixels")}},{dataField:"verticalPadding",label:{text:Pt.Z.format("dxHtmlEditor-paddingVertical")},editorOptions:{placeholder:Pt.Z.format("dxHtmlEditor-pixels")}},{label:{text:Pt.Z.format("dxHtmlEditor-paddingHorizontal")},dataField:"horizontalPadding",editorOptions:{placeholder:Pt.Z.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:Pt.Z.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:Pt.Z.format("dxHtmlEditor-borderColor")},template:Ne=>{var Oe=(0,C.Z)("<div>");return Be._createComponent(Oe,cr,{editAlphaChannel:!0,value:Ne.component.option("formData").backgroundColor,onInitialized:rn=>{ne=rn.component}}),Oe}}]},{itemType:"group",caption:Pt.Z.format("dxHtmlEditor-alignment"),colCount:2,items:[{itemType:"simple",label:{text:Pt.Z.format("dxHtmlEditor-horizontal")},template:()=>{var Ne=(0,C.Z)("<div>");return Be._createComponent(Ne,Er.Z,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[Ue],onInitialized:Oe=>{Dt=Oe.component}}),Ne}},{itemType:"simple",label:{text:Pt.Z.format("dxHtmlEditor-vertical")},template:()=>{var Ne=(0,C.Z)("<div>");return Be._createComponent(Ne,Er.Z,{items:[{value:"top",icon:"verticalaligntop"},{value:"middle",icon:"verticalaligncenter"},{value:"bottom",icon:"verticalalignbottom"}],keyExpr:"value",selectedItemKeys:[Pe.verticalAlign],onInitialized:Oe=>{zt=Oe.component}}),Ne}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400},applyHandler:Ne=>{var Oe=Ne.option("formData"),rn=Oe.width===parseInt(Qt)?void 0:Oe.width;(function go(r,t){var{$cell:e,newHeight:c,newWidth:L,tableBlot:pt,rowBlot:yt}=t,Dt=(0,C.Z)(e.closest("table"));if((0,v.$K)(L)){var zt=(0,C.Z)(e).index(),te=je(Dt,zt),ne=L-(0,k.Y_)(e);L>(0,k.Y_)(Dt)&&De(Dt,{tableBlot:pt}),Se(r,{elements:te,property:"width",value:L});var Qt=e.next();if(0===ke(Dt).length)if(De(Dt,{tableBlot:pt}),1===Qt.length){te=je(Dt,zt+1);var Pe=(0,k.Y_)(te.eq(0))-ne;Se(r,{elements:te,property:"width",value:Math.max(Pe,0)})}else if(1===e.prev().length){te=je(Dt,zt-1);var Ie=(0,k.Y_)(te.eq(0))-ne;Se(r,{elements:te,property:"width",value:Math.max(Ie,0)})}}yt.children.forEach(Oe=>{Oe.format("cellHeight",c+"px")}),0===ke(Dt,"vertical").length&&Dt.css("height","auto")})(r,{$cell:Vt,newHeight:Oe.height,newWidth:rn,tableBlot:L,rowBlot:pt}),r.editorInstance.format("cellBorderWidth",Oe.borderWidth+"px"),r.editorInstance.format("cellBorderColor",te.option("value")),r.editorInstance.format("cellBorderStyle",Oe.borderStyle),r.editorInstance.format("cellBackgroundColor",ne.option("value")),r.editorInstance.format("cellTextAlign",Dt.option("selectedItemKeys")[0]),r.editorInstance.format("cellVerticalAlign",zt.option("selectedItemKeys")[0]),r.editorInstance.format("cellPaddingLeft",Oe.horizontalPadding+"px"),r.editorInstance.format("cellPaddingRight",Oe.horizontalPadding+"px"),r.editorInstance.format("cellPaddingTop",Oe.verticalPadding+"px"),r.editorInstance.format("cellPaddingBottom",Oe.verticalPadding+"px")}}}var Ui=T;if(d()){var Zi="dx-htmleditor-toolbar-wrapper",Hi="dx-format-active",$i="dx-state-selected",Po={66:"bold",73:"italic",85:"underline"},wi={b:66,i:73,u:85},vn=r=>Pt.Z.format("dxHtmlEditor-".concat((0,Ze._A)(r)));Ui=class extends T{constructor(r,t){var e;if(super(r,t),e=this,this._toolbarWidgets=new Ar,this._formatHandlers=a(this),this._tableFormats=Dr(r),(0,v.$K)(t.items)){this._addCallbacks(),this._renderToolbar();var c=this.toolbarInstance._layoutStrategy._menu;if(c){var L=c._renderPopup;c._renderPopup=function(){for(var pt=arguments.length,yt=new Array(pt),Dt=0;Dt<pt;Dt++)yt[Dt]=arguments[Dt];L.apply(c,...yt),c._popup.on("showing",()=>{e._updateToolbar(!0)})}}this.quill.on("editor-change",(pt,yt,Dt,zt)=>{"silent"===zt&&(0,v.Qr)(this.quill.getFormat())||this._updateToolbar("selection-change"===pt)})}}_addCallbacks(){this.addCleanCallback(this.clean.bind(this)),this.editorInstance.addContentInitializedCallback(this.updateHistoryWidgets.bind(this))}_updateToolbar(r){this.updateFormatWidgets(r),this.updateHistoryWidgets(),this.updateTableWidgets()}_updateFormatWidget(r,t,e){var c=this._toolbarWidgets.getByName(r);c&&(t?this._markActiveFormatWidget(r,c,e):(this._resetFormatWidget(r,c),Object.prototype.hasOwnProperty.call(r)&&delete e[r]),this._toggleClearFormatting(t||!(0,v.Qr)(e)))}_renderToolbar(){var r=this.options.container||this._getContainer();this._$toolbar=(0,C.Z)("<div>").addClass("dx-htmleditor-toolbar").appendTo(r),this._$toolbarContainer=(0,C.Z)(r).addClass(Zi),x.Z.on(this._$toolbarContainer,(0,P.V4)("mousedown",this.editorInstance.NAME),t=>{t.target.focus(),t.preventDefault()}),this._subscribeFormatHotKeys(),this.toolbarInstance=this.editorInstance._createComponent(this._$toolbar,Y.Z,this.toolbarConfig),this.editorInstance.on("optionChanged",t=>{var{name:e}=t;("readOnly"===e||"disabled"===e)&&this.toolbarInstance.option("disabled",this.isInteractionDisabled)})}get toolbarConfig(){return{dataSource:this._prepareToolbarItems(),disabled:this.isInteractionDisabled,menuContainer:this._$toolbarContainer,multiline:this.isMultilineMode()}}get isInteractionDisabled(){return this.editorInstance.option("readOnly")||this.editorInstance.option("disabled")}isMultilineMode(){var r;return null===(r=this.options.multiline)||void 0===r||r}clean(){this._toolbarWidgets.clear(),this._$toolbarContainer&&this._$toolbarContainer.empty().removeClass(Zi)}repaint(){this.toolbarInstance&&this.toolbarInstance.repaint()}_getContainer(){var r=(0,C.Z)("<div>");return this.editorInstance.$element().prepend(r),r}_detectRenamedOptions(r){(0,v.Kn)(r)&&(0,pe.S6)([{newName:"name",oldName:"formatName"},{newName:"acceptedValues",oldName:"formatValues"}],(t,e)=>{Object.prototype.hasOwnProperty.call(r,e.oldName)&&W.Z.log("W1016",e.oldName,e.newName)})}_subscribeFormatHotKeys(){this.quill.keyboard.addBinding({which:wi.b,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:wi.i,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:wi.u,shortKey:!0},this._handleFormatHotKey.bind(this))}_handleFormatHotKey(r,t,e){var{which:c}=e;this._updateButtonState(Po[c])}_updateButtonState(r){var t=this._toolbarWidgets.getByName(r),e=this.quill.getFormat();e[r]?this._markActiveFormatWidget(r,t,e):this._resetFormatWidget(r,t)}_prepareToolbarItems(){var r=[];return(0,pe.S6)(this.options.items,(t,e)=>{var c;if(this._detectRenamedOptions(e),(0,v.Kn)(e))c=this._handleObjectItem(e);else if((0,v.HD)(e)){var L=this._prepareButtonItemConfig(e);c=this._getToolbarItem(L)}c&&r.push(c)}),r}_handleObjectItem(r){if(r.name&&r.acceptedValues&&this._isAcceptableItem(r.widget,"dxSelectBox")){var t=this._prepareSelectItemConfig(r);return this._getToolbarItem(t)}if(r.name&&this._isAcceptableItem(r.widget,"dxButton")){var e=this._prepareButtonItemConfig(r.name),c=(0,n.l)(!0,e,r);return this._getToolbarItem(c)}return this._getToolbarItem(r)}_isAcceptableItem(r,t){return!r||r===t}_prepareButtonItemConfig(r){var t,e=null!==(t=s[r])&&void 0!==t?t:r,c=(0,Ze.MI)(r);return{widget:"dxButton",name:r,options:{hint:vn(c),text:vn(c),icon:e.toLowerCase(),onClick:this._formatHandlers[r]||Pi(this,r),stylingMode:"text"},showText:"inMenu"}}_prepareSelectItemConfig(r){var{name:t,acceptedValues:e}=r;return(0,n.l)(!0,{widget:"dxSelectBox",name:t,options:{stylingMode:"filled",dataSource:e,displayExpr:c=>((r,t)=>"header"===t?(0,v.$K)(r)&&!1!==r?"".concat(vn("heading")," ").concat(r):vn("normalText"):vn(r)||r)(c,t),placeholder:vn(t),onValueChanged:c=>{this._isReset||(this._hideAdaptiveMenu(),St(this,[t,c.value,"user"],c.event),this._setValueSilent(c.component,c.value))}}},r)}_hideAdaptiveMenu(){this.toolbarInstance.option("overflowMenuVisible")&&this.toolbarInstance.option("overflowMenuVisible",!1)}_getToolbarItem(r){var t={options:{onInitialized:e=>{r.name&&(e.component.$element().addClass("dx-htmleditor-toolbar-format"),e.component.$element().toggleClass("dx-".concat(r.name.toLowerCase(),"-format"),!!r.name),this._toolbarWidgets.add(r.name,e.component))},onDisposing:()=>{this._toolbarWidgets.remove(r.name)}}};return(0,n.l)(!0,{location:"before",locateInMenu:"auto"},this._getDefaultConfig(r.name),r,t)}_getDefaultItemsConfig(){return{clear:{options:{disabled:!0}},undo:{options:{disabled:!0}},redo:{options:{disabled:!0}},insertRowAbove:{options:{disabled:!0}},insertRowBelow:{options:{disabled:!0}},insertHeaderRow:{options:{disabled:!0}},insertColumnLeft:{options:{disabled:!0}},insertColumnRight:{options:{disabled:!0}},deleteRow:{options:{disabled:!0}},deleteColumn:{options:{disabled:!0}},deleteTable:{options:{disabled:!0}},cellProperties:{options:{disabled:!0}},tableProperties:{options:{disabled:!0}},separator:{template:(r,t,e)=>{(0,C.Z)(e).addClass("dx-htmleditor-toolbar-separator")},menuItemTemplate:(r,t,e)=>{(0,C.Z)(e).addClass("dx-htmleditor-toolbar-menu-separator")}}}}_getDefaultConfig(r){return this._getDefaultItemsConfig()[r]}updateHistoryWidgets(){var r=this.quill.history;if(r){var{undo:t,redo:e}=r.stack;this._updateManipulationWidget(this._toolbarWidgets.getByName("undo"),!!t.length),this._updateManipulationWidget(this._toolbarWidgets.getByName("redo"),!!e.length)}}updateTableWidgets(){if(this.quill.getModule("table")){var t=this.quill.getSelection(),e=t&&this.quill.getFormat(t)||{},c=this._tableFormats.some(L=>!!e[L]);xr.forEach(L=>{var pt="insertTable"===L,yt=this._toolbarWidgets.getByName(L);this._updateManipulationWidget(yt,pt?!c:c)})}}_updateManipulationWidget(r,t){r&&r.option("disabled",!t)}updateFormatWidgets(r){var t=this.quill.getSelection();if(t){var e=this.quill.getFormat(t),c=!(0,v.Qr)(e);for(var L in(!c||r)&&this._resetFormatWidgets(),e){var pt=this._getFormatWidgetName(L,e),yt=this._toolbarWidgets.getByName(pt)||this._toolbarWidgets.getByName(L);yt&&this._markActiveFormatWidget(L,yt,e)}this._toggleClearFormatting(c||t.length>1)}}_markActiveFormatWidget(r,t,e){this._isColorFormat(r)&&this._updateColorWidget(r,e[r]),"value"in t.option()?this._setValueSilent(t,e[r]):(t.$element().addClass(Hi),t.$element().addClass($i))}_toggleClearFormatting(r){var t=this._toolbarWidgets.getByName("clear");t&&t.option("disabled",!r)}_isColorFormat(r){return"color"===r||"background"===r}_updateColorWidget(r,t){var e=this._toolbarWidgets.getByName(r);e&&e.$element().find(".".concat("dx-icon")).css("borderBottomColor",t||"transparent")}_getFormatWidgetName(r,t){var e;switch(r){case"align":e=r+(0,Ze.MI)(t[r]);break;case"list":e=t[r]+(0,Ze.MI)(r);break;case"code-block":e="codeBlock";break;case"script":e=t[r]+r;break;case"imageSrc":e="image";break;default:e=r}return e}_setValueSilent(r,t){this._isReset=!0,r.option("value",t),this._isReset=!1}_resetFormatWidgets(){this._toolbarWidgets.each((r,t)=>{this._resetFormatWidget(r,t)})}_resetFormatWidget(r,t){t.$element().removeClass(Hi),t.$element().removeClass($i),this._isColorFormat(r)&&this._updateColorWidget(r),"clear"===r&&t.option("disabled",!0),"dxSelectBox"===t.NAME&&this._setValueSilent(t,null)}addClickHandler(r,t){this._formatHandlers[r]=t;var e=this._toolbarWidgets.getByName(r);e&&"dxButton"===e.NAME&&e.option("onClick",t)}}}const Ao=Ui;var xo=ie(30120),Wi=T;d()&&(Wi=class extends T{constructor(r,t){super(r,t);var e=this.editorInstance.NAME;x.Z.on(this.quill.root,(0,P.V4)("drop",e),this._dropHandler.bind(this)),x.Z.on(this.quill.root,(0,P.V4)("paste",e),this._pasteHandler.bind(this))}_dropHandler(r){var t,e=r.originalEvent.dataTransfer,c=null==e||null===(t=e.files)||void 0===t?void 0:t.length;this.saveValueChangeEvent(r),r.preventDefault(),c&&this._getImage(e.files,this._addImage.bind(this))}_pasteHandler(r){var t,{clipboardData:e}=r.originalEvent;if(this.saveValueChangeEvent(r),e){var c=null===(t=e.items)||void 0===t?void 0:t.length;!e.getData("text/html")&&c&&this._getImage(e.items,pt=>{xo.Z.mozilla||this._addImage(pt)})}}_isImage(r){return!!r.type.match(/^image\/(a?png|bmp|gif|p?jpe?g|svg|vnd\.microsoft\.icon|webp)/i)}_getImage(r,t){var e=(0,Fe.Jj)();(0,pe.S6)(r,(c,L)=>{if(this._isImage(L)){var pt=new e.FileReader;pt.onload=Dt=>{var{target:zt}=Dt;t(zt.result)};var yt=L.getAsFile?L.getAsFile():L;yt instanceof e.Blob&&pt.readAsDataURL(yt)}})}_addImage(r){var t=this.quill.getSelection(),e=t?t.index:this.quill.getLength();this.quill.insertEmbed(e,"extendedImage",r,"user")}});const Ro=Wi;var Pn=ie(94813),zi=ie(30636),Io=ie(85306),Ki=T;d()&&(Ki=class extends T{_getDefaultOptions(){return{dataSource:null}}constructor(r,t){super(r,t),this.options=(0,n.l)({},this._getDefaultOptions(),t),this._popup=this.renderPopup(),this._popup.$wrapper().addClass("dx-suggestion-list-wrapper"),this._renderPreventFocusOut()}renderList(r,t){var e=(0,C.Z)("<div>").addClass("dx-suggestion-list").appendTo(r);this._list=this.options.editorInstance._createComponent(e,Io.Z,t)}renderPopup(){var r=this.options.editorInstance,t=(0,C.Z)("<div>").appendTo(r.$element()),e=this._getPopupConfig();return r._createComponent(t,zi.Z,e)}_getPopupConfig(){return{contentTemplate:r=>{var t=this._getListConfig(this.options);this.renderList((0,C.Z)(r),t)},deferRendering:!1,onShown:()=>{this._list.focus()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null)},showTitle:!1,width:"auto",height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},fullScreen:!1,maxHeight:this.maxHeight}}_getListConfig(r){return{dataSource:r.dataSource,onSelectionChanged:this.selectionChangedHandler.bind(this),selectionMode:"single",pageLoadMode:"scrollBottom"}}get maxHeight(){var r=(0,Fe.Jj)(),t=r&&(0,k.Cr)(r)||0;return Math.max(100,.5*t)}selectionChangedHandler(r){this._popup.option("visible")&&(this._popup.hide(),this.insertEmbedContent(r))}_renderPreventFocusOut(){var r=(0,P.V4)("mousedown","dxHtmlEditorPopupModule");x.Z.on(this._popup.$wrapper(),r,t=>{t.preventDefault()})}insertEmbedContent(r){}showPopup(){this._popup&&this._popup.show()}savePosition(r){this.caretPosition=r}getPosition(){return this.caretPosition}});const Vi=Ki;var wn={};if(d()){var Do=d().import("blots/embed");(wn=class extends Do{static create(r){var e,c,t=super.create(),L=r.value;return Array.isArray(r.escapeChar)?(e=(0,O.IS)(r.escapeChar[0],""),c=(0,O.IS)(r.escapeChar[1],"")):e=c=r.escapeChar,t.innerText=e+L+c,t.dataset.varStartEscChar=e,t.dataset.varEndEscChar=c,t.dataset.varValue=r.value,t}static value(r){return(0,n.l)({},{value:r.dataset.varValue,escapeChar:[r.dataset.varStartEscChar||"",r.dataset.varEndEscChar||""]})}}).blotName="variable",wn.tagName="span",wn.className="dx-variable"}const jo=wn;var Gi=T;d()&&(d().register({"formats/variable":jo},!0),Gi=class extends Vi{_getDefaultOptions(){var r=super._getDefaultOptions();return(0,n.l)(r,{escapeChar:""})}constructor(r,t){super(r,t);var e=r.getModule("toolbar");e&&e.addClickHandler("variable",this.showPopup.bind(this)),r.keyboard.addBinding({key:"P",altKey:!0},this.showPopup.bind(this)),this._popup.on("shown",c=>{var L=(0,C.Z)(c.component.option("position").of);L.hasClass("dx-variable-format")&&(L.addClass("dx-format-active"),L.addClass("dx-state-selected"))})}showPopup(r){var t=this.quill.getSelection(!0),e=t?t.index:this.quill.getLength();this.savePosition(e),this._resetPopupPosition(r,e),super.showPopup()}_resetPopupPosition(r,t){if(r&&r.element)this._popup.option("position",{of:r.element,offset:{h:0,v:0},my:"top center",at:"bottom center",collision:"fit"});else{var e=this.quill.getBounds(t),c=(0,Pn.l)(this.quill.root);this._popup.option("position",{of:this.quill.root,offset:{h:e.left,v:e.bottom-c.height},my:"top center",at:"bottom left",collision:"fit flip"})}}insertEmbedContent(r){var t=this.getPosition(),e=r.component.option("selectedItem"),c=(0,n.l)({},{value:e,escapeChar:this.options.escapeChar});setTimeout(function(){this.quill.insertEmbed(t,"variable",c),this.quill.setSelection(t+1)}.bind(this))}});const Ho=Gi;var $o=ie(67533),An="dxHtmlResizingModule",qi=(0,P.V4)("keydown",An),Ko=(0,P.V4)("scroll",An),Vo=(0,P.V4)("mousedown",An);class Go extends T{constructor(t,e){super(t,e),this.allowedTargets=e.allowedTargets||["image"],this.enabled=!!e.enabled,this._hideFrameWithContext=this.hideFrame.bind(this),this._framePositionChangedHandler=this._prepareFramePositionChangedHandler(),this.enabled&&(this._attachEvents(),this._createResizeFrame())}_attachEvents(){x.Z.on(this.quill.root,(0,P.V4)(xt.u,An),this._clickHandler.bind(this)),x.Z.on(this.quill.root,Ko,this._framePositionChangedHandler),this.editorInstance.on("focusOut",this._hideFrameWithContext),this.quill.on("text-change",this._framePositionChangedHandler)}_detachEvents(){x.Z.off(this.quill.root,An),this.editorInstance.off("focusOut",this._hideFrameWithContext),this.quill.off("text-change",this._framePositionChangedHandler)}_clickHandler(t){if(this._isAllowedTarget(t.target)){if(this._$target===t.target)return;this._$target=t.target;var e=(0,C.Z)(this._$target),c=Math.max((0,k.Y_)(e)-(0,k.dz)(e),this.resizable.option("minWidth")),L=Math.max((0,k.zp)(e)-(0,k.Cr)(e),this.resizable.option("minHeight"));this.resizable.option({minWidth:c,minHeight:L}),this.updateFramePosition(),this.showFrame(),this._adjustSelection()}else this._$target&&this.hideFrame()}_prepareFramePositionChangedHandler(t){return()=>{this._$target&&this.updateFramePosition()}}_adjustSelection(){this.quill.getSelection()||this.quill.setSelection(0,0)}_isAllowedTarget(t){return this._isImage(t)}_isImage(t){return-1!==this.allowedTargets.indexOf("image")&&"IMG"===t.tagName.toUpperCase()}showFrame(){this._$resizeFrame.show(),x.Z.on(this.quill.root,qi,this._handleFrameKeyDown.bind(this))}_handleFrameKeyDown(t){var e=(0,P.EV)(t);("del"===e||"backspace"===e)&&this._deleteImage(),this.hideFrame()}hideFrame(){this._$target=null,this._$resizeFrame.hide(),x.Z.off(this.quill.root,qi)}updateFramePosition(){var{height:t,width:e,top:c,left:L}=(0,Pn.l)(this._$target),{top:pt,left:yt}=(0,Pn.l)(this.quill.root),Dt=this._getBorderWidth();this._$resizeFrame.css({height:t,width:e,padding:1,top:c-pt-Dt-1,left:L-yt-Dt-1}),(0,lt.pB)(this._$resizeFrame,{left:0,top:0})}_getBorderWidth(){return parseInt(this._$resizeFrame.css("borderTopWidth"))}_createResizeFrame(){if(!this._$resizeFrame){var{deviceType:t}=z.Z.current();this._$resizeFrame=(0,C.Z)("<div>").addClass("dx-resize-frame").toggleClass("dx-touch-device","desktop"!==t).appendTo(this.editorInstance._getQuillContainer()).hide(),x.Z.on(this._$resizeFrame,Vo,e=>{e.preventDefault()}),this.resizable=this.editorInstance._createComponent(this._$resizeFrame,$o.Z,{onResize:e=>{this._$target&&((0,C.Z)(this._$target).attr({height:e.height,width:e.width}),this.updateFramePosition())}})}}_deleteImage(){var t;this._isAllowedTarget(this._$target)&&(null===(t=d().find(this._$target))||void 0===t||t.deleteAt(0))}option(t,e){"mediaResizing"!==t?"enabled"===t?(this.enabled=e,e?this._attachEvents():this._detachEvents()):"allowedTargets"===t&&Array.isArray(e)&&(this.allowedTargets=e):this.handleOptionChangeValue(e)}clean(){this._detachEvents(),this._$resizeFrame.remove(),this._$resizeFrame=void 0}}var Yi=ie(65871),Xi="dx-htmleditor-column-resizer",Qi="dx-htmleditor-row-resizer",Yo={minColumnWidth:40,minRowHeight:24},Ri="dxHtmlTableResizingModule",Ji=(0,P.V4)("dxpointerdown",Ri),Qo=(0,P.V4)("scroll",Ri);class Jo extends T{constructor(t,e){super(t,e),this.enabled=!!e.enabled,this._tableResizeFrames=[],this._minColumnWidth=this._minSizeLimit("minColumnWidth",e.minColumnWidth),this._minRowHeight=this._minSizeLimit("minRowHeight",e.minRowHeight),this._quillContainer=this.editorInstance._getQuillContainer(),this._tableData=[],this.enabled&&this._applyResizing()}_applyResizing(t){t?this._applyResizingImpl():this.editorInstance.addContentInitializedCallback(this._applyResizingImpl.bind(this)),this.addCleanCallback(this.clean.bind(this)),this._resizeHandlerWithContext=Yi.Z.add(this._resizeHandler.bind(this))}_minSizeLimit(t,e){return(0,v.$K)(e)?Math.max(e,0):Yo[t]}_applyResizingImpl(){var t=this._findTables();t.length&&(this._fixTablesWidths(t),this._createResizeFrames(t),this._updateFramesPositions(),this._updateFramesSeparators()),this._attachEvents()}_attachEvents(){x.Z.on(this.editorInstance._getContent(),Qo,this._updateFramesPositions.bind(this)),this.quill.on("text-change",this._getQuillTextChangeHandler())}_detachEvents(){x.Z.off(this.editorInstance._getContent(),Ri),this.quill.off("text-change",this._quillTextChangeHandler)}_getQuillTextChangeHandler(t,e,c){return(L,pt,yt)=>{if(this._isTableChanging()){var Dt=this._findTables();this._removeResizeFrames(),"api"===yt&&this._fixTablesWidths(Dt),this._updateTablesColumnsWidth(Dt),this._createResizeFrames(Dt),this._updateFramesPositions(),this._updateFramesSeparators()}else this._updateFramesPositions(),this._isDragging||this._updateFramesSeparators()}}_getFrameForTable(t){var e;return null===(e=this._framesForTables)||void 0===e?void 0:e.get(t.get(0))}_resizeHandler(){this._windowResizeTimeout=setTimeout(()=>{var t=this._findTables();(0,pe.S6)(t,(e,c)=>{var L=(0,C.Z)(c),pt=this._tableResizeFrames[e],yt=(0,k.Y_)(L),Dt=this._tableLastWidth(pt);Math.abs(yt-Dt)>1&&(this._tableLastWidth(pt,yt),this._updateColumnsWidth(L,e))}),this._updateFramesPositions(),this._updateFramesSeparators()})}_findTables(){return(0,C.Z)(this._quillContainer).find("table")}_getWidthStyleValue(t){var e=t[0].style.width;return""!==e?parseInt(e):void 0}_tableLastWidth(t,e){if(!(0,v.$K)(e))return t?.lastWidth;t.lastWidth=e}_fixTablesWidths(t){(0,pe.S6)(t,(e,c)=>{var L=(0,C.Z)(c),pt=this._getTableDeterminantElements(L,"horizontal");this._tableResizeFrames[e]||(this._tableResizeFrames[e]={lastWidth:void 0});var yt=this._getFrameForTable(L);if(yt||this._tableResizeFrames.push({$table:L}),0===ke(L).length){var Dt,{columnsSum:zt}=this._getColumnElementsSum(pt);De(L,{quill:this.quill});var te=null!==(Dt=this._tableLastWidth(yt))&&void 0!==Dt?Dt:(0,k.Y_)(L);yt&&this._tableLastWidth(yt,Math.max(zt,te))}})}_createResizeFrames(t){this._framesForTables=new Map,t.each((e,c)=>{var L,pt=(0,C.Z)(c),yt=null===(L=this._tableResizeFrames[e])||void 0===L?void 0:L.$table,Dt=this._tableResizeFrames[e].lastWidth;this._tableResizeFrames[e]={$frame:this._createTableResizeFrame(c),$table:pt,index:e,lastWidth:yt&&c===yt.get(0)?Dt:void 0,columnsCount:this._getTableDeterminantElements(pt,"horizontal").length,rowsCount:this._getTableDeterminantElements(pt,"vertical").length},this._framesForTables.set(c,this._tableResizeFrames[e])}),this._tableResizeFrames.length=t.length}_isTableChanging(){var t=this._findTables(),e=!1;return t.length!==this._tableResizeFrames.length?e=!0:(0,pe.S6)(t,(c,L)=>{var pt=(0,C.Z)(L),yt=this._tableResizeFrames[c],Dt=yt?.columnsCount!==this._getTableDeterminantElements(pt,"horizontal").length,zt=yt?.rowsCount!==this._getTableDeterminantElements(pt,"vertical").length;if(Dt||zt)return e=!0,!1}),e}_removeResizeFrames(t){var e;(0,pe.S6)(this._tableResizeFrames,(c,L)=>{if(L.$frame){var pt,yt=".".concat(Xi,", .").concat(Qi);this._detachSeparatorEvents(null===(pt=L.$frame)||void 0===pt?void 0:pt.find(yt)),L.$frame.remove()}}),null===(e=this._framesForTables)||void 0===e||e.clear(),t&&(this._tableResizeFrames=[])}_detachSeparatorEvents(t){t.each((e,c)=>{x.Z.off(c,Ji)})}_createTableResizeFrame(){return(0,C.Z)("<div>").addClass("dx-table-resize-frame").appendTo(this._quillContainer)}_updateFramesPositions(){(0,pe.S6)(this._tableResizeFrames,(t,e)=>{this._updateFramePosition(e.$table,e.$frame)})}_updateFramePosition(t,e){var{height:c,width:L,top:pt,left:yt}=(0,Pn.l)(t.get(0)),{top:Dt,left:zt}=(0,Pn.l)(this.quill.root);e.css({height:c,width:L,top:pt-Dt,left:yt-zt}),(0,lt.pB)(e,{left:0,top:0})}_updateFramesSeparators(t){(0,pe.S6)(this._tableResizeFrames,(e,c)=>{t?this._updateFrameSeparators(c,t):(this._updateFrameSeparators(c,"vertical"),this._updateFrameSeparators(c,"horizontal"))})}_isDraggable(t){return t.hasClass("dx-draggable")&&t.is(":visible")}_removeDraggable(t,e){this._isDraggable(t)&&((0,C.Z)(t).dxDraggable("instance").dispose(),(0,C.Z)(t).addClass(e))}_getDirectionInfo(t){return"vertical"===t?{lineResizerClass:Qi,sizeFunction:e=>(0,k.zp)(e),positionCoordinate:"top",positionStyleProperty:"height",positionCoordinateName:"y"}:{lineResizerClass:Xi,sizeFunction:e=>(0,k.Y_)(e),positionCoordinate:this.editorInstance.option("rtlEnabled")?"right":"left",positionStyleProperty:"width",positionCoordinateName:"x"}}_getSize(t,e){return e.sizeFunction(t)}_updateFrameSeparators(t,e){for(var c=this._getTableDeterminantElements(t.$table,e),pt=c.length-1,yt=this._getDirectionInfo(e),Dt=t.$frame.find(".".concat(yt.lineResizerClass)),zt={transform:"none"},te=0,ne=0;ne<=pt;ne++){te+=this._getSize(c.eq(ne),yt),(0,v.$K)(Dt[ne])||(Dt[ne]=(0,C.Z)("<div>").addClass(yt.lineResizerClass).appendTo(t.$frame).get(0));var Vt=(0,C.Z)(Dt[ne]);this._removeDraggable(Vt,yt.lineResizerClass),zt[yt.positionCoordinate]=te-2,(0,C.Z)(Vt).css(zt),this._attachColumnSeparatorEvents({lineSeparator:Dt[ne],index:ne,$determinantElements:c,frame:t,direction:e})}}_getTableDeterminantElements(t,e){return"vertical"===e?t.find("th:first-child, td:first-child"):We(t)}_attachColumnSeparatorEvents(t){x.Z.on(t.lineSeparator,Ji,()=>{this._createDraggableElement(t)})}_dragStartHandler(t){var{$determinantElements:e,index:c,frame:L,direction:pt,lineSeparator:yt}=t,Dt=this._getDirectionInfo(pt);this._isDragging=!0,this._fixColumnsWidth(L.$table),this._startLineSize=parseInt(this._getSize((0,C.Z)(e[c]),Dt)),this._startTableWidth=(0,k.Y_)(L.$table),this._startLineSeparatorPosition=parseInt((0,C.Z)(yt).css(Dt.positionCoordinate)),this._nextLineSize=0,e[c+1]?this._nextLineSize=parseInt(this._getSize((0,C.Z)(e[c+1]),Dt)):"horizontal"===pt&&De(L.$table,{quill:this.quill})}_shouldRevertOffset(t){return"horizontal"===t&&this.editorInstance.option("rtlEnabled")}_isNextColumnWidthEnough(t,e,c){if(!this._nextLineSize)return!0;if(t>=this._minColumnWidth){var L=this._nextColumnOffsetLimit?c<this._nextColumnOffsetLimit:c<0,pt=Math.abs(this._getWidthStyleValue(e)-(0,k.Y_)(e))>3;return L||!pt}return!1}_shouldSetNextColumnWidth(t){return this._nextLineSize&&t>0}_horizontalDragHandler(t){var{currentLineNewSize:e,directionInfo:c,eventOffset:L,$determinantElements:pt,index:yt,frame:Dt}=t,zt=this._nextLineSize&&this._nextLineSize-L,te=e>=this._minColumnWidth,ne=je(Dt.$table,yt),Vt=je(Dt.$table,yt+1),Qt=(0,k.Y_)(ne.eq(0))-e;if(te)if(this._isNextColumnWidthEnough(zt,pt.eq(yt+1),L)){Se(this,{elements:ne,property:c.positionStyleProperty,value:e}),this._shouldSetNextColumnWidth(zt)&&Se(this,{elements:Vt,property:c.positionStyleProperty,value:zt});var Be=Math.abs(this._startTableWidth-(0,k.Y_)(Dt.$table))<3;(Math.abs(Qt)>3||!this._nextLineSize&&Be)&&(Se(this,{elements:ne,property:c.positionStyleProperty,value:(0,k.Y_)(ne.eq(0))}),zt+=e-(0,k.Y_)(ne.eq(0)),this._shouldSetNextColumnWidth(zt)&&Se(this,{elements:Vt,property:c.positionStyleProperty,value:zt}))}else this._nextColumnOffsetLimit=this._nextColumnOffsetLimit||L;this._$highlightedElement.css(c.positionCoordinate,this._startLineSeparatorPosition+L+Qt+"px")}_verticalDragHandler(t){var{currentLineNewSize:e,directionInfo:c,eventOffset:L,$determinantElements:pt,index:yt,frame:Dt}=t,zt=Math.max(e,this._minRowHeight);Se(this,{elements:je(Dt.$table,yt,"vertical"),property:c.positionStyleProperty,value:zt});var ne=(0,k.zp)(pt.eq(yt))-e;this._$highlightedElement.css(c.positionCoordinate,this._startLineSeparatorPosition+L+ne+"px")}_dragMoveHandler(t,e){var{$determinantElements:c,index:L,frame:pt,direction:yt}=e,Dt=this._getDirectionInfo(yt),zt=t.offset[Dt.positionCoordinateName];this.editorInstance._saveValueChangeEvent(t),this._shouldRevertOffset(yt)&&(zt=-zt);var te=this._startLineSize+zt;"horizontal"===yt?this._horizontalDragHandler({currentLineNewSize:te,directionInfo:Dt,eventOffset:zt,$determinantElements:c,index:L,frame:pt}):this._verticalDragHandler({currentLineNewSize:te,directionInfo:Dt,eventOffset:zt,$determinantElements:c,index:L,frame:pt}),this._updateFramePosition(pt.$table,pt.$frame)}_dragEndHandler(t){var e;null===(e=this._$highlightedElement)||void 0===e||e.remove(),this._isDragging=void 0,this._nextColumnOffsetLimit=void 0,this._tableLastWidth(t.frame,(0,k.Y_)(t.frame.$table)),this._updateFramesPositions(),this._updateFramesSeparators()}_isLastColumnResizing(t){var{$determinantElements:e,index:c}=t;return!(0,v.$K)(e[c+1])}_getBoundaryConfig(t){var e={};if("vertical"===t.direction)e.boundary=t.frame.$table,e.boundOffset={bottom:(0,Fe.Ym)()?-(0,k.Cr)((0,Fe.Jj)()):-(0,k.zp)(this._quillContainer),top:0,left:0,right:0};else if(this._isLastColumnResizing(t)){var c=this.editorInstance._getContent();e.boundary=c,e.boundOffset={bottom:0,top:0,left:c.css("paddingLeft"),right:c.css("paddingRight")}}else e.boundary=t.frame.$table;return e}_createDraggableElement(t){var e,c=this._getBoundaryConfig(t),L="vertical"===t.direction?"dx-htmleditor-highlighted-row":"dx-htmleditor-highlighted-column";null===(e=this._$highlightedElement)||void 0===e||e.remove(),this._$highlightedElement=(0,C.Z)("<div>").addClass("".concat(L)).insertAfter((0,C.Z)(t.lineSeparator));var pt={contentTemplate:null,allowMoveByClick:!1,dragDirection:t.direction,onDragMove:yt=>{var{event:zt}=yt;this._dragMoveHandler(zt,t)},onDragStart:()=>{this._dragStartHandler(t)},onDragEnd:()=>{this._dragEndHandler(t)}};(0,n.l)(pt,c),this._currentDraggableElement=this.editorInstance._createComponent(t.lineSeparator,bt,pt)}_fixColumnsWidth(t){var e=this._getTableDeterminantElements(t);(0,pe.S6)(e,(c,L)=>{var pt=(0,k.Y_)(L);Se(this,{elements:je(t,c),property:"width",value:Math.max(pt,this._minColumnWidth)})})}_getColumnElementsSum(t){var e=[],c=0;return(0,pe.S6)(t,(L,pt)=>{var yt=(0,C.Z)(pt),Dt=this._getWidthStyleValue(yt)||(0,k.Y_)(yt);e[L]=Math.max(Dt,this._minColumnWidth),c+=e[L]}),{columnsWidths:e,columnsSum:c}}_setColumnsRatioWidth(t,e,c,L){(0,pe.S6)(t,pt=>{Se(this,{elements:je(L,pt),property:"width",value:e>0?this._minColumnWidth+Math.round((c[pt]-this._minColumnWidth)*e):this._minColumnWidth})})}_updateColumnsWidth(t,e){var c=this._getTableDeterminantElements(t),L=this._tableResizeFrames[e];L||(this._tableResizeFrames[e]={});var yt,pt=this._tableLastWidth(L=this._tableResizeFrames[e])||(0,k.Y_)(t),{columnsWidths:Dt,columnsSum:zt}=this._getColumnElementsSum(c),te=c.length*this._minColumnWidth;this._tableLastWidth(L,(yt=zt>te?(pt-te)/(zt-te):-1)>0?pt:te),this._setColumnsRatioWidth(c,yt,Dt,t)}_updateTablesColumnsWidth(t){(0,pe.S6)(t,(e,c)=>{this._updateColumnsWidth((0,C.Z)(c),e)})}option(t,e){"tableResizing"!==t?"enabled"===t?(this.enabled=e,e?this._applyResizing(!0):this.clean()):["minColumnWidth","minRowHeight"].includes(t)&&(this["_".concat(t)]=this._minSizeLimit(t,e)):this.handleOptionChangeValue(e)}clean(){this._removeResizeFrames(!0),this._detachEvents(),Yi.Z.remove(this._resizeHandlerWithContext),clearTimeout(this._windowResizeTimeout),this._resizeHandlerWithContext=void 0,this._isDragging=void 0,this._startTableWidth=void 0,clearTimeout(this._attachResizerTimeout)}}var ta=ie(71115),to=(0,P.V4)("dxcontextmenu","dxHtmlEditorTableContextMenu"),eo=T,Ii=r=>Pt.Z.format("dxHtmlEditor-".concat((0,Ze._A)(r)));d()&&(eo=class extends T{constructor(r,t){super(r,t),this.enabled=!!t.enabled,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._formatHandlers=a(this),this._tableFormats=Dr(r),this.enabled&&this._enableContextMenu(t.items)}_enableContextMenu(r){var t;null===(t=this._contextMenu)||void 0===t||t.dispose(),this._contextMenu=this._createContextMenu(r),this._attachEvents()}_attachEvents(){x.Z.on(this.editorInstance._getContent(),to,this._prepareContextMenuHandler())}_detachEvents(){x.Z.off(this.editorInstance._getContent(),to)}_createContextMenu(r){var t=(0,C.Z)("<div>").appendTo(this.editorInstance.$element()),e=this._getMenuConfig(r);return this.editorInstance._createComponent(t,ta.Z,e)}showPropertiesForm(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cell",t=(0,C.Z)(this._targetElement).closest("cell"===r?"th, td":"table");this._contextMenu.hide(),this._formatHandlers["".concat(r,"Properties")](t),this._targetElement=null}_isAcceptableItem(r,t){return!r||r===t}_handleObjectItem(r){if(r.name&&this._isAcceptableItem(r.widget,"dxButton")){var t=this._prepareMenuItemConfig(r.name);return(0,n.l)(!0,t,r)}return r.items&&(r.items=this._prepareMenuItems(r.items)),r}_prepareMenuItemConfig(r){var t,e,c=null!==(t=s[r])&&void 0!==t?t:r,L=(0,Ze.MI)(r);return{text:Ii(L),icon:c.toLowerCase(),onClick:null!==(e=this._formatHandlers[r])&&void 0!==e?e:Pi(this,r)}}_prepareMenuItems(r){var t=[];return(0,pe.S6)(r,(e,c)=>{var L;(0,v.Kn)(c)?L=this._handleObjectItem(c):(0,v.HD)(c)&&(L=this._prepareMenuItemConfig(c)),L&&t.push(L)}),t}_getMenuConfig(r){var t=[{text:Ii("insert"),items:["insertHeaderRow","insertRowAbove","insertRowBelow",(0,n.l)(this._prepareMenuItemConfig("insertColumnLeft"),{beginGroup:!0}),"insertColumnRight"]},{text:Ii("delete"),items:["deleteColumn","deleteRow","deleteTable"]},(0,n.l)(this._prepareMenuItemConfig("cellProperties"),{onClick:c=>{this.showPropertiesForm("cell")}}),(0,n.l)(this._prepareMenuItemConfig("tableProperties"),{onClick:c=>{this.showPropertiesForm("table")}})],e=this._prepareMenuItems(null!=r&&r.length?r:t);return{target:this._quillContainer,showEvent:null,hideOnParentScroll:!1,items:e}}_prepareContextMenuHandler(){return r=>{this._isTableTarget(r.target)&&(this._targetElement=r.target,this._setContextMenuPosition(r),this._contextMenu.show(),r.preventDefault())}}_setContextMenuPosition(r){var t=this._quillContainer.get(0).getBoundingClientRect();this._contextMenu.option({position:{my:"left top",at:"left top",collision:"fit fit",offset:{x:r.clientX-t.left,y:r.clientY-t.top}}})}_isTableTarget(r){return!!(0,C.Z)(r).closest(".dx-htmleditor-content td, .dx-htmleditor-content th").length}clean(){this._detachEvents()}option(r,t){if("tableContextMenu"!==r){if("enabled"===r)this.enabled=t,t?this._enableContextMenu():this.clean();else if("items"===r){var e;null===(e=this._contextMenu)||void 0===e||e.dispose(),this._contextMenu=this._createContextMenu(t)}}else this.handleOptionChangeValue(t)}prepareCleanCallback(){return()=>{this.clean()}}});const ra=eo;var Li="dxHtmlEditorImageUpload",ro=T;d()&&(ro=class extends T{constructor(r,t){super(r,t),this.options=t,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._handleServerUpload()}_handleServerUpload(){(0,v.$K)(this.options.fileUploadMode)&&"base64"!==this.options.fileUploadMode?this._enableDragAndDropUploading():this._disableDragAndDropUploading()}_getUploaderModule(){return this._uploaderModule||(this._uploaderModule=this.quill.getModule("uploader")),this._uploaderModule}_disableDragAndDropUploading(){var r;this._getUploaderModule().preventImageUploading(!1),this._detachEvents(),null===(r=this._fileUploader)||void 0===r||r.dispose()}_enableDragAndDropUploading(){this._initFileUploader(),this._getUploaderModule().preventImageUploading(!0),this._attachEvents()}_initFileUploader(){var r=(0,C.Z)("<div>").addClass("dx-htmleditor-hidden-content").appendTo(this._quillContainer),t=(0,n.l)({},{value:[],name:"dx-htmleditor-image",accept:"image/*",uploadMode:"useButtons"},{uploadUrl:this.options.uploadUrl,onUploaded:this._onUploaded.bind(this)},this.options.fileUploaderOptions);return this._fileUploader=this.editorInstance._createComponent(r,_n,t),r}_onUploaded(r){var t,{index:e}=null!==(t=this.quill.getSelection())&&void 0!==t?t:{index:this.quill.getLength()};Hn(this.options.uploadDirectory,r.file.name,this.quill,e)}_attachEvents(){x.Z.on(this.quill.root,(0,P.V4)("drop",Li),this._dropHandler.bind(this)),x.Z.on(this.quill.root,(0,P.V4)("paste",Li),this._pasteHandler.bind(this))}_detachEvents(){x.Z.off(this.quill.root,Li)}_dropHandler(r){this._handleInsertImages(r,"dataTransfer")}_pasteHandler(r){this._handleInsertImages(r,"clipboardData")}_handleInsertImages(r,t){this.saveValueChangeEvent(r);var c=Array.from(r.originalEvent[t].files||[]);c.length&&(r.preventDefault(),r.stopPropagation(),this._fileUploader.option("value",c),this._fileUploader.upload())}clean(){this._disableDragAndDropUploading()}prepareCleanCallback(){return()=>{this.clean()}}option(r,t){switch(r){case"imageUpload":this.handleOptionChangeValue(t);break;case"fileUploadMode":this.options.fileUploadMode=t,this._handleServerUpload();break;case"fileUploaderOptions":this._fileUploader.option(t)}}});const ia=ro;var no=(0,P.V4)("dxclick","dxHtmlEditorImageCursor"),io=T;d()&&(io=class extends T{constructor(r,t){super(r,t),this.addCleanCallback(this.clean.bind(this)),this._attachEvents()}_attachEvents(){x.Z.on(this.quill.root,no,this._clickHandler.bind(this))}_detachEvents(){x.Z.off(this.quill.root,no)}_clickHandler(r){this._isAllowedTarget(r.target)&&this._adjustSelection(r)}_isAllowedTarget(r){return this._isImage(r)}_isImage(r){return"IMG"===r.tagName.toUpperCase()}_adjustSelection(r){var t=this.quill.scroll.find(r.target);if(t){var e=t.offset(this.quill.scroll);this.quill.setSelection(e+1,0)}else this.quill.setSelection(0,0)}clean(){this._detachEvents()}});const aa=io;var oo=ie(29754);class la{constructor(){this._storage={}}set(t,e){var c,L,{editorKey:pt,marker:yt}=t;null!==(L=(c=this._storage)[pt])&&void 0!==L||(c[pt]={}),this._storage[pt][yt]=e}get(t){var e,c,{editorKey:L,marker:pt}=t;return(0,v.$K)(L)?null===(c=this._storage[L])||void 0===c?void 0:c[pt]:null===(e=Object.values(this._storage).at(-1))||void 0===e?void 0:e[pt]}delete(t){var{editorKey:e,marker:c}=t;this._storage[e]&&(delete this._storage[e][c],(0,v.Qr)(this._storage[e])&&delete this._storage[e])}}var mn={};if(d()){var sa=d().import("blots/embed");(mn=class Di extends sa{constructor(t,e){super(t,e),this.renderContent(this.contentNode,Di.value(e))}static create(t){var e=super.create();return e.setAttribute("spellcheck",!1),e.dataset.marker=t.marker,e.dataset.mentionValue=t.value,e.dataset.id=t.id,e}static value(t){return{marker:t.dataset.marker,id:t.dataset.id,value:t.dataset.mentionValue}}renderContent(t,e){var c=Di._templatesStorage.get({editorKey:e.keyInTemplateStorage,marker:e.marker});c?c.render({model:e,container:t}):this.baseContentRender(t,e)}baseContentRender(t,e){var c=(0,C.Z)("<span>").text(e.marker);(0,C.Z)(t).append(c).append(e.value)}static addTemplate(t,e){this._templatesStorage.set(t,e)}static removeTemplate(t){this._templatesStorage.delete(t)}}).blotName="mention",mn.tagName="span",mn.className="dx-mention",mn._templatesStorage=new la}const Ni=mn;var ao=T;if(d()){var pr={ARROW_UP:"upArrow",ARROW_DOWN:"downArrow",ARROW_LEFT:"leftArrow",ARROW_RIGHT:"rightArrow",ENTER:"enter",ESCAPE:"escape",SPACE:"space",PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home"},ha=[pr.ARROW_LEFT,pr.ARROW_RIGHT,pr.PAGE_UP,pr.PAGE_DOWN,pr.END,pr.HOME],da=[" ","\n"];d().register({"formats/mention":Ni},!0),ao=class extends Vi{_getDefaultOptions(){var r=super._getDefaultOptions();return(0,n.l)(r,{itemTemplate:"item",valueExpr:"this",displayExpr:"this",template:null,searchExpr:null,searchTimeout:500,minSearchLength:0})}constructor(r,t){super(r,t),this._mentions={},t.mentions.forEach(e=>{var c=e.marker;c||(e.marker=c="@");var L=e.template;if(L){var pt=this.editorInstance._getTemplate(L);pt&&Ni.addTemplate({marker:c,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()},pt)}this._mentions[c]=(0,n.l)({},this._getDefaultOptions(),e)}),this._attachKeyboardHandlers(),this.addCleanCallback(this.clean.bind(this)),this.quill.on("text-change",this.onTextChange.bind(this))}_attachKeyboardHandlers(){this.quill.keyboard.addBinding({key:pr.ARROW_UP},this._moveToItem.bind(this,"prev")),this.quill.keyboard.addBinding({key:pr.ARROW_DOWN},this._moveToItem.bind(this,"next")),this.quill.keyboard.addBinding({key:[pr.ENTER,pr.SPACE]},this._selectItemHandler.bind(this));var r=this.quill.keyboard.bindings[pr.ENTER];r.unshift(r.pop()),this.quill.keyboard.addBinding({key:pr.ESCAPE},this._escapeKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:[pr.ARROW_LEFT,pr.ARROW_RIGHT],shiftKey:!0},this._ignoreKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:ha},this._ignoreKeyHandler.bind(this))}_moveToItem(r){var t=this._list.getDataSource();if(this._isMentionActive&&!t.isLoading()){var c="next"===r?"first":"last",L=(0,C.Z)(this._list.option("focusedElement"))[r]();L=L.length?L:this._activeListItems[c](),this._list.option("focusedElement",(0,b.u)(L)),this._list.scrollToItem(L)}return!this._isMentionActive}_ignoreKeyHandler(){return!this._isMentionActive}_fitIntoRange(r,t,e){return r>e?t:r<t?e:r}_selectItemHandler(){return this._isMentionActive&&(this._list.option("items").length?this._list.selectItem(this._list.option("focusedElement")):this._popup.hide()),!this._isMentionActive}_escapeKeyHandler(){return this._isMentionActive&&this._popup.hide(),!this._isMentionActive}renderList(r,t){this.compileGetters(this.options),super.renderList(r,t)}compileGetters(r){var{displayExpr:t,valueExpr:e}=r;this._valueGetter=(0,oo.vb)(t),this._idGetter=(0,oo.vb)(e)}_getListConfig(r){var t=super._getListConfig(r);return(0,n.l)(t,{itemTemplate:this.options.itemTemplate,onContentReady:()=>{this._hasSearch&&(this._popup.repaint(),this._focusFirstElement(),this._hasSearch=!1)}})}insertEmbedContent(){var r=this._activeMentionConfig.marker.length,t=r+this._searchValue.length,e=this.getPosition(),c=this._list.option("selectedItem"),L={value:this._valueGetter(c),id:this._idGetter(c),marker:this._activeMentionConfig.marker,keyInTemplateStorage:this.editorInstance.getMentionKeyInTemplateStorage()},pt=d().import("delta"),yt=Math.max(0,e-r),Dt=(new pt).retain(yt).delete(t).insert({mention:L}).insert(" ");this.quill.updateContents(Dt),this.quill.setSelection(yt+2)}_getLastInsertOperation(r){var t=r[r.length-1];if("insert"in t)return t;var c="delete"in t;if(c&&r.length>=2){var L=r[r.length-2];if(c&&"insert"in L)return L}return null}onTextChange(r,t,e){if("user"===e)if(this._isMentionActive&&this._isPopupVisible)this._processSearchValue(r.ops[r.ops.length-1])&&this._filterList(this._searchValue);else{var{ops:L}=r,pt=this._getLastInsertOperation(L);pt&&this.checkMentionRequest(pt,L)}}get _isPopupVisible(){var r;return null===(r=this._popup)||void 0===r?void 0:r.option("visible")}_processSearchValue(r){if("insert"in r)this._searchValue+=r.insert;else{if(!this._searchValue.length||r.delete>1)return this._popup.hide(),!1;this._searchValue=this._searchValue.slice(0,-1)}return!0}checkMentionRequest(r,t){var{insert:e}=r,c=this.quill.getSelection();if(e&&(0,v.HD)(e)&&c&&!this._isMarkerPartOfText(t[0].retain)&&(this._activeMentionConfig=this._mentions[e],this._activeMentionConfig)){this._updateList(this._activeMentionConfig);var L=c.index&&"\n"===this._getCharByIndex(c.index-1);this.savePosition(c.index+L),this._popup.option("position",this._popupPosition),this._searchValue="",this._popup.show()}}_isMarkerPartOfText(r){return!(!r||-1!==da.indexOf(this._getCharByIndex(r-1)))}_getCharByIndex(r){return this.quill.getContents(r,1).ops[0].insert}_updateList(r){var{dataSource:t,displayExpr:e,valueExpr:c,itemTemplate:L,searchExpr:pt}=r;this.compileGetters({displayExpr:e,valueExpr:c}),this._list.unselectAll(),this._list.option({dataSource:t,displayExpr:e,itemTemplate:L,searchExpr:pt})}_filterList(r){if(this._isMinSearchLengthExceeded(r)){var t=this._activeMentionConfig.searchTimeout;t?(clearTimeout(this._searchTimer),this._searchTimer=setTimeout(()=>{this._search(r)},t)):this._search(r)}else this._resetFilter()}_isMinSearchLengthExceeded(r){return r.length>=this._activeMentionConfig.minSearchLength}_resetFilter(){clearTimeout(this._searchTimer),this._search(null)}_search(r){this._hasSearch=!0,this._list.option("searchValue",r)}_focusFirstElement(){if(this._list){var r=this._activeListItems.first();this._list.option("focusedElement",(0,b.u)(r)),this._list.scrollToItem(r)}}get _popupPosition(){var r=this.getPosition(),{left:t,top:e,height:c}=this.quill.getBounds(r&&r-1),{left:L,top:pt}=(0,C.Z)(this.quill.root).offset();return{of:x.Z.Event("positionEvent",{pageX:L+t,pageY:pt+e}),offset:{v:c},my:"top left",at:"top left",collision:{y:"flip",x:"flipfit"}}}_getPopupConfig(){return(0,n.l)(super._getPopupConfig(),{hideOnParentScroll:!1,onShown:()=>{this._isMentionActive=!0,this._hasSearch=!1,this._focusFirstElement()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null),this._isMentionActive=!1,this._search(null)},focusStateEnabled:!1})}get _activeListItems(){return this._list.itemElements().filter(":not(.".concat("dx-state-disabled",")"))}clean(){Object.keys(this._mentions).forEach(r=>{this._mentions[r].template&&Ni.removeTemplate({marker:r,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()})})}}}const va=ao;class qn{constructor(){if(!qn.initialized){var t=this.getQuill(),e=t.import("attributors/style/direction");t.register({"formats/align":vt,"formats/direction":e,"formats/font":dt,"formats/size":Et,"formats/extendedImage":D,"formats/link":ft,"modules/toolbar":Ao,"modules/dropImage":Ro,"modules/variables":Ho,"modules/resizing":Go,"modules/tableResizing":Jo,"modules/tableContextMenu":ra,"modules/imageUpload":ia,"modules/imageCursor":aa,"modules/mentions":va,"themes/basic":f},!0),this._customModules=[],qn._initialized=!0}}createEditor(t,e){return new(this.getQuill())(t,e)}registerModules(t){var e=RegExp("modules/*"),c=this.getQuill();for(var pt in t)e.test(pt)&&!c.imports[pt]&&this._customModules.push(pt.slice(8));c.register(t,!0)}getRegisteredModuleNames(){return this._customModules}getQuill(){return _()}}const ma=qn,Mi=new class ga{constructor(){this._converters={}}addConverter(t,e){this._converters[t]=e}getConverter(t){return this._converters[t]}};function _a(r){return r[1].match(/\S+\./)?"ordered":"bullet"}Mi.addConverter("delta",class ba{setQuillInstance(t){this.quillInstance=t}toHtml(){if(this.quillInstance)return this._isQuillEmpty()?"":this.quillInstance.getSemanticHTML(0,this.quillInstance.getLength()+1)}_isQuillEmpty(){var t=this.quillInstance.getContents();return 1===t.length()&&this._isDeltaEmpty(t)}_isDeltaEmpty(t){return t.reduce((e,c)=>{var{insert:L}=c;return-1!==L.indexOf("\n")})}});var lo="dx-formdialog";const xa=class Aa{constructor(t,e){this._editorInstance=t,this._popupUserConfig=e,this._renderPopup(),this._attachOptionChangedHandler()}_renderPopup(){var t=this._editorInstance,e=(0,C.Z)("<div>").addClass(lo).appendTo(t.$element()),c=this._getPopupConfig();return t._createComponent(e,zi.Z,c)}_attachOptionChangedHandler(){var t;null===(t=this._popup)||void 0===t||t.on("optionChanged",e=>{var{name:c,value:L}=e;"title"===c&&this._updateFormLabel(L)})}_escKeyHandler(){this._popup.hide()}_addEscapeHandler(t){t.component.registerKeyHandler("escape",this._escKeyHandler.bind(this))}_isSmallScreen(){var t=(0,Fe.Ym)()?(0,Fe.Wf)():null;return"phone"===z.Z.real().deviceType||"xs"===t}_getPopupConfig(){return(0,n.l)({onInitialized:t=>{this._popup=t.component,this._popup.on("hiding",()=>this.onHiding()),this._popup.on("shown",()=>{this._form.focus()})},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,fullScreen:this._isSmallScreen(),contentTemplate:t=>{var e=(0,C.Z)("<div>").appendTo(t);this._renderForm(e,{onEditorEnterKey:c=>this.callAddButtonAction(c.event),customizeItem:c=>{"simple"===c.itemType&&(c.editorOptions=(0,n.l)(!0,{},c.editorOptions,{onInitialized:this._addEscapeHandler.bind(this)}))}})},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:(0,B.Z)({onInitialized:this._addEscapeHandler.bind(this),text:Pt.Z.format("OK"),onClick:t=>this.callAddButtonAction(t.event)},(0,fr.dC)()?{stylingMode:"contained",type:"default"}:{})},{toolbar:"bottom",location:"after",widget:"dxButton",options:(0,B.Z)({onInitialized:this._addEscapeHandler.bind(this),text:Pt.Z.format("Cancel"),onClick:()=>{this._popup.hide()}},(0,fr.dC)()?{stylingMode:"outlined",type:"normal"}:{})}],_wrapperClassExternal:lo},this._popupUserConfig)}onHiding(){this.beforeAddButtonAction=void 0,this.deferred.reject()}callAddButtonAction(t){this.beforeAddButtonAction&&!this.beforeAddButtonAction()||this.hide(this._form.option("formData"),t)}_renderForm(t,e){t.addClass("dx-formdialog-form"),this._form=this._editorInstance._createComponent(t,kr.Z,e),this._updateFormLabel()}_updateFormLabel(t){var e,c=t??this.popupOption("title");null===(e=this._form)||void 0===e||e.$element().attr("aria-label",c)}_getDefaultFormOptions(){return{colCount:1,width:"auto",labelLocation:(0,fr.yj)()?"top":"left"}}formOption(t,e){return this._form.option.apply(this._form,arguments)}show(t){if(!this._popup.option("visible")){this.deferred=new A.BH;var e=(0,n.l)(this._getDefaultFormOptions(),t);return this._form.option(e),this._popup.show(),this.deferred.promise()}}hide(t,e){this.deferred.resolve(t,e),this._popup.hide()}popupOption(t,e){return this._popup.option.apply(this._popup,arguments)}};var Ra=ie(93422),Yn="markdown",Bi="htmlContent",Da="ios"===z.Z.current().platform,ka=0,so=F.Z.inherit({_getDefaultOptions:function(){return(0,n.l)(this.callBase(),{focusStateEnabled:!0,valueType:"html",placeholder:"",toolbar:null,variables:null,mediaResizing:null,tableResizing:null,mentions:null,customizeModules:null,tableContextMenu:null,allowSoftLineBreak:!1,formDialogOptions:null,imageUpload:null,stylingMode:(0,Ra.Z)().editorStylingMode||"outlined"})},_init:function(){this._mentionKeyInTemplateStorage=ka++,this.callBase(),this._cleanCallback=(0,N.Z)(),this._contentInitializedCallback=(0,N.Z)()},_getAnonymousTemplateName:function(){return Bi},_initTemplates:function(){this._templateManager.addDefaultTemplates({[Bi]:new U.s}),this.callBase()},_focusTarget:function(){return this._getContent()},_getContent:function(){return this.$element().find(".".concat("dx-htmleditor-content"))},_focusInHandler:function(r){var{relatedTarget:t}=r;this._shouldSkipFocusEvent(t)||(this._toggleFocusClass(!0,this.$element()),this.callBase.apply(this,arguments))},_focusOutHandler:function(r){var{relatedTarget:t}=r;this._shouldSkipFocusEvent(t)||(this._toggleFocusClass(!1,this.$element()),this.callBase.apply(this,arguments))},_shouldSkipFocusEvent:function(r){return(0,C.Z)(r).hasClass("ql-clipboard")},_initMarkup:function(){this._$htmlContainer=(0,C.Z)("<div>").addClass("dx-quill-container"),this.$element().attr("role","application").addClass("dx-htmleditor").wrapInner(this._$htmlContainer),this._renderStylingMode();var r=this._getTemplate(Bi);this._$templateResult=r&&r.render({container:(0,b.u)(this._$htmlContainer),noModel:!0,transclude:!0}),this._renderSubmitElement(),this.callBase(),this._updateContainerMarkup()},_renderValidationState(){1===this._getContent().length&&this.callBase()},_renderSubmitElement:function(){this._$submitElement=(0,C.Z)("<textarea>").addClass("dx-htmleditor-submit-element").attr("hidden",!0).appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(r){this._getSubmitElement().val(r)},_getSubmitElement:function(){return this._$submitElement},_createNoScriptFrame:function(){return(0,C.Z)("<iframe>").css("display","none").attr({srcdoc:"",id:"xss-frame",sandbox:"allow-same-origin"})},_removeXSSVulnerableHtml:function(r){var t=this._createNoScriptFrame().appendTo("body"),pt=t.get(0).contentWindow.document.body;pt.innerHTML=r;var yt=zt=>{if(zt.attributes)for(var te=0;te<zt.attributes.length;te++){var ne=zt.attributes[te].name;ne.startsWith("on")&&zt.removeAttribute(ne)}if(zt.childNodes)for(var Vt=0;Vt<zt.childNodes.length;Vt++)yt(zt.childNodes[Vt])};yt(pt),pt.querySelectorAll("script").forEach(zt=>{zt.remove()});var Dt=pt.innerHTML;return t.remove(),Dt},_updateContainerMarkup:function(){var r=this.option("value");if(this._isMarkdownValue()&&(this._prepareMarkdownConverter(),r=this._markdownConverter.toHtml(r)),r){var t=this._removeXSSVulnerableHtml(r);this._$htmlContainer.html(t)}},_prepareMarkdownConverter:function(){var r=Mi.getConverter("markdown");if(!r)throw W.Z.Error("E1051","markdown");this._markdownConverter=new r},_render:function(){this._prepareConverters(),this.callBase()},_prepareQuillRegistrator:function(){this._quillRegistrator||(this._quillRegistrator=new ma)},_getRegistrator:function(){return this._prepareQuillRegistrator(),this._quillRegistrator},_prepareConverters:function(){if(!this._deltaConverter){var r=Mi.getConverter("delta");r&&(this._deltaConverter=new r)}this.option("valueType")===Yn&&!this._markdownConverter&&this._prepareMarkdownConverter()},_renderContentImpl:function(){this._contentRenderedDeferred=new A.BH;var r=this._contentRenderedDeferred.promise();return this.callBase(),this._renderHtmlEditor(),this._renderFormDialog(),this._addKeyPressHandler(),r},_pointerMoveHandler:function(r){Da&&r.stopPropagation()},_attachFocusEvents:function(){(0,O.g0)(this.callBase.bind(this))},_addKeyPressHandler:function(){var r=(0,P.V4)("keydown","".concat(this.NAME,"TextChange"));x.Z.on(this._$htmlContainer,r,this._keyDownHandler.bind(this))},_keyDownHandler:function(r){this._saveValueChangeEvent(r)},_renderHtmlEditor:function(){var r=this.option("customizeModules"),t=this._getModulesConfig();(0,v.mf)(r)&&r(t),this._quillInstance=this._getRegistrator().createEditor(this._$htmlContainer[0],{placeholder:this.option("placeholder"),readOnly:this.option("readOnly")||this.option("disabled"),modules:t,theme:"basic"}),this._renderValidationState(),this._deltaConverter.setQuillInstance(this._quillInstance),this._textChangeHandlerWithContext=this._textChangeHandler.bind(this),this._quillInstance.on("text-change",this._textChangeHandlerWithContext),this._renderScrollHandler(),this._hasTranscludedContent()?this._updateContentTask=(0,O.Wi)(()=>{this._applyTranscludedContent()}):this._finalizeContentRendering()},_renderScrollHandler:function(){var r=this._getContent(),t=(0,w.M)(r);x.Z.on(r,(0,P.V4)(K.Z.init,this.NAME),t,O.ZT),x.Z.on(r,(0,P.V4)(Z.Z.move,this.NAME),this._pointerMoveHandler.bind(this))},_applyTranscludedContent:function(){var r=this.option("value");if(!(0,v.$K)(r)){var t=this._deltaConverter.toHtml(),e=this._quillInstance.clipboard.convert({html:t});if(e.ops.length)return void this._quillInstance.setContents(e)}this._finalizeContentRendering()},_hasTranscludedContent:function(){return this._$templateResult&&this._$templateResult.length},_getModulesConfig:function(){var t=(r=>{var t=r.import("delta");return(e,c)=>{var L=c.ops.slice(),pt=L[0];pt.insert=pt.insert.replace(/^\s+/,"");var yt=pt.insert.match(/^(\S+)\s+/),Dt=yt&&function Oa(r){var t=r.getAttribute("style");if(t){var e=t.replace(/\n+/g,"").match(/level(\d+)/);return e?e[1]-1:0}return!1}(e);return yt&&!1!==Dt?(pt.insert=pt.insert.substring(yt[0].length,pt.insert.length),function Ea(r){var t=r[r.length-1];t.insert=t.insert.trim()}(L),L.push({insert:"\n",attributes:{list:_a(yt),indent:Dt}}),new t(L)):c}})(this._getRegistrator().getQuill());return(0,n.l)({},{table:!0,toolbar:this._getModuleConfigByOption("toolbar"),variables:this._getModuleConfigByOption("variables"),resizing:this._getModuleConfigByOption("mediaResizing"),tableResizing:this._getModuleConfigByOption("tableResizing"),tableContextMenu:this._getModuleConfigByOption("tableContextMenu"),imageUpload:this._getModuleConfigByOption("imageUpload"),imageCursor:this._getBaseModuleConfig(),mentions:this._getModuleConfigByOption("mentions"),uploader:{onDrop:c=>this._saveValueChangeEvent((0,I.ju)(c)),imageBlot:"extendedImage"},keyboard:{onKeydown:c=>this._saveValueChangeEvent((0,I.ju)(c))},clipboard:{onPaste:c=>this._saveValueChangeEvent((0,I.ju)(c)),onCut:c=>this._saveValueChangeEvent((0,I.ju)(c)),matchers:[["p.MsoListParagraphCxSpFirst",t],["p.MsoListParagraphCxSpMiddle",t],["p.MsoListParagraphCxSpLast",t]]},multiline:!!this.option("allowSoftLineBreak")},this._getCustomModules())},_getModuleConfigByOption:function(r){var t=this.option(r),e={};if((0,v.$K)(t))return Array.isArray(t)?e[r]=t:e=t,(0,n.l)(this._getBaseModuleConfig(),e)},_getBaseModuleConfig:function(){return{editorInstance:this}},_getCustomModules:function(){var r={};return this._getRegistrator().getRegisteredModuleNames().forEach(e=>{r[e]=this._getBaseModuleConfig()}),r},_textChangeHandler:function(r,t,e){var c=this._deltaConverter.toHtml(),L=this._isMarkdownValue()?this._updateValueByType(Yn,c):c,pt=this.option("value");pt!==L&&!this._isNullValueConverted(pt,L)&&(this._isEditorUpdating=!0,this.option("value",L)),this._finalizeContentRendering()},_isNullValueConverted:function(r,t){return null===r&&""===t},_finalizeContentRendering:function(){this._contentRenderedDeferred&&(this.clearHistory(),this._contentInitializedCallback.fire(),this._contentRenderedDeferred.resolve(),this._contentRenderedDeferred=void 0)},_updateValueByType:function(r,t){var e=this._markdownConverter;if((0,v.$K)(e)){var c=(0,O.IS)(t,this.option("value"));return r===Yn?e.toMarkdown(c):e.toHtml(c)}},_isMarkdownValue:function(){return this.option("valueType")===Yn},_resetEnabledState:function(){if(this._quillInstance){var r=!(this.option("readOnly")||this.option("disabled"));this._quillInstance.enable(r)}},_renderFormDialog:function(){var r=(0,n.l)(!0,{width:"auto",height:"auto",hideOnOutsideClick:!0},this.option("formDialogOptions"));this._formDialog=new xa(this,r)},_getStylingModePrefix:function(){return"dx-htmleditor-"},_getQuillContainer:function(){return this._$htmlContainer},_prepareModuleOptions(r){var t,e=null===(t=r.fullName)||void 0===t?void 0:t.split("."),c=r.value;return 3===e.length&&(c={[e[2]]:c}),[e.length>=2?e[1]:r.name,c]},_moduleOptionChanged:function(r,t){var e=this.getModule(r);e?e.option(...this._prepareModuleOptions(t)):this._invalidate()},_optionChanged:function(r){switch(r.name){case"value":if(this._quillInstance)if(this._isEditorUpdating)this._isEditorUpdating=!1;else{var t=this._isMarkdownValue()?this._updateValueByType("HTML",r.value):r.value;this._suppressValueChangeAction(),this._updateHtmlContent(t),this._resumeValueChangeAction()}else this._$htmlContainer.html(r.value);var e=this.option("value");e!==r.previousValue&&(this._setSubmitValue(e),this.callBase((0,B.Z)({},r,{value:e})));break;case"placeholder":case"variables":case"toolbar":case"mentions":case"customizeModules":case"allowSoftLineBreak":this._invalidate();break;case"tableResizing":this._moduleOptionChanged("tableResizing",r);break;case"valueType":this._prepareConverters();var c=this._updateValueByType(r.value);"html"===r.value&&this._quillInstance?this._updateHtmlContent(c):this.option("value",c);break;case"stylingMode":this._renderStylingMode();break;case"readOnly":case"disabled":this.callBase(r),this._resetEnabledState();break;case"formDialogOptions":this._renderFormDialog();break;case"tableContextMenu":this._moduleOptionChanged("tableContextMenu",r);break;case"mediaResizing":r.previousValue&&r.value?this.getModule("resizing").option(r.name,r.value):this._invalidate();break;case"width":this.callBase(r),this._repaintToolbar();break;case"imageUpload":this._moduleOptionChanged("imageUpload",r);break;default:this.callBase(r)}},_repaintToolbar:function(){this._applyToolbarMethod("repaint")},_updateHtmlContent:function(r){var t=this._quillInstance.clipboard.convert({html:r});this._quillInstance.setContents(t)},_clean:function(){this._quillInstance&&(x.Z.off(this._getContent(),".".concat(this.NAME)),this._quillInstance.off("text-change",this._textChangeHandlerWithContext),this._cleanCallback.fire()),this._abortUpdateContentTask(),this._cleanCallback.empty(),this._contentInitializedCallback.empty(),this.callBase()},_abortUpdateContentTask:function(){this._updateContentTask&&(this._updateContentTask.abort(),this._updateContentTask=void 0)},_applyQuillMethod(r,t){if(this._quillInstance)return this._quillInstance[r].apply(this._quillInstance,t)},_applyQuillHistoryMethod(r){this._quillInstance&&this._quillInstance.history&&this._quillInstance.history[r]()},_applyToolbarMethod(r){var t;null===(t=this.getModule("toolbar"))||void 0===t||t[r]()},addCleanCallback(r){this._cleanCallback.add(r)},addContentInitializedCallback(r){this._contentInitializedCallback.add(r)},register:function(r){this._getRegistrator().registerModules(r),this._quillInstance&&this.repaint()},get:function(r){return this._getRegistrator().getQuill().import(r)},getModule:function(r){return this._applyQuillMethod("getModule",arguments)},getQuillInstance:function(){return this._quillInstance},getSelection:function(r){return this._applyQuillMethod("getSelection",arguments)},setSelection:function(r,t){this._applyQuillMethod("setSelection",arguments)},getText:function(r,t){return this._applyQuillMethod("getText",arguments)},format:function(r,t){this._applyQuillMethod("format",arguments)},formatText:function(r,t,e,c){this._applyQuillMethod("formatText",arguments)},formatLine:function(r,t,e,c){this._applyQuillMethod("formatLine",arguments)},getFormat:function(r,t){return this._applyQuillMethod("getFormat",arguments)},removeFormat:function(r,t){return this._applyQuillMethod("removeFormat",arguments)},clearHistory:function(){this._applyQuillHistoryMethod("clear"),this._applyToolbarMethod("updateHistoryWidgets")},undo:function(){this._applyQuillHistoryMethod("undo")},redo:function(){this._applyQuillHistoryMethod("redo")},getLength:function(){return this._applyQuillMethod("getLength")},getBounds:function(r,t){return this._applyQuillMethod("getBounds",arguments)},delete:function(r,t){this._applyQuillMethod("deleteText",arguments)},insertText:function(r,t,e){this._applyQuillMethod("insertText",arguments)},insertEmbed:function(r,t,e){this._applyQuillMethod("insertEmbed",arguments)},showFormDialog:function(r){return this._formDialog.show(r)},formDialogOption:function(r,t){return this._formDialog.popupOption.apply(this._formDialog,arguments)},focus:function(){this.callBase(),this._applyQuillMethod("focus")},blur:function(){this._applyQuillMethod("blur")},getMentionKeyInTemplateStorage(){return this._mentionKeyInTemplateStorage}});(0,S.Z)("dxHtmlEditor",so);const ja=so;var Fa=ie(60095),Pr=ie(20843),Me=ie(2173);const Ua=["*"],Za={provide:Fa.JU,useExisting:(0,_e.Gpc)(()=>Ha),multi:!0};let Ha=(()=>{class r extends Pr.Ay{constructor(e,c,L,pt,yt,Dt,zt,te){super(e,c,L,pt,zt,te),this._watcherHelper=pt,this._idh=yt,this.touched=ne=>{},this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"allowSoftLineBreakChange"},{emit:"customizeModulesChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"imageUploadChange"},{emit:"isDirtyChange"},{emit:"isValidChange"},{emit:"mediaResizingChange"},{emit:"mentionsChange"},{emit:"nameChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"tableContextMenuChange"},{emit:"tableResizingChange"},{emit:"toolbarChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueTypeChange"},{emit:"variablesChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),Dt.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(e){this._setOption("accessKey",e)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(e){this._setOption("activeStateEnabled",e)}get allowSoftLineBreak(){return this._getOption("allowSoftLineBreak")}set allowSoftLineBreak(e){this._setOption("allowSoftLineBreak",e)}get customizeModules(){return this._getOption("customizeModules")}set customizeModules(e){this._setOption("customizeModules",e)}get disabled(){return this._getOption("disabled")}set disabled(e){this._setOption("disabled",e)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(e){this._setOption("elementAttr",e)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(e){this._setOption("focusStateEnabled",e)}get height(){return this._getOption("height")}set height(e){this._setOption("height",e)}get hint(){return this._getOption("hint")}set hint(e){this._setOption("hint",e)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(e){this._setOption("hoverStateEnabled",e)}get imageUpload(){return this._getOption("imageUpload")}set imageUpload(e){this._setOption("imageUpload",e)}get isDirty(){return this._getOption("isDirty")}set isDirty(e){this._setOption("isDirty",e)}get isValid(){return this._getOption("isValid")}set isValid(e){this._setOption("isValid",e)}get mediaResizing(){return this._getOption("mediaResizing")}set mediaResizing(e){this._setOption("mediaResizing",e)}get mentions(){return this._getOption("mentions")}set mentions(e){this._setOption("mentions",e)}get name(){return this._getOption("name")}set name(e){this._setOption("name",e)}get placeholder(){return this._getOption("placeholder")}set placeholder(e){this._setOption("placeholder",e)}get readOnly(){return this._getOption("readOnly")}set readOnly(e){this._setOption("readOnly",e)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(e){this._setOption("rtlEnabled",e)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(e){this._setOption("stylingMode",e)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(e){this._setOption("tabIndex",e)}get tableContextMenu(){return this._getOption("tableContextMenu")}set tableContextMenu(e){this._setOption("tableContextMenu",e)}get tableResizing(){return this._getOption("tableResizing")}set tableResizing(e){this._setOption("tableResizing",e)}get toolbar(){return this._getOption("toolbar")}set toolbar(e){this._setOption("toolbar",e)}get validationError(){return this._getOption("validationError")}set validationError(e){this._setOption("validationError",e)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(e){this._setOption("validationErrors",e)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(e){this._setOption("validationMessageMode",e)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(e){this._setOption("validationMessagePosition",e)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(e){this._setOption("validationStatus",e)}get value(){return this._getOption("value")}set value(e){this._setOption("value",e)}get valueType(){return this._getOption("valueType")}set valueType(e){this._setOption("valueType",e)}get variables(){return this._getOption("variables")}set variables(e){this._setOption("variables",e)}get visible(){return this._getOption("visible")}set visible(e){this._setOption("visible",e)}get width(){return this._getOption("width")}set width(e){this._setOption("width",e)}change(e){}get mentionsChildren(){return this._getOption("mentions")}set mentionsChildren(e){this.setChildren("mentions",e)}_createInstance(e,c){return new ja(e,c)}writeValue(e){this.eventHelper.lockedValueChangeEvent=!0,this.value=e,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(e){this.disabled=e}registerOnChange(e){this.change=e}registerOnTouched(e){this.touched=e}_createWidget(e){super._createWidget(e),this.instance.on("focusOut",c=>{this.eventHelper.fireNgEvent("onBlur",[c])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(e){super.ngOnChanges(e),this.setupChanges("mentions",e),this.setupChanges("validationErrors",e)}setupChanges(e,c){e in this._optionsToUpdate||this._idh.setup(e,c)}ngDoCheck(){this._idh.doCheck("mentions"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(e,c){let L=this._idh.setupSingle(e,c),pt=null!==this._idh.getChanges(e,c);(L||pt)&&super._setOption(e,c)}}return r.\u0275fac=function(e){return new(e||r)(_e.Y36(_e.SBq),_e.Y36(_e.R0b),_e.Y36(Pr._5),_e.Y36(Pr._h),_e.Y36(Pr.i9),_e.Y36(Pr.al),_e.Y36(de.ki),_e.Y36(_e.Lbi))},r.\u0275cmp=_e.Xpm({type:r,selectors:[["dx-html-editor"]],contentQueries:function(e,c,L){if(1&e&&_e.Suo(L,Me.QZF,4),2&e){let pt;_e.iGM(pt=_e.CRH())&&(c.mentionsChildren=pt)}},hostBindings:function(e,c){1&e&&_e.NdJ("valueChange",function(pt){return c.change(pt)})("onBlur",function(pt){return c.touched(pt)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",allowSoftLineBreak:"allowSoftLineBreak",customizeModules:"customizeModules",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",imageUpload:"imageUpload",isDirty:"isDirty",isValid:"isValid",mediaResizing:"mediaResizing",mentions:"mentions",name:"name",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",stylingMode:"stylingMode",tabIndex:"tabIndex",tableContextMenu:"tableContextMenu",tableResizing:"tableResizing",toolbar:"toolbar",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueType:"valueType",variables:"variables",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",allowSoftLineBreakChange:"allowSoftLineBreakChange",customizeModulesChange:"customizeModulesChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",imageUploadChange:"imageUploadChange",isDirtyChange:"isDirtyChange",isValidChange:"isValidChange",mediaResizingChange:"mediaResizingChange",mentionsChange:"mentionsChange",nameChange:"nameChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",tableContextMenuChange:"tableContextMenuChange",tableResizingChange:"tableResizingChange",toolbarChange:"toolbarChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueTypeChange:"valueTypeChange",variablesChange:"variablesChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[_e._Bn([Pr._5,Pr._h,Za,Pr.al,Pr.i9]),_e.qOj,_e.TTD],ngContentSelectors:Ua,decls:1,vars:0,template:function(e,c){1&e&&(_e.F$t(),_e.Hsn(0))},encapsulation:2}),r})(),$a=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=_e.oAB({type:r}),r.\u0275inj=_e.cJS({imports:[[Me.w4f,Me.wBe,Me._9O,Me.hB5,Me.N2O,Me.BcR,Me.Q8p,Me.z4e,Me.azD,Me.xwG,Pr.Lz,Pr.ie],Me.w4f,Me.wBe,Me._9O,Me.hB5,Me.N2O,Me.BcR,Me.Q8p,Me.z4e,Me.azD,Me.xwG,Pr.ie]}),r})()},96454:function(ki){var de;de=()=>(()=>{var xn={1674:(B,C,n)=>{"use strict";n.d(C,{Z:()=>_});var v=n(1233),b=n(3866),O=n(3398);function S(o){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function F(o,u){for(var f=0;f<u.length;f++){var y=u[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,N(y.key),y)}}function N(o){var u=function A(o,u){if("object"!==S(o)||null===o)return o;var f=o[Symbol.toPrimitive];if(void 0!==f){var y=f.call(o,u||"default");if("object"!==S(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(o)}(o,"string");return"symbol"===S(u)?u:String(u)}function x(){return x=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,f,y){var R=function P(o,u){for(;!Object.prototype.hasOwnProperty.call(o,u)&&null!==(o=d(o)););return o}(u,f);if(R){var D=Object.getOwnPropertyDescriptor(R,f);return D.get?D.get.call(arguments.length<3?u:y):D.value}},x.apply(this,arguments)}function K(o,u){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,R){return y.__proto__=R,y})(o,u)}function d(o){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)})(o)}var _=function(o){!function I(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),u&&K(o,u)}(f,o);var u=function w(o){var u=function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,y=d(o);if(u){var D=d(this).constructor;R=Reflect.construct(y,arguments,D)}else R=y.apply(this,arguments);return function Z(o,u){if(u&&("object"===S(u)||"function"==typeof u))return u;if(void 0!==u)throw new TypeError("Derived constructors may only return object or undefined");return function z(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}(this,R)}}(f);function f(y,R){var D,q,et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowedTags:[]};return function U(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}(this,f),(q=u.call(this,y,R,et)).allowedTags=null!==(D=et.allowedTags)&&void 0!==D?D:[],q}return function W(o,u,f){u&&F(o.prototype,u),f&&F(o,f),Object.defineProperty(o,"prototype",{writable:!1})}(f,[{key:"add",value:function(R,D){return b.Mx.call(this,x(d(f.prototype),"add",this),R,D)}},{key:"remove",value:function(R){return b.Mx.call(this,x(d(f.prototype),"remove",this),R)}},{key:"value",value:function(R){return b.Mx.call(this,x(d(f.prototype),"value",this),R)}},{key:"canAdd",value:function(R,D){return b.ud.call(this,x(d(f.prototype),"canAdd",this),R,D)}}],[{key:"keys",value:function(R){return(0,b.dj)(x(d(f),"keys",this),R,O.WT.attribute)}}]),f}(v.Attributor)},3866:(B,C,n)=>{"use strict";n.d(C,{Mx:()=>b,dj:()=>S,ud:()=>O});var v=n(3398);function b(U){var F=this.keyName;this.keyName=(0,v.mQ)(this.keyName);for(var W=arguments.length,N=new Array(W>1?W-1:0),A=1;A<W;A++)N[A-1]=arguments[A];var x=U.call.apply(U,[this].concat(N));return this.keyName=F,x}function O(U,F,W){return this.allowedTags.indexOf(F.tagName)>-1&&U.call(this,F,W)}function S(U,F,W){return U(F).map(function(N){return(0,v.jf)(F.tagName,N,W)})}},4569:(B,C,n)=>{"use strict";n.d(C,{Z:()=>_});var v=n(1233),b=n(3866),O=n(3398);function S(o){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function F(o,u){for(var f=0;f<u.length;f++){var y=u[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,N(y.key),y)}}function N(o){var u=function A(o,u){if("object"!==S(o)||null===o)return o;var f=o[Symbol.toPrimitive];if(void 0!==f){var y=f.call(o,u||"default");if("object"!==S(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(o)}(o,"string");return"symbol"===S(u)?u:String(u)}function x(){return x=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,f,y){var R=function P(o,u){for(;!Object.prototype.hasOwnProperty.call(o,u)&&null!==(o=d(o)););return o}(u,f);if(R){var D=Object.getOwnPropertyDescriptor(R,f);return D.get?D.get.call(arguments.length<3?u:y):D.value}},x.apply(this,arguments)}function K(o,u){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,R){return y.__proto__=R,y})(o,u)}function d(o){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)})(o)}var _=function(o){!function I(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),u&&K(o,u)}(f,o);var u=function w(o){var u=function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,y=d(o);if(u){var D=d(this).constructor;R=Reflect.construct(y,arguments,D)}else R=y.apply(this,arguments);return function Z(o,u){if(u&&("object"===S(u)||"function"==typeof u))return u;if(void 0!==u)throw new TypeError("Derived constructors may only return object or undefined");return function z(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}(this,R)}}(f);function f(y,R){var D,q,et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowedTags:[]};return function U(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}(this,f),(q=u.call(this,y,R,et)).allowedTags=null!==(D=et.allowedTags)&&void 0!==D?D:[],q}return function W(o,u,f){u&&F(o.prototype,u),f&&F(o,f),Object.defineProperty(o,"prototype",{writable:!1})}(f,[{key:"add",value:function(R,D){return b.Mx.call(this,x(d(f.prototype),"add",this),R,D)}},{key:"remove",value:function(R){return b.Mx.call(this,x(d(f.prototype),"remove",this),R)}},{key:"value",value:function(R){return b.Mx.call(this,x(d(f.prototype),"value",this),R)}},{key:"canAdd",value:function(R,D){return b.ud.call(this,x(d(f.prototype),"canAdd",this),R,D)}}],[{key:"keys",value:function(R){return(0,b.dj)(x(d(f),"keys",this),R,O.WT.style)}}]),f}(v.StyleAttributor)},3398:(B,C,n)=>{"use strict";n.d(C,{WT:()=>A,jf:()=>P,mQ:()=>I});var v=n(19),b=n(8252);function O(K){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(K)}function S(K,w){var Z=Object.keys(K);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(K);w&&(z=z.filter(function(j){return Object.getOwnPropertyDescriptor(K,j).enumerable})),Z.push.apply(Z,z)}return Z}function U(K){for(var w=1;w<arguments.length;w++){var Z=null!=arguments[w]?arguments[w]:{};w%2?S(Object(Z),!0).forEach(function(z){F(K,z,Z[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(Z)):S(Object(Z)).forEach(function(z){Object.defineProperty(K,z,Object.getOwnPropertyDescriptor(Z,z))})}return K}function F(K,w,Z){return w=function W(K){var w=function N(K,w){if("object"!==O(K)||null===K)return K;var Z=K[Symbol.toPrimitive];if(void 0!==Z){var z=Z.call(K,w||"default");if("object"!==O(z))return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===w?String:Number)(K)}(K,"string");return"symbol"===O(w)?w:String(w)}(w),w in K?Object.defineProperty(K,w,{value:Z,enumerable:!0,configurable:!0,writable:!0}):K[w]=Z,K}var A={attribute:"attr",style:"style"},x=U(U({},v.Sp.allowedTags.reduce(function(K,w){return K[w]={name:v.Sp.name,keyNamesSet:v.bc},K},{})),b.Pw.allowedTags.reduce(function(K,w){return K[w]={name:b.Pw.name,keyNamesSet:b.fU},K},{}));function P(K,w,Z){var z=x[K];return z&&z.keyNamesSet.has(w)?"".concat(Z).concat(z.name,"_").concat(w):w}function I(K){return K.replace(/([^]*_)/,"")}},6446:(B,C,n)=>{"use strict";n.d(C,{i2:()=>dt,qz:()=>ot,E2:()=>Et,ZP:()=>ht});var v=n(9098),b=n.n(v),O=n(1233),S=n(4122),U=n(6603),F=n(8222),W=n(3398);function N(X,vt,st,at){return st.map(H=>{const T=at?(0,W.jf)(X,H,at):H;return vt.scroll.query(T,O.Scope.ATTRIBUTE)}).filter(H=>H instanceof O.Attributor).reduce((H,T)=>(H[T.attrName]=T,H),{})}function x(X){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(vt){return typeof vt}:function(vt){return vt&&"function"==typeof Symbol&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt})(X)}function P(X,vt){var st=Object.keys(X);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(X);vt&&(at=at.filter(function(H){return Object.getOwnPropertyDescriptor(X,H).enumerable})),st.push.apply(st,at)}return st}function I(X){for(var vt=1;vt<arguments.length;vt++){var st=null!=arguments[vt]?arguments[vt]:{};vt%2?P(Object(st),!0).forEach(function(at){K(X,at,st[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(st)):P(Object(st)).forEach(function(at){Object.defineProperty(X,at,Object.getOwnPropertyDescriptor(st,at))})}return X}function K(X,vt,st){return(vt=j(vt))in X?Object.defineProperty(X,vt,{value:st,enumerable:!0,configurable:!0,writable:!0}):X[vt]=st,X}function w(X,vt){if(!(X instanceof vt))throw new TypeError("Cannot call a class as a function")}function Z(X,vt){for(var st=0;st<vt.length;st++){var at=vt[st];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(X,j(at.key),at)}}function z(X,vt,st){return vt&&Z(X.prototype,vt),st&&Z(X,st),Object.defineProperty(X,"prototype",{writable:!1}),X}function j(X){var vt=function d(X,vt){if("object"!==x(X)||null===X)return X;var st=X[Symbol.toPrimitive];if(void 0!==st){var at=st.call(X,vt||"default");if("object"!==x(at))return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===vt?String:Number)(X)}(X,"string");return"symbol"===x(vt)?vt:String(vt)}function _(){return _=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(vt,st,at){var H=function o(X,vt){for(;!Object.prototype.hasOwnProperty.call(X,vt)&&null!==(X=et(X)););return X}(vt,st);if(H){var T=Object.getOwnPropertyDescriptor(H,st);return T.get?T.get.call(arguments.length<3?vt:at):T.value}},_.apply(this,arguments)}function u(X,vt){if("function"!=typeof vt&&null!==vt)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(vt&&vt.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),vt&&f(X,vt)}function f(X,vt){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,H){return at.__proto__=H,at})(X,vt)}function y(X){var vt=function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var H,at=et(X);if(vt){var T=et(this).constructor;H=Reflect.construct(at,arguments,T)}else H=at.apply(this,arguments);return function R(X,vt){if(vt&&("object"===x(vt)||"function"==typeof vt))return vt;if(void 0!==vt)throw new TypeError("Derived constructors may only return object or undefined");return function D(X){if(void 0===X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}(X)}(this,H)}}function et(X){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(st){return st.__proto__||Object.getPrototypeOf(st)})(X)}!function A(){O.AttributorStore.prototype.build=function(){const{tagName:X}=this.domNode,vt=O.Registry.find(this.domNode);if(null==vt)return;const st=O.Attributor.keys(this.domNode),at=O.ClassAttributor.keys(this.domNode),H=O.StyleAttributor.keys(this.domNode);this.attributes={...N(X,vt,st,W.WT.attribute),...N(X,vt,at),...N(X,vt,H,W.WT.style)}}}();var ht=function(X){u(st,X);var vt=y(st);function st(at,H){var T;return w(this,st),(T=vt.call(this,at,H)).cache={},T}return z(st,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=ot(this)),this.cache.delta}},{key:"deleteAt",value:function(H,T){_(et(st.prototype),"deleteAt",this).call(this,H,T),this.cache={}}},{key:"formatAt",value:function(H,T,Y,J){T<=0||(this.scroll.query(Y,O.Scope.BLOCK)?H+T===this.length()&&this.format(Y,J):_(et(st.prototype),"formatAt",this).call(this,H,Math.min(T,this.length()-H-1),Y,J),this.cache={})}},{key:"insertAt",value:function(H,T,Y){if(null!=Y)return _(et(st.prototype),"insertAt",this).call(this,H,T,Y),void(this.cache={});if(0!==T.length){var J=T.split("\n"),k=J.shift();k.length>0&&(H<this.length()-1||null==this.children.tail?_(et(st.prototype),"insertAt",this).call(this,Math.min(H,this.length()-1),k):this.children.tail.insertAt(this.children.tail.length(),k),this.cache={});var lt=this;J.reduce(function(mt,Rt){return(lt=lt.split(mt,!0)).insertAt(0,Rt),Rt.length},H+k.length)}}},{key:"insertBefore",value:function(H,T){var Y=this.children.head;_(et(st.prototype),"insertBefore",this).call(this,H,T),Y instanceof S.Z&&Y.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=_(et(st.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(H,T){_(et(st.prototype),"moveChildren",this).call(this,H,T),this.cache={}}},{key:"optimize",value:function(H){_(et(st.prototype),"optimize",this).call(this,H),this.cache={}}},{key:"path",value:function(H){return _(et(st.prototype),"path",this).call(this,H,!0)}},{key:"removeChild",value:function(H){_(et(st.prototype),"removeChild",this).call(this,H),this.cache={}}},{key:"split",value:function(H){var T=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(T&&(0===H||H>=this.length()-1)){var Y=this.clone();return 0===H?(this.parent.insertBefore(Y,this),this):(this.parent.insertBefore(Y,this.next),Y)}var J=_(et(st.prototype),"split",this).call(this,H,T);return this.cache={},J}}]),st}(O.BlockBlot);ht.blotName="block",ht.tagName="P",ht.defaultChild=S.Z,ht.allowedChildren=[S.Z,U.Z,O.EmbedBlot,F.Z];var dt=function(X){u(st,X);var vt=y(st);function st(){return w(this,st),vt.apply(this,arguments)}return z(st,[{key:"attach",value:function(){_(et(st.prototype),"attach",this).call(this),this.attributes=new O.AttributorStore(this.domNode)}},{key:"delta",value:function(){return(new(b())).insert(this.value(),I(I({},this.formats()),this.attributes.values()))}},{key:"format",value:function(H,T){var Y=this.scroll.query(H,O.Scope.BLOCK_ATTRIBUTE);null!=Y&&this.attributes.attribute(Y,T)}},{key:"formatAt",value:function(H,T,Y,J){this.format(Y,J)}},{key:"insertAt",value:function(H,T,Y){if("string"==typeof T&&T.endsWith("\n")){var J=this.scroll.create(ht.blotName);this.parent.insertBefore(J,0===H?this:this.next),J.insertAt(0,T.slice(0,-1))}else _(et(st.prototype),"insertAt",this).call(this,H,T,Y)}}]),st}(O.EmbedBlot);function ot(X){var vt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return X.descendants(O.LeafBlot).reduce(function(st,at){return 0===at.length()?st:st.insert(at.value(),Et(at,{},vt))},new(b())).insert("\n",Et(X))}function Et(X){var vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},st=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==X||("function"==typeof X.formats&&(vt=I(I({},vt),X.formats()),st&&delete vt["code-token"]),null==X.parent||"scroll"===X.parent.statics.blotName||X.parent.statics.scope!==X.statics.scope)?vt:Et(X.parent,vt,st)}dt.scope=O.Scope.BLOCK_BLOT},4122:(B,C,n)=>{"use strict";function b(j){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(j)}function S(j,d){for(var _=0;_<d.length;_++){var o=d[_];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(j,F(o.key),o)}}function F(j){var d=function W(j,d){if("object"!==b(j)||null===j)return j;var _=j[Symbol.toPrimitive];if(void 0!==_){var o=_.call(j,d||"default");if("object"!==b(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(j)}(j,"string");return"symbol"===b(d)?d:String(d)}function A(j,d){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,u){return o.__proto__=u,o})(j,d)}function w(j){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)})(j)}n.d(C,{Z:()=>z});var Z=function(j){!function N(j,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(d&&d.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),d&&A(j,d)}(_,j);var d=function x(j){var d=function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,o=w(j);if(d){var f=w(this).constructor;u=Reflect.construct(o,arguments,f)}else u=o.apply(this,arguments);return function P(j,d){if(d&&("object"===b(d)||"function"==typeof d))return d;if(void 0!==d)throw new TypeError("Derived constructors may only return object or undefined");return function I(j){if(void 0===j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(j)}(this,u)}}(_);function _(){return function O(j,d){if(!(j instanceof d))throw new TypeError("Cannot call a class as a function")}(this,_),d.apply(this,arguments)}return function U(j,d,_){d&&S(j.prototype,d),_&&S(j,_),Object.defineProperty(j,"prototype",{writable:!1})}(_,[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),_}(n(1233).EmbedBlot);Z.blotName="break",Z.tagName="BR";const z=Z},3553:(B,C,n)=>{"use strict";function b(j){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(j)}function O(j,d){for(var _=0;_<d.length;_++){var o=d[_];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(j,U(o.key),o)}}function U(j){var d=function F(j,d){if("object"!==b(j)||null===j)return j;var _=j[Symbol.toPrimitive];if(void 0!==_){var o=_.call(j,d||"default");if("object"!==b(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(j)}(j,"string");return"symbol"===b(d)?d:String(d)}function A(j,d){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,u){return o.__proto__=u,o})(j,d)}function w(j){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)})(j)}n.d(C,{Z:()=>z});var Z=function(j){!function N(j,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(d&&d.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),d&&A(j,d)}(_,j);var d=function x(j){var d=function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,o=w(j);if(d){var f=w(this).constructor;u=Reflect.construct(o,arguments,f)}else u=o.apply(this,arguments);return function P(j,d){if(d&&("object"===b(d)||"function"==typeof d))return d;if(void 0!==d)throw new TypeError("Derived constructors may only return object or undefined");return function I(j){if(void 0===j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(j)}(this,u)}}(_);function _(){return function W(j,d){if(!(j instanceof d))throw new TypeError("Cannot call a class as a function")}(this,_),d.apply(this,arguments)}return function S(j,d,_){return d&&O(j.prototype,d),_&&O(j,_),Object.defineProperty(j,"prototype",{writable:!1}),j}(_)}(n(1233).ContainerBlot);const z=Z},3657:(B,C,n)=>{"use strict";n.d(C,{Z:()=>_});var v=n(1233),b=n(8222);function O(o){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function U(o,u){for(var f=0;f<u.length;f++){var y=u[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,W(y.key),y)}}function W(o){var u=function N(o,u){if("object"!==O(o)||null===o)return o;var f=o[Symbol.toPrimitive];if(void 0!==f){var y=f.call(o,u||"default");if("object"!==O(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(o)}(o,"string");return"symbol"===O(u)?u:String(u)}function A(){return A=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,f,y){var R=function x(o,u){for(;!Object.prototype.hasOwnProperty.call(o,u)&&null!==(o=j(o)););return o}(u,f);if(R){var D=Object.getOwnPropertyDescriptor(R,f);return D.get?D.get.call(arguments.length<3?u:y):D.value}},A.apply(this,arguments)}function I(o,u){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,R){return y.__proto__=R,y})(o,u)}function j(o){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)})(o)}var d=function(o){!function P(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),u&&I(o,u)}(f,o);var u=function K(o){var u=function z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,y=j(o);if(u){var D=j(this).constructor;R=Reflect.construct(y,arguments,D)}else R=y.apply(this,arguments);return function w(o,u){if(u&&("object"===O(u)||"function"==typeof u))return u;if(void 0!==u)throw new TypeError("Derived constructors may only return object or undefined");return function Z(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}(this,R)}}(f);function f(y,R,D){var q;return function S(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}(this,f),(q=u.call(this,y,R)).selection=D,q.textNode=document.createTextNode(f.CONTENTS),q.domNode.appendChild(q.textNode),q.savedLength=0,q}return function F(o,u,f){u&&U(o.prototype,u),f&&U(o,f),Object.defineProperty(o,"prototype",{writable:!1})}(f,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(R,D){if(0===this.savedLength){for(var q=this,et=0;null!=q&&q.statics.scope!==v.Scope.BLOCK_BLOT;)et+=q.offset(q.parent),q=q.parent;null!=q&&(this.savedLength=f.CONTENTS.length,q.optimize(),q.formatAt(et,f.CONTENTS.length,R,D),this.savedLength=0)}else A(j(f.prototype),"format",this).call(this,R,D)}},{key:"index",value:function(R,D){return R===this.textNode?0:A(j(f.prototype),"index",this).call(this,R,D)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){A(j(f.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||null==this.parent)return null;for(var R=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var ot,D=this.prev instanceof b.Z?this.prev:null,q=D?D.length():0,et=this.next instanceof b.Z?this.next:null,ft=et?et.text:"",ht=this.textNode,dt=ht.data.split(f.CONTENTS).join("");if(ht.data=f.CONTENTS,D)ot=D,(dt||et)&&(D.insertAt(D.length(),dt+ft),et&&et.remove());else if(et)ot=et,et.insertAt(0,dt);else{var Et=document.createTextNode(dt);ot=this.scroll.create(Et),this.parent.insertBefore(ot,this)}if(this.remove(),R){var X=function(H,T){return D&&H===D.domNode?T:H===ht?q+T-1:et&&H===et.domNode?q+dt.length+T:null},vt=X(R.start.node,R.start.offset),st=X(R.end.node,R.end.offset);if(null!==vt&&null!==st)return{startNode:ot.domNode,startOffset:vt,endNode:ot.domNode,endOffset:st}}return null}},{key:"update",value:function(R,D){var q=this;if(R.some(function(ft){return"characterData"===ft.type&&ft.target===q.textNode})){var et=this.restore();et&&(D.range=et)}}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),f}(v.EmbedBlot);d.blotName="cursor",d.className="ql-cursor",d.tagName="span",d.CONTENTS="\ufeff";const _=d},7452:(B,C,n)=>{"use strict";n.d(C,{Z:()=>o});var v=n(1233),b=n(8222);function O(u){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}function U(u,f){for(var y=0;y<f.length;y++){var R=f[y];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(u,W(R.key),R)}}function W(u){var f=function N(u,f){if("object"!==O(u)||null===u)return u;var y=u[Symbol.toPrimitive];if(void 0!==y){var R=y.call(u,f||"default");if("object"!==O(R))return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(u)}(u,"string");return"symbol"===O(f)?f:String(f)}function A(){return A=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(f,y,R){var D=function x(u,f){for(;!Object.prototype.hasOwnProperty.call(u,f)&&null!==(u=j(u)););return u}(f,y);if(D){var q=Object.getOwnPropertyDescriptor(D,y);return q.get?q.get.call(arguments.length<3?f:R):q.value}},A.apply(this,arguments)}function I(u,f){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,D){return R.__proto__=D,R})(u,f)}function j(u){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(u)}var d="\ufeff";const o=function(u){!function P(u,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),f&&I(u,f)}(y,u);var f=function K(u){var f=function z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,R=j(u);if(f){var q=j(this).constructor;D=Reflect.construct(R,arguments,q)}else D=R.apply(this,arguments);return function w(u,f){if(f&&("object"===O(f)||"function"==typeof f))return f;if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");return function Z(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(u)}(this,D)}}(y);function y(R,D){var q;return function S(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),(q=f.call(this,R,D)).contentNode=document.createElement("span"),q.contentNode.setAttribute("contenteditable",!1),Array.from(q.domNode.childNodes).forEach(function(et){q.contentNode.appendChild(et)}),q.leftGuard=document.createTextNode(d),q.rightGuard=document.createTextNode(d),q.domNode.appendChild(q.leftGuard),q.domNode.appendChild(q.contentNode),q.domNode.appendChild(q.rightGuard),q}return function F(u,f,y){f&&U(u.prototype,f),y&&U(u,y),Object.defineProperty(u,"prototype",{writable:!1})}(y,[{key:"index",value:function(D,q){return D===this.leftGuard?0:D===this.rightGuard?1:A(j(y.prototype),"index",this).call(this,D,q)}},{key:"restore",value:function(D){var q,et,ft=D.data.split(d).join("");if(D===this.leftGuard)if(this.prev instanceof b.Z){var ht=this.prev.length();this.prev.insertAt(ht,ft),q={startNode:this.prev.domNode,startOffset:ht+ft.length}}else et=document.createTextNode(ft),this.parent.insertBefore(this.scroll.create(et),this),q={startNode:et,startOffset:ft.length};else D===this.rightGuard&&(this.next instanceof b.Z?(this.next.insertAt(0,ft),q={startNode:this.next.domNode,startOffset:ft.length}):(et=document.createTextNode(ft),this.parent.insertBefore(this.scroll.create(et),this.next),q={startNode:et,startOffset:ft.length}));return D.data=d,q}},{key:"update",value:function(D,q){var et=this;D.forEach(function(ft){if("characterData"===ft.type&&(ft.target===et.leftGuard||ft.target===et.rightGuard)){var ht=et.restore(ft.target);ht&&(q.range=ht)}})}}]),y}(v.EmbedBlot)},6603:(B,C,n)=>{"use strict";n.d(C,{Z:()=>o});var v=n(1233),b=n(4122),O=n(8222);function S(u){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}function F(u,f){for(var y=0;y<f.length;y++){var R=f[y];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(u,N(R.key),R)}}function N(u){var f=function A(u,f){if("object"!==S(u)||null===u)return u;var y=u[Symbol.toPrimitive];if(void 0!==y){var R=y.call(u,f||"default");if("object"!==S(R))return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(u)}(u,"string");return"symbol"===S(f)?f:String(f)}function x(){return x=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(f,y,R){var D=function P(u,f){for(;!Object.prototype.hasOwnProperty.call(u,f)&&null!==(u=d(u)););return u}(f,y);if(D){var q=Object.getOwnPropertyDescriptor(D,y);return q.get?q.get.call(arguments.length<3?f:R):q.value}},x.apply(this,arguments)}function K(u,f){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,D){return R.__proto__=D,R})(u,f)}function d(u){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(u)}var _=function(u){!function I(u,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),f&&K(u,f)}(y,u);var f=function w(u){var f=function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,R=d(u);if(f){var q=d(this).constructor;D=Reflect.construct(R,arguments,q)}else D=R.apply(this,arguments);return function Z(u,f){if(f&&("object"===S(f)||"function"==typeof f))return f;if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");return function z(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(u)}(this,D)}}(y);function y(){return function U(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),f.apply(this,arguments)}return function W(u,f,y){f&&F(u.prototype,f),y&&F(u,y),Object.defineProperty(u,"prototype",{writable:!1})}(y,[{key:"formatAt",value:function(D,q,et,ft){if(y.compare(this.statics.blotName,et)<0&&this.scroll.query(et,v.Scope.BLOT)){var ht=this.isolate(D,q);ft&&ht.wrap(et,ft)}else x(d(y.prototype),"formatAt",this).call(this,D,q,et,ft)}},{key:"optimize",value:function(D){if(x(d(y.prototype),"optimize",this).call(this,D),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var q=this.parent.isolate(this.offset(),this.length());this.moveChildren(q),q.wrap(this)}}}],[{key:"compare",value:function(D,q){var et=y.order.indexOf(D),ft=y.order.indexOf(q);return et>=0||ft>=0?et-ft:D===q?0:D<q?-1:1}}]),y}(v.InlineBlot);_.allowedChildren=[_,b.Z,v.EmbedBlot,O.Z],_.order=["cursor","inline","link","underline","strike","italic","bold","script","code"];const o=_},3272:(B,C,n)=>{"use strict";n.d(C,{Z:()=>dt});var v=n(1233),b=n(2069),O=n(6446),S=n(4122),U=n(3553),F=n(1969);function W(ot){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Et){return typeof Et}:function(Et){return Et&&"function"==typeof Symbol&&Et.constructor===Symbol&&Et!==Symbol.prototype?"symbol":typeof Et})(ot)}function N(ot,Et){return function K(ot){if(Array.isArray(ot))return ot}(ot)||function I(ot,Et){var X=null==ot?null:typeof Symbol<"u"&&ot[Symbol.iterator]||ot["@@iterator"];if(null!=X){var vt,st,at,H,T=[],Y=!0,J=!1;try{if(at=(X=X.call(ot)).next,0===Et){if(Object(X)!==X)return;Y=!1}else for(;!(Y=(vt=at.call(X)).done)&&(T.push(vt.value),T.length!==Et);Y=!0);}catch(k){J=!0,st=k}finally{try{if(!Y&&null!=X.return&&(H=X.return(),Object(H)!==H))return}finally{if(J)throw st}}return T}}(ot,Et)||function x(ot,Et){if(ot){if("string"==typeof ot)return P(ot,Et);var X=Object.prototype.toString.call(ot).slice(8,-1);if("Object"===X&&ot.constructor&&(X=ot.constructor.name),"Map"===X||"Set"===X)return Array.from(ot);if("Arguments"===X||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return P(ot,Et)}}(ot,Et)||function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(ot,Et){(null==Et||Et>ot.length)&&(Et=ot.length);for(var X=0,vt=new Array(Et);X<Et;X++)vt[X]=ot[X];return vt}function Z(ot,Et){for(var X=0;X<Et.length;X++){var vt=Et[X];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(ot,j(vt.key),vt)}}function j(ot){var Et=function d(ot,Et){if("object"!==W(ot)||null===ot)return ot;var X=ot[Symbol.toPrimitive];if(void 0!==X){var vt=X.call(ot,Et||"default");if("object"!==W(vt))return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Et?String:Number)(ot)}(ot,"string");return"symbol"===W(Et)?Et:String(Et)}function _(){return _=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Et,X,vt){var st=function o(ot,Et){for(;!Object.prototype.hasOwnProperty.call(ot,Et)&&null!==(ot=et(ot)););return ot}(Et,X);if(st){var at=Object.getOwnPropertyDescriptor(st,X);return at.get?at.get.call(arguments.length<3?Et:vt):at.value}},_.apply(this,arguments)}function f(ot,Et){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,st){return vt.__proto__=st,vt})(ot,Et)}function et(ot){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(X){return X.__proto__||Object.getPrototypeOf(X)})(ot)}function ft(ot){return ot instanceof O.ZP||ot instanceof O.i2}var ht=function(ot){!function u(ot,Et){if("function"!=typeof Et&&null!==Et)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(Et&&Et.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),Object.defineProperty(ot,"prototype",{writable:!1}),Et&&f(ot,Et)}(X,ot);var Et=function y(ot){var Et=function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var st,vt=et(ot);if(Et){var at=et(this).constructor;st=Reflect.construct(vt,arguments,at)}else st=vt.apply(this,arguments);return function R(ot,Et){if(Et&&("object"===W(Et)||"function"==typeof Et))return Et;if(void 0!==Et)throw new TypeError("Derived constructors may only return object or undefined");return function D(ot){if(void 0===ot)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ot}(ot)}(this,st)}}(X);function X(vt,st,at){var H,T=at.emitter,Y=at.toggleBlankClass;return function w(ot,Et){if(!(ot instanceof Et))throw new TypeError("Cannot call a class as a function")}(this,X),(H=Et.call(this,vt,st)).emitter=T,H.toggleBlankClass=Y,H.batch=!1,H.optimize(),H.enable(),H.domNode.addEventListener("dragstart",function(J){return H.handleDragStart(J)}),H}return function z(ot,Et,X){Et&&Z(ot.prototype,Et),X&&Z(ot,X),Object.defineProperty(ot,"prototype",{writable:!1})}(X,[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){var st=this.batch;this.batch=!1,this.update(st)}},{key:"emitMount",value:function(st){this.emitter.emit(b.Z.events.SCROLL_BLOT_MOUNT,st)}},{key:"emitUnmount",value:function(st){this.emitter.emit(b.Z.events.SCROLL_BLOT_UNMOUNT,st)}},{key:"deleteAt",value:function(st,at){var T=N(this.line(st),2),Y=T[0],J=T[1],mt=N(this.line(st+at),1)[0];_(et(X.prototype),"deleteAt",this).call(this,st,at),null!=mt&&Y!==mt&&J>0&&(Y instanceof O.i2||mt instanceof O.i2||(Y instanceof F.zW||mt instanceof F.zW)&&Y.parent!==mt.parent||(Y.moveChildren(mt,mt.children.head instanceof S.Z?null:mt.children.head),Y.remove())),this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(st,at,H,T){_(et(X.prototype),"formatAt",this).call(this,st,at,H,T),this.optimize()}},{key:"handleDragStart",value:function(st){st.preventDefault()}},{key:"insertAt",value:function(st,at,H){if(st>=this.length())if(null==H||null==this.scroll.query(at,v.Scope.BLOCK)){var T=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(T),null==H&&at.endsWith("\n")?T.insertAt(0,at.slice(0,-1),H):T.insertAt(0,at,H)}else{var Y=this.scroll.create(at,H);this.appendChild(Y)}else _(et(X.prototype),"insertAt",this).call(this,st,at,H);this.optimize()}},{key:"insertBefore",value:function(st,at){if(st.statics.scope===v.Scope.INLINE_BLOT){var H=this.scroll.create(this.statics.defaultChild.blotName);H.appendChild(st),_(et(X.prototype),"insertBefore",this).call(this,H,at)}else _(et(X.prototype),"insertBefore",this).call(this,st,at)}},{key:"isEnabled",value:function(){return"true"===this.domNode.getAttribute("contenteditable")}},{key:"leaf",value:function(st){return this.path(st).pop()||[null,-1]}},{key:"line",value:function(st){return st===this.length()?this.line(st-1):this.descendant(ft,st)}},{key:"lines",value:function(){return function T(Y,J,k){var lt=[],mt=k;return Y.children.forEachAt(J,k,function(Rt,rt,Q){ft(Rt)?lt.push(Rt):Rt instanceof v.ContainerBlot&&(lt=lt.concat(T(Rt,rt,mt))),mt-=Q}),lt}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var st=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],at=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(_(et(X.prototype),"optimize",this).call(this,st,at),st.length>0&&this.emitter.emit(b.Z.events.SCROLL_OPTIMIZE,st,at))}},{key:"path",value:function(st){return _(et(X.prototype),"path",this).call(this,st).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(st){var at=this;if(this.batch)Array.isArray(st)&&(this.batch=this.batch.concat(st),this.toggleBlankClass());else{var H=b.Z.sources.USER;"string"==typeof st&&(H=st),Array.isArray(st)||(st=this.observer.takeRecords()),(st=st.filter(function(T){var J=at.find(T.target,!0);return J&&J.scroll===at})).length>0&&this.emitter.emit(b.Z.events.SCROLL_BEFORE_UPDATE,H,st),_(et(X.prototype),"update",this).call(this,st.concat([])),st.length>0&&this.emitter.emit(b.Z.events.SCROLL_UPDATE,H,st)}}}]),X}(v.ScrollBlot);ht.blotName="scroll",ht.className="ql-editor",ht.tagName="DIV",ht.defaultChild=O.ZP,ht.allowedChildren=[O.ZP,O.i2,U.Z];const dt=ht},8222:(B,C,n)=>{"use strict";function b(j){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(j)}function O(j,d){for(var _=0;_<d.length;_++){var o=d[_];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(j,U(o.key),o)}}function U(j){var d=function F(j,d){if("object"!==b(j)||null===j)return j;var _=j[Symbol.toPrimitive];if(void 0!==_){var o=_.call(j,d||"default");if("object"!==b(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(j)}(j,"string");return"symbol"===b(d)?d:String(d)}function A(j,d){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,u){return o.__proto__=u,o})(j,d)}function w(j){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)})(j)}n.d(C,{Z:()=>Z,b:()=>z});var Z=function(j){!function N(j,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(d&&d.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),d&&A(j,d)}(_,j);var d=function x(j){var d=function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,o=w(j);if(d){var f=w(this).constructor;u=Reflect.construct(o,arguments,f)}else u=o.apply(this,arguments);return function P(j,d){if(d&&("object"===b(d)||"function"==typeof d))return d;if(void 0!==d)throw new TypeError("Derived constructors may only return object or undefined");return function I(j){if(void 0===j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}(j)}(this,u)}}(_);function _(){return function W(j,d){if(!(j instanceof d))throw new TypeError("Cannot call a class as a function")}(this,_),d.apply(this,arguments)}return function S(j,d,_){return d&&O(j.prototype,d),_&&O(j,_),Object.defineProperty(j,"prototype",{writable:!1}),j}(_)}(n(1233).TextBlot);function z(j){return j.replace(/[&<>"']/g,function(d){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[d]})}},2432:(B,C,n)=>{"use strict";n.d(C,{default:()=>w});var v=n(281),b=n(6446),O=n(4122),S=n(3553),U=n(3657),F=n(7452),W=n(6603),N=n(3272),A=n(8222),x=n(5635),P=n(2613),I=n(3071),K=n(3859);v.ZP.register({"blots/block":b.ZP,"blots/block/embed":b.i2,"blots/break":O.Z,"blots/container":S.Z,"blots/cursor":U.Z,"blots/embed":F.Z,"blots/inline":W.Z,"blots/scroll":N.Z,"blots/text":A.Z,"modules/clipboard":x.ZP,"modules/history":P.Z,"modules/keyboard":I.ZP,"modules/uploader":K.Z});const w=v.ZP},2861:(B,C,n)=>{"use strict";n.d(C,{Z:()=>_t});var v=n(8805),b=n.n(v),O=n(2722),S=n.n(O),U=n(732),F=n.n(U),W=n(9098),N=n.n(W),A=n(1233),x=n(7800),P=n(3657),I=n(6446),K=n(4122),w=n(8222),z=n(5874);function _(tt,it){var ct=Object.keys(tt);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(tt);it&&(Ot=Ot.filter(function(E){return Object.getOwnPropertyDescriptor(tt,E).enumerable})),ct.push.apply(ct,Ot)}return ct}function o(tt){for(var it=1;it<arguments.length;it++){var ct=null!=arguments[it]?arguments[it]:{};it%2?_(Object(ct),!0).forEach(function(Ot){u(tt,Ot,ct[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(ct)):_(Object(ct)).forEach(function(Ot){Object.defineProperty(tt,Ot,Object.getOwnPropertyDescriptor(ct,Ot))})}return tt}function u(tt,it,ct){return(it=Et(it))in tt?Object.defineProperty(tt,it,{value:ct,enumerable:!0,configurable:!0,writable:!0}):tt[it]=ct,tt}function f(tt){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(it){return typeof it}:function(it){return it&&"function"==typeof Symbol&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it})(tt)}function y(tt,it){return ft(tt)||function et(tt,it){var ct=null==tt?null:typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(null!=ct){var Ot,E,l,i,g=[],p=!0,M=!1;try{if(l=(ct=ct.call(tt)).next,0===it){if(Object(ct)!==ct)return;p=!1}else for(;!(p=(Ot=l.call(ct)).done)&&(g.push(Ot.value),g.length!==it);p=!0);}catch(ut){M=!0,E=ut}finally{try{if(!p&&null!=ct.return&&(i=ct.return(),Object(i)!==i))return}finally{if(M)throw E}}return g}}(tt,it)||D(tt,it)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(tt,it){if(tt){if("string"==typeof tt)return q(tt,it);var ct=Object.prototype.toString.call(tt).slice(8,-1);if("Object"===ct&&tt.constructor&&(ct=tt.constructor.name),"Map"===ct||"Set"===ct)return Array.from(tt);if("Arguments"===ct||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ct))return q(tt,it)}}function q(tt,it){(null==it||it>tt.length)&&(it=tt.length);for(var ct=0,Ot=new Array(it);ct<it;ct++)Ot[ct]=tt[ct];return Ot}function ft(tt){if(Array.isArray(tt))return tt}function dt(tt,it){for(var ct=0;ct<it.length;ct++){var Ot=it[ct];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(tt,Et(Ot.key),Ot)}}function Et(tt){var it=function X(tt,it){if("object"!==f(tt)||null===tt)return tt;var ct=tt[Symbol.toPrimitive];if(void 0!==ct){var Ot=ct.call(tt,it||"default");if("object"!==f(Ot))return Ot;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===it?String:Number)(tt)}(tt,"string");return"symbol"===f(it)?it:String(it)}var vt=/^[ -~]*$/,st=function(){function tt(it){(function ht(tt,it){if(!(tt instanceof it))throw new TypeError("Cannot call a class as a function")})(this,tt),this.scroll=it,this.delta=this.getDelta(),this.immediateFormats=new Set}return function ot(tt,it,ct){it&&dt(tt.prototype,it),ct&&dt(tt,ct),Object.defineProperty(tt,"prototype",{writable:!1})}(tt,[{key:"addImmediateFormat",value:function(ct){this.immediateFormats.add(ct)}},{key:"applyDelta",value:function(ct){var Ot=this;this.scroll.update();var E=this.scroll.length();this.scroll.batchStart();var l=function rt(tt){return tt.reduce(function(it,ct){if("string"==typeof ct.insert){var Ot=ct.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return it.insert(Ot,ct.attributes)}return it.push(ct)},new(N()))}(ct),i=new(N());return l.reduce(function(g,p){var M=W.Op.length(p),ut=p.attributes||{},wt=!1;if(null!=p.insert){if(i.retain(M),"string"==typeof p.insert){var Ft=p.insert;wt=!Ft.endsWith("\n")&&(E<=g||Ot.scroll.descendant(I.i2,g)[0]),Ot.scroll.insertAt(g,Ft);var Kt=y(Ot.scroll.line(g),2),Xt=Kt[0],ee=Kt[1],bt=F()({},(0,I.E2)(Xt));if(Xt instanceof I.ZP){var jt=y(Xt.descendant(A.LeafBlot,ee),1)[0];bt=F()(bt,(0,I.E2)(jt))}ut=W.AttributeMap.diff(bt,ut)||{}}else if("object"===f(p.insert)){var kt=Object.keys(p.insert)[0];if(null==kt)return g;wt=null!=Ot.scroll.query(kt,A.Scope.INLINE)&&(E<=g||Ot.scroll.descendant(I.i2,g)[0]),Ot.scroll.insertAt(g,kt,p.insert[kt])}E+=M}else i.push(p);var Wt=Object.keys(ut);Ot.immediateFormats.forEach(function($t){Wt.indexOf($t)>-1&&(Ot.scroll.formatAt(g,M,$t,ut[$t]),delete ut[$t])}),Object.keys(ut).forEach(function($t){Ot.scroll.formatAt(g,M,$t,ut[$t])});var Ut=wt?1:0;return E+=Ut,i.delete(Ut),g+M+Ut},0),i.reduce(function(g,p){return"number"==typeof p.delete?(Ot.scroll.deleteAt(g,p.delete),g):g+W.Op.length(p)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(l)}},{key:"deleteText",value:function(ct,Ot){return this.scroll.deleteAt(ct,Ot),this.update((new(N())).retain(ct).delete(Ot))}},{key:"formatLine",value:function(ct,Ot){var E=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(l).forEach(function(g){E.scroll.lines(ct,Math.max(Ot,1)).forEach(function(p){p.format(g,l[g])})}),this.scroll.optimize();var i=(new(N())).retain(ct).retain(Ot,b()(l));return this.update(i)}},{key:"formatText",value:function(ct,Ot){var E=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(l).forEach(function(g){E.scroll.formatAt(ct,Ot,g,l[g])});var i=(new(N())).retain(ct).retain(Ot,b()(l));return this.update(i)}},{key:"getContents",value:function(ct,Ot){return this.delta.slice(ct,ct+Ot)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(ct,Ot){return ct.concat(Ot.delta())},new(N()))}},{key:"getFormat",value:function(ct){var Ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,E=[],l=[];0===Ot?this.scroll.path(ct).forEach(function(p){var ut=y(p,1)[0];ut instanceof I.ZP?E.push(ut):ut instanceof A.LeafBlot&&l.push(ut)}):(E=this.scroll.lines(ct,Ot),l=this.scroll.descendants(A.LeafBlot,ct,Ot));var g=y([E,l].map(function(p){if(0===p.length)return{};for(var M=(0,I.E2)(p.shift());Object.keys(M).length>0;){var ut=p.shift();if(null==ut)return M;M=k((0,I.E2)(ut),M)}return M}),2);return l=g[1],o(o({},E=g[0]),l)}},{key:"getHTML",value:function(ct,Ot){var l=y(this.scroll.line(ct),2),i=l[0],g=l[1];return i.length()>g+Ot?H(i,g,Ot,!0):H(this.scroll,ct,Ot,!0)}},{key:"getText",value:function(ct,Ot){return this.getContents(ct,Ot).filter(function(E){return"string"==typeof E.insert}).map(function(E){return E.insert}).join("")}},{key:"insertEmbed",value:function(ct,Ot,E){return this.scroll.insertAt(ct,Ot,E),this.update((new(N())).retain(ct).insert(u({},Ot,E)))}},{key:"insertText",value:function(ct,Ot){var E=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ot=Ot.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(ct,Ot),Object.keys(l).forEach(function(i){E.scroll.formatAt(ct,Ot.length,i,l[i])}),this.update((new(N())).retain(ct).insert(Ot,b()(l)))}},{key:"isBlank",value:function(){if(0===this.scroll.children.length)return!0;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.scroll.children.length>1)return!1;var Ot=this.scroll.children.head;return!(Ot.statics.blotName!==I.ZP.blotName||Ot.children.length>1)&&Ot.children.head instanceof K.Z}},{key:"removeFormat",value:function(ct,Ot){var E=this.getText(ct,Ot),i=y(this.scroll.line(ct+Ot),2),g=i[0],p=i[1],M=0,ut=new(N());null!=g&&(M=g.length()-p,ut=g.delta().slice(p,p+M-1).insert("\n"));var Ft=this.getContents(ct,Ot+M).diff((new(N())).insert(E).concat(ut)),Pt=(new(N())).retain(ct).concat(Ft);return this.applyDelta(Pt)}},{key:"update",value:function(ct){var Ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,l=this.delta;if(1===Ot.length&&"characterData"===Ot[0].type&&Ot[0].target.data.match(vt)&&this.scroll.find(Ot[0].target)){var i=this.scroll.find(Ot[0].target),g=(0,I.E2)(i),p=i.offset(this.scroll),M=Ot[0].oldValue.replace(P.Z.CONTENTS,""),ut=(new(N())).insert(M),wt=(new(N())).insert(i.value()),Ft=E&&{oldRange:Q(E.oldRange,-p),newRange:Q(E.newRange,-p)};ct=(new(N())).retain(p).concat(ut.diff(wt,Ft)).reduce(function(Kt,Xt){return Xt.insert?Kt.insert(Xt.insert,g):Kt.push(Xt)},new(N())),this.delta=l.compose(ct)}else this.delta=this.getDelta(),(!ct||!S()(l.compose(ct),this.delta))&&(this.deltaContainsRetain(l)||(ct=l.diff(this.delta,E)));return ct}},{key:"deltaContainsRetain",value:function(ct){return ct.ops.some(function(Ot){return(0,z.Z)(Ot.retain)})}}]),tt}();function at(tt,it,ct){if(0===tt.length){var l=y(lt(ct.pop()),1)[0];return it<=0?"</li></".concat(l,">"):"</li></".concat(l,">").concat(at([],it-1,ct))}var i=function j(tt){return ft(tt)||function d(tt){if(typeof Symbol<"u"&&null!=tt[Symbol.iterator]||null!=tt["@@iterator"])return Array.from(tt)}(tt)||D(tt)||R()}(tt),g=i[0],p=g.child,M=g.offset,ut=g.length,wt=g.indent,Ft=g.type,Pt=i.slice(1),Xt=y(lt(Ft,p),2),ee=Xt[0],bt=Xt[1];if(wt>it)return ct.push(Ft),wt===it+1?"<".concat(ee,"><li").concat(bt,">").concat(H(p,M,ut)).concat(at(Pt,wt,ct)):"<".concat(ee,"><li>").concat(at(tt,it+1,ct));if(wt===it&&Ft===ct[ct.length-1])return"</li><li".concat(bt,">").concat(H(p,M,ut)).concat(at(Pt,wt,ct));var jt=y(lt(ct.pop()),1);return"</li></".concat(jt[0],">").concat(at(tt,it-1,ct))}function H(tt,it,ct){var Ot=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"==typeof tt.html)return tt.html(it,ct);if(tt instanceof w.Z)return(0,w.b)(tt.value().slice(it,it+ct));if(tt.children){if("list-container"===tt.statics.blotName){var E=[];return tt.children.forEachAt(it,ct,function(Pt,Kt,Xt){var ee=Pt.formats();E.push({child:Pt,offset:Kt,length:Xt,indent:ee.indent||0,type:ee.list})}),at(E,-1,[])}var l=[];if(tt.children.forEachAt(it,ct,function(Pt,Kt,Xt){l.push(H(Pt,Kt,Xt))}),function T(tt,it){1===tt.length&&tt.head instanceof K.Z&&it.push("<br>")}(tt.children,l),Ot||"list"===tt.statics.blotName)return l.join("");var i=function Y(tt){var it=tt.domNode.cloneNode(!0);return function J(tt,it){return["tableCellLine","tableHeaderCellLine","tableCell","tableHeaderCell"].includes(tt.statics.blotName)&&function Z(tt,it){tt.classList.remove(it),0===tt.classList.length&&tt.removeAttribute("class")}(it,tt.statics.className),it}(tt,it)}(tt),ut=y(i.outerHTML.split(">".concat(i.innerHTML,"<")),2),wt=ut[0],Ft=ut[1];return 0===wt.indexOf("<table")?"".concat(wt.replace(/(\sdata-.+?=["'].*?["'])/g,""),">").concat(l.join("").replace(/(\sdata-table.+?=["'].*?["'])/g,""),"<").concat(Ft):"".concat(wt,">").concat(l.join(""),"<").concat(Ft)}return tt.domNode.outerHTML}function k(tt,it){return Object.keys(it).reduce(function(ct,Ot){return null==tt[Ot]||(it[Ot]===tt[Ot]?ct[Ot]=it[Ot]:Array.isArray(it[Ot])?it[Ot].indexOf(tt[Ot])<0&&(ct[Ot]=it[Ot].concat([tt[Ot]])):ct[Ot]=[it[Ot],tt[Ot]]),ct},{})}function lt(tt,it){var ct="ordered"===tt?"ol":"ul",Ot=it?"".concat(function mt(tt){var it=tt.domNode;if(!it.hasAttributes())return"";for(var ct=it.attributes,Ot=" ",E=0;E<ct.length;E+=1){var l=ct[E].name,i=ct[E].value;"class"===l&&(i=Rt(i)),i.length&&-1===l.indexOf("data-")&&(Ot+="".concat(l,'="').concat(i,'"'))}return Ot.length>1?Ot:""}(it)):"";switch(tt){case"checked":return[ct,"".concat(Ot,' data-list="checked"')];case"unchecked":return[ct,"".concat(Ot,' data-list="unchecked"')];default:return[ct,Ot]}}function Rt(tt){return tt.replace(/ql-indent-\d/g,"").trim()}function Q(tt,it){return new x.e(tt.index+it,tt.length)}const _t=st},2069:(B,C,n)=>{"use strict";n.d(C,{Z:()=>R});var v=n(3034),b=n.n(v),O=n(8034),S=n(2598);function F(D){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"==typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q})(D)}function N(D,q){for(var et=0;et<q.length;et++){var ft=q[et];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(D,x(ft.key),ft)}}function x(D){var q=function P(D,q){if("object"!==F(D)||null===D)return D;var et=D[Symbol.toPrimitive];if(void 0!==et){var ft=et.call(D,q||"default");if("object"!==F(ft))return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===q?String:Number)(D)}(D,"string");return"symbol"===F(q)?q:String(q)}function I(){return I=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(q,et,ft){var ht=function K(D,q){for(;!Object.prototype.hasOwnProperty.call(D,q)&&null!==(D=o(D)););return D}(q,et);if(ht){var dt=Object.getOwnPropertyDescriptor(ht,et);return dt.get?dt.get.call(arguments.length<3?q:ft):dt.value}},I.apply(this,arguments)}function Z(D,q){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,ht){return ft.__proto__=ht,ft})(D,q)}function o(D){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)})(D)}var u=(0,n(3122).Z)("quill:events");(0,O.Z)()&&["selectionchange","mousedown","mouseup","click"].forEach(function(D){document.addEventListener(D,function(){for(var q=arguments.length,et=new Array(q),ft=0;ft<q;ft++)et[ft]=arguments[ft];Array.from(document.querySelectorAll(".ql-container")).forEach(function(ht){var ot,dt=S.Z.get(ht);dt&&dt.emitter&&(ot=dt.emitter).handleDOM.apply(ot,et)})})});var y=function(D){!function w(D,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(q&&q.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),q&&Z(D,q)}(et,D);var q=function z(D){var q=function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ht,ft=o(D);if(q){var dt=o(this).constructor;ht=Reflect.construct(ft,arguments,dt)}else ht=ft.apply(this,arguments);return function j(D,q){if(q&&("object"===F(q)||"function"==typeof q))return q;if(void 0!==q)throw new TypeError("Derived constructors may only return object or undefined");return function d(D){if(void 0===D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(D)}(this,ht)}}(et);function et(){var ft;return function W(D,q){if(!(D instanceof q))throw new TypeError("Cannot call a class as a function")}(this,et),(ft=q.call(this)).listeners={},ft.on("error",u.error),ft}return function A(D,q,et){q&&N(D.prototype,q),et&&N(D,et),Object.defineProperty(D,"prototype",{writable:!1})}(et,[{key:"emit",value:function(){for(var ht,dt,ot=arguments.length,Et=new Array(ot),X=0;X<ot;X++)Et[X]=arguments[X];(ht=u.log).call.apply(ht,[u].concat(Et)),(dt=I(o(et.prototype),"emit",this)).call.apply(dt,[this].concat(Et))}},{key:"handleDOM",value:function(ht){for(var dt=arguments.length,ot=new Array(dt>1?dt-1:0),Et=1;Et<dt;Et++)ot[Et-1]=arguments[Et];(this.listeners[ht.type]||[]).forEach(function(X){var vt=X.node,st=X.handler;(ht.target===vt||vt.contains(ht.target))&&st.apply(void 0,[ht].concat(ot))})}},{key:"listenDOM",value:function(ht,dt,ot){this.listeners[ht]||(this.listeners[ht]=[]),this.listeners[ht].push({node:dt,handler:ot})}}]),et}(b());y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",CONTENT_SETTED:"content-setted"},y.sources={API:"api",SILENT:"silent",USER:"user"};const R=y},2598:(B,C,n)=>{"use strict";n.d(C,{Z:()=>v});const v=new WeakMap},3122:(B,C,n)=>{"use strict";n.d(C,{Z:()=>U});var v=["error","warn","log","info"],b="warn";function O(F){if(v.indexOf(F)<=v.indexOf(b)){for(var W,N=arguments.length,A=new Array(N>1?N-1:0),x=1;x<N;x++)A[x-1]=arguments[x];(W=console)[F].apply(W,A)}}function S(F){return v.reduce(function(W,N){return W[N]=O.bind(console,N,F),W},{})}O.level=S.level=function(F){b=F};const U=S},7094:(B,C,n)=>{"use strict";function v(A){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(A)}function b(A,x){for(var P=0;P<x.length;P++){var I=x[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,S(I.key),I)}}function O(A,x,P){return x&&b(A.prototype,x),P&&b(A,P),Object.defineProperty(A,"prototype",{writable:!1}),A}function S(A){var x=function U(A,x){if("object"!==v(A)||null===A)return A;var P=A[Symbol.toPrimitive];if(void 0!==P){var I=P.call(A,x||"default");if("object"!==v(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(A)}(A,"string");return"symbol"===v(x)?x:String(x)}n.d(C,{Z:()=>N});var W=O(function A(x){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function F(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")})(this,A),this.quill=x,this.options=P});W.DEFAULTS={};const N=W},281:(B,C,n)=>{"use strict";n.d(C,{ZP:()=>ot});var v=n(9098),b=n.n(v),O=n(8805),S=n.n(O),U=n(732),F=n.n(U),W=n(1233),N=n(2861),A=n(2069),x=n(7094),P=n(7800),I=n(2598),K=n(3122),w=n(1690),Z=n(5874);function z(at){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(at)}function j(at,H,T){return(H=et(H))in at?Object.defineProperty(at,H,{value:T,enumerable:!0,configurable:!0,writable:!0}):at[H]=T,at}function d(at,H){return function y(at){if(Array.isArray(at))return at}(at)||function f(at,H){var T=null==at?null:typeof Symbol<"u"&&at[Symbol.iterator]||at["@@iterator"];if(null!=T){var Y,J,k,lt,mt=[],Rt=!0,rt=!1;try{if(k=(T=T.call(at)).next,0===H){if(Object(T)!==T)return;Rt=!1}else for(;!(Rt=(Y=k.call(T)).done)&&(mt.push(Y.value),mt.length!==H);Rt=!0);}catch(Q){rt=!0,J=Q}finally{try{if(!Rt&&null!=T.return&&(lt=T.return(),Object(lt)!==lt))return}finally{if(rt)throw J}}return mt}}(at,H)||function o(at,H){if(at){if("string"==typeof at)return u(at,H);var T=Object.prototype.toString.call(at).slice(8,-1);if("Object"===T&&at.constructor&&(T=at.constructor.name),"Map"===T||"Set"===T)return Array.from(at);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return u(at,H)}}(at,H)||function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(at,H){(null==H||H>at.length)&&(H=at.length);for(var T=0,Y=new Array(H);T<H;T++)Y[T]=at[T];return Y}function D(at,H){for(var T=0;T<H.length;T++){var Y=H[T];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(at,et(Y.key),Y)}}function et(at){var H=function ft(at,H){if("object"!==z(at)||null===at)return at;var T=at[Symbol.toPrimitive];if(void 0!==T){var Y=T.call(at,H||"default");if("object"!==z(Y))return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===H?String:Number)(at)}(at,"string");return"symbol"===z(H)?H:String(H)}var ht=(0,K.Z)("quill"),dt=new W.Registry;W.ParentBlot.uiClass="ql-ui";var ot=function(){function at(H){var T=this,Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function R(at,H){if(!(at instanceof H))throw new TypeError("Cannot call a class as a function")}(this,at),this.options=function Et(at,H){if((H=F()({container:at,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},H)).theme&&H.theme!==ot.DEFAULTS.theme){if(H.theme=ot.import("themes/".concat(H.theme)),null==H.theme)throw new Error("Invalid theme ".concat(H.theme,". Did you register it?"))}else H.theme=w.Z;var T=S()(H.theme.DEFAULTS);[T,H].forEach(function(k){k.modules=k.modules||{},Object.keys(k.modules).forEach(function(lt){!0===k.modules[lt]&&(k.modules[lt]={})})});var J=Object.keys(T.modules).concat(Object.keys(H.modules)).reduce(function(k,lt){var mt=ot.import("modules/".concat(lt));return null==mt?ht.error("Cannot load ".concat(lt," module. Are you sure you registered it?")):k[lt]=mt.DEFAULTS||{},k},{});return null!=H.modules&&H.modules.toolbar&&H.modules.toolbar.constructor!==Object&&(H.modules.toolbar={container:H.modules.toolbar}),H=F()({},ot.DEFAULTS,{modules:J},T,H),["bounds","container","scrollingContainer"].forEach(function(k){"string"==typeof H[k]&&(H[k]=document.querySelector(H[k]))}),H.modules=Object.keys(H.modules).reduce(function(k,lt){return H.modules[lt]&&(k[lt]=H.modules[lt]),k},{}),H}(H,Y),this.container=this.options.container,null==this.container)return ht.error("Invalid Quill container",H);this.options.debug&&at.debug(this.options.debug);var J=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",I.Z.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new A.Z;var k=this.options.registry.query(W.ScrollBlot.blotName);this.scroll=new k(this.options.registry,this.root,{emitter:this.emitter,toggleBlankClass:this.toggleBlankClass.bind(this)}),this.editor=new N.Z(this.scroll),this.selection=new P.Z(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(A.Z.events.EDITOR_CHANGE,function(lt){lt===A.Z.events.TEXT_CHANGE&&T.toggleBlankClass()}),this.emitter.on(A.Z.events.SCROLL_UPDATE,function(lt,mt){var Rt=T.selection.lastRange,_t=d(T.selection.getRange(),1)[0],tt=Rt&&_t?{oldRange:Rt,newRange:_t}:void 0;X.call(T,function(){return T.editor.update(null,mt,tt)},lt)}),this.setContents(this.getInitialContent(J)),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}return function q(at,H,T){H&&D(at.prototype,H),T&&D(at,T),Object.defineProperty(at,"prototype",{writable:!1})}(at,[{key:"getInitialContent",value:function(T){return this.clipboard.convert({html:"".concat(T,"<p><br></p>"),text:"\n"})}},{key:"toggleBlankClass",value:function(){this.root.classList.toggle("ql-blank",this.editor.isBlank(this.selection.composing))}},{key:"addContainer",value:function(T){var Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof T){var J=T;(T=document.createElement("div")).classList.add(J)}return this.container.insertBefore(T,Y),T}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(T,Y,J){var k=this,mt=d(vt(T,Y,J),4);return X.call(this,function(){return k.editor.deleteText(T,Y)},J=mt[3],T=mt[0],-1*(Y=mt[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(T){this.allowReadOnlyEdits=!0;var Y=T();return this.allowReadOnlyEdits=!1,Y}},{key:"enable",value:function(){var T=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(T),this.container.classList.toggle("ql-disabled",!T)}},{key:"focus",value:function(){var T=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=T,this.scrollIntoView()}},{key:"format",value:function(T,Y){var J=this;return X.call(this,function(){var lt=J.getSelection(!0),mt=new(b());if(null==lt)return mt;if(J.scroll.query(T,W.Scope.BLOCK))mt=J.editor.formatLine(lt.index,lt.length,j({},T,Y));else{if(0===lt.length)return J.selection.format(T,Y),mt;mt=J.editor.formatText(lt.index,lt.length,j({},T,Y))}return J.setSelection(lt,A.Z.sources.SILENT),mt},arguments.length>2&&void 0!==arguments[2]?arguments[2]:A.Z.sources.API)}},{key:"formatLine",value:function(T,Y,J,k,lt){var Rt,mt=this,Q=d(vt(T,Y,J,k,lt),4);return Y=Q[1],Rt=Q[2],X.call(this,function(){return mt.editor.formatLine(T,Y,Rt)},lt=Q[3],T=Q[0],0)}},{key:"formatText",value:function(T,Y,J,k,lt){var Rt,mt=this,Q=d(vt(T,Y,J,k,lt),4);return Y=Q[1],Rt=Q[2],X.call(this,function(){return mt.editor.formatText(T,Y,Rt)},lt=Q[3],T=Q[0],0)}},{key:"getBounds",value:function(T){var J;J="number"==typeof T?this.selection.getBounds(T,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(T.index,T.length);var k=this.container.getBoundingClientRect();return{bottom:J.bottom-k.top,height:J.height,left:J.left-k.left,right:J.right-k.left,top:J.top-k.top,width:J.width}}},{key:"getContents",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-T,k=d(vt(T,Y),2);return this.editor.getContents(T=k[0],Y=k[1])}},{key:"getFormat",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,Z.Z)(T)?"number"==typeof T?this.editor.getFormat(T,Y):this.editor.getFormat(T.index,T.length):{}}},{key:"getIndex",value:function(T){return T.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(T){return this.scroll.leaf(T)}},{key:"getLine",value:function(T){return this.scroll.line(T)}},{key:"getLines",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof T?this.scroll.lines(T.index,T.length):this.scroll.lines(T,Y)}},{key:"getModule",value:function(T){return this.theme.modules[T]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-T,k=d(vt(T,Y),2);return this.editor.getHTML(T=k[0],Y=k[1])}},{key:"getText",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-T,k=d(vt(T,Y),2);return this.editor.getText(T=k[0],Y=k[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(T,Y,J){var k=this;return X.call(this,function(){return k.editor.insertEmbed(T,Y,J)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:at.sources.API,T)}},{key:"insertText",value:function(T,Y,J,k,lt){var Rt,mt=this,Q=d(vt(T,0,J,k,lt),4);return Rt=Q[2],X.call(this,function(){return mt.editor.insertText(T,Y,Rt)},lt=Q[3],T=Q[0],Y.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var T;return(T=this.emitter).off.apply(T,arguments)}},{key:"on",value:function(){var T;return(T=this.emitter).on.apply(T,arguments)}},{key:"once",value:function(){var T;return(T=this.emitter).once.apply(T,arguments)}},{key:"removeFormat",value:function(T,Y,J){var k=this,mt=d(vt(T,Y,J),4);return Y=mt[1],X.call(this,function(){return k.editor.removeFormat(T,Y)},J=mt[3],T=mt[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(T){var Y=this;return X.call(this,function(){T=new(b())(T);var k=Y.getLength(),lt=Y.editor.deleteText(0,k),mt=Y.editor.applyDelta(T),Rt=Y.editor.deleteText(Y.getLength()-1,1);return Y.emitter.emit(at.events.CONTENT_SETTED),lt.compose(mt).compose(Rt)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Z.sources.API)}},{key:"setSelection",value:function(T,Y,J){if(null==T)this.selection.setRange(null,Y||at.sources.API);else{var lt=d(vt(T,Y,J),4);T=lt[0],Y=lt[1],J=lt[3],this.selection.setRange(new P.e(Math.max(0,T),Y),J),J!==A.Z.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(T){var Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Z.sources.API,J=(new(b())).insert(T);return this.setContents(J,Y)}},{key:"update",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.Z.sources.USER,Y=this.scroll.update(T);return this.selection.update(T),Y}},{key:"updateContents",value:function(T){var Y=this,J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.Z.sources.API;return X.call(this,function(){return T=new(b())(T),Y.editor.applyDelta(T,J)},J,!0)}}],[{key:"debug",value:function(T){!0===T&&(T="log"),K.Z.level(T)}},{key:"find",value:function(T){return I.Z.get(T)||dt.find(T)}},{key:"import",value:function(T){return null==this.imports[T]&&ht.error("Cannot import ".concat(T,". Are you sure it was registered?")),this.imports[T]}},{key:"register",value:function(T,Y){var J=this,k=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof T){var lt=T.attrName||T.blotName;"string"==typeof lt?this.register("formats/".concat(lt),T,Y):Object.keys(T).forEach(function(mt){J.register(mt,T[mt],Y)})}else null!=this.imports[T]&&!k&&ht.warn("Overwriting ".concat(T," with"),Y),this.imports[T]=Y,(0===T.indexOf("blots/")||0===T.indexOf("formats/"))&&"abstract"!==Y.blotName&&dt.register(Y),"function"==typeof Y.register&&Y.register(dt)}}]),at}();function X(at,H,T,Y){if(!this.isEnabled()&&H===A.Z.sources.USER&&!this.allowReadOnlyEdits)return new(b());var J=null==T?null:this.getSelection(),k=this.editor.delta,lt=at();if(null!=J&&(!0===T&&(T=J.index),null==Y?J=st(J,lt,H):0!==Y&&(J=st(J,T,Y,H)),this.setSelection(J,A.Z.sources.SILENT)),lt.length()>0){var mt,rt,Rt=[A.Z.events.TEXT_CHANGE,lt,k,H];(mt=this.emitter).emit.apply(mt,[A.Z.events.EDITOR_CHANGE].concat(Rt)),H!==A.Z.sources.SILENT&&(rt=this.emitter).emit.apply(rt,Rt)}return lt}function vt(at,H,T,Y,J){var k={};return"number"==typeof at.index&&"number"==typeof at.length?"number"!=typeof H?(J=Y,Y=T,T=H,H=at.length,at=at.index):(H=at.length,at=at.index):"number"!=typeof H&&(J=Y,Y=T,T=H,H=0),"object"===z(T)?(k=T,J=Y):"string"==typeof T&&(null!=Y?k[T]=Y:J=T),[at,H,k,J=J||A.Z.sources.API]}function st(at,H,T,Y){if(null==at)return null;var J,k;if(H instanceof b()){var mt=d([at.index,at.index+at.length].map(function(Q){return H.transformPosition(Q,Y!==A.Z.sources.USER)}),2);J=mt[0],k=mt[1]}else{var rt=d([at.index,at.index+at.length].map(function(Q){return Q<H||Q===H&&Y===A.Z.sources.USER?Q:T>=0?Q+T:Math.max(H,Q+T)}),2);J=rt[0],k=rt[1]}return new P.e(J,k-J)}ot.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:dt,scrollingContainer:null,theme:"default"},ot.events=A.Z.events,ot.sources=A.Z.sources,ot.version="1.6.4",ot.imports={delta:b(),parchment:W,"core/module":x.Z,"core/theme":w.Z}},7800:(B,C,n)=>{"use strict";n.d(C,{Z:()=>q,e:()=>D});var v=n(1233),b=n(8805),O=n.n(b),S=n(2722),U=n.n(S),F=n(2069);function N(ft){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ht){return typeof ht}:function(ht){return ht&&"function"==typeof Symbol&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht})(ft)}function A(ft){return function I(ft){if(Array.isArray(ft))return z(ft)}(ft)||function P(ft){if(typeof Symbol<"u"&&null!=ft[Symbol.iterator]||null!=ft["@@iterator"])return Array.from(ft)}(ft)||Z(ft)||function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(ft,ht){return function d(ft){if(Array.isArray(ft))return ft}(ft)||function j(ft,ht){var dt=null==ft?null:typeof Symbol<"u"&&ft[Symbol.iterator]||ft["@@iterator"];if(null!=dt){var ot,Et,X,vt,st=[],at=!0,H=!1;try{if(X=(dt=dt.call(ft)).next,0===ht){if(Object(dt)!==dt)return;at=!1}else for(;!(at=(ot=X.call(dt)).done)&&(st.push(ot.value),st.length!==ht);at=!0);}catch(T){H=!0,Et=T}finally{try{if(!at&&null!=dt.return&&(vt=dt.return(),Object(vt)!==vt))return}finally{if(H)throw Et}}return st}}(ft,ht)||Z(ft,ht)||function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(ft,ht){if(ft){if("string"==typeof ft)return z(ft,ht);var dt=Object.prototype.toString.call(ft).slice(8,-1);if("Object"===dt&&ft.constructor&&(dt=ft.constructor.name),"Map"===dt||"Set"===dt)return Array.from(ft);if("Arguments"===dt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return z(ft,ht)}}function z(ft,ht){(null==ht||ht>ft.length)&&(ht=ft.length);for(var dt=0,ot=new Array(ht);dt<ht;dt++)ot[dt]=ft[dt];return ot}function _(ft,ht){for(var dt=0;dt<ht.length;dt++){var ot=ht[dt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(ft,u(ot.key),ot)}}function o(ft,ht,dt){return ht&&_(ft.prototype,ht),dt&&_(ft,dt),Object.defineProperty(ft,"prototype",{writable:!1}),ft}function u(ft){var ht=function f(ft,ht){if("object"!==N(ft)||null===ft)return ft;var dt=ft[Symbol.toPrimitive];if(void 0!==dt){var ot=dt.call(ft,ht||"default");if("object"!==N(ot))return ot;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ht?String:Number)(ft)}(ft,"string");return"symbol"===N(ht)?ht:String(ht)}function y(ft,ht){if(!(ft instanceof ht))throw new TypeError("Cannot call a class as a function")}var R=(0,n(3122).Z)("quill:selection"),D=o(function ft(ht){var dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y(this,ft),this.index=ht,this.length=dt}),q=function(){function ft(ht,dt){var ot=this;y(this,ft),this.emitter=dt,this.scroll=ht,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new D(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){!ot.mouseDown&&!ot.composing&&setTimeout(ot.update.bind(ot,F.Z.sources.USER),1)}),this.emitter.on(F.Z.events.SCROLL_BEFORE_UPDATE,function(){if(ot.hasFocus()){var Et=ot.getNativeRange();null!=Et&&Et.start.node!==ot.cursor.textNode&&ot.emitter.once(F.Z.events.SCROLL_UPDATE,function(){try{ot.root.contains(Et.start.node)&&ot.root.contains(Et.end.node)&&ot.setNativeRange(Et.start.node,Et.start.offset,Et.end.node,Et.end.offset),ot.update(F.Z.sources.SILENT)}catch{}})}}),this.emitter.on(F.Z.events.SCROLL_OPTIMIZE,function(Et,X){if(X.range){var vt=X.range;ot.setNativeRange(vt.startNode,vt.startOffset,vt.endNode,vt.endOffset),ot.update(F.Z.sources.SILENT)}}),this.update(F.Z.sources.SILENT)}return o(ft,[{key:"handleComposition",value:function(){var dt=this;this.root.addEventListener("compositionstart",function(){dt.composing=!0,dt.scroll.batchStart()}),this.root.addEventListener("compositionend",function(){if(dt.scroll.batchEnd(),dt.composing=!1,dt.cursor.parent){var ot=dt.cursor.restore();if(!ot)return;setTimeout(function(){dt.setNativeRange(ot.startNode,ot.startOffset,ot.endNode,ot.endOffset)},1)}})}},{key:"handleDragging",value:function(){var dt=this;this.emitter.listenDOM("mousedown",document.body,function(){dt.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){dt.mouseDown=!1,dt.update(F.Z.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(dt,ot){this.scroll.update();var Et=this.getNativeRange();if(null!=Et&&Et.native.collapsed&&!this.scroll.query(dt,v.Scope.BLOCK)){if(Et.start.node!==this.cursor.textNode){var X=this.scroll.find(Et.start.node,!1);if(null==X)return;if(X instanceof v.LeafBlot){var vt=X.split(Et.start.offset);X.parent.insertBefore(this.cursor,vt)}else X.insertBefore(this.cursor,Et.start.node);this.cursor.attach()}this.cursor.format(dt,ot),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(dt){var ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Et=this.scroll.length();dt=Math.min(dt,Et-1),ot=Math.min(dt+ot,Et-1)-dt;var X,st=K(this.scroll.leaf(dt),2),at=st[0],H=st[1];if(null==at)return null;var Y=K(this.getPositionData(at,H,!0),2);X=Y[0],H=Y[1];var J=document.createRange();if(ot>0){J.setStart(X,H);var lt=K(this.scroll.leaf(dt+ot),2);if(null==(at=lt[0]))return null;var Rt=K(this.getPositionData(at,H=lt[1],!0),2);return J.setEnd(X=Rt[0],H=Rt[1]),J.getBoundingClientRect()}var Q,rt="left";return X instanceof Text?(H<X.data.length?(J.setStart(X,H),J.setEnd(X,H+1)):(J.setStart(X,H-1),J.setEnd(X,H),rt="right"),Q=J.getBoundingClientRect()):(Q=at.domNode.getBoundingClientRect(),H>0&&(rt="right")),{bottom:Q.top+Q.height,height:Q.height,left:Q[rt],right:Q[rt],top:Q.top,width:0}}},{key:"getNativeRange",value:function(){var dt,ot,Et=this.root.getRootNode(),X=null!==(dt=null===(ot=Et.getSelection)||void 0===ot?void 0:ot.call(Et))&&void 0!==dt?dt:document.getSelection();if(null==X||X.rangeCount<=0)return null;var vt=X.getRangeAt(0);if(null==vt)return null;var st=this.normalizeNative(vt);return R.info("getNativeRange",st),st}},{key:"getRange",value:function(){var dt=this.getNativeRange();return null==dt?[null,null]:[this.normalizedToRange(dt),dt]}},{key:"hasFocus",value:function(){var dt=this.root.getRootNode();return dt.activeElement===this.root||et(this.root,dt.activeElement)}},{key:"normalizedToRange",value:function(dt){var ot=this,Et=[[dt.start.node,dt.start.offset]];dt.native.collapsed||Et.push([dt.end.node,dt.end.offset]);var X=Et.map(function(at){var H=K(at,2),T=H[0],Y=H[1],J=ot.scroll.find(T,!0),k=J.offset(ot.scroll);return 0===Y?k:J instanceof v.LeafBlot?k+J.index(T,Y):k+J.length()}),vt=Math.min(Math.max.apply(Math,A(X)),this.scroll.length()-1),st=Math.min.apply(Math,[vt].concat(A(X)));return new D(st,vt-st)}},{key:"normalizeNative",value:function(dt){if(!et(this.root,dt.startContainer)||!dt.collapsed&&!et(this.root,dt.endContainer))return null;var ot={start:{node:dt.startContainer,offset:dt.startOffset},end:{node:dt.endContainer,offset:dt.endOffset},native:dt};return[ot.start,ot.end].forEach(function(Et){for(var X=Et.node,vt=Et.offset;!(X instanceof Text)&&X.childNodes.length>0;)if(X.childNodes.length>vt)X=X.childNodes[vt],vt=0;else{if(X.childNodes.length!==vt)break;vt=(X=X.lastChild)instanceof Text?X.data.length:X.childNodes.length>0?X.childNodes.length:X.childNodes.length+1}Et.node=X,Et.offset=vt}),ot}},{key:"rangeToNative",value:function(dt){var ot=this,Et=dt.collapsed?[dt.index]:[dt.index,dt.index+dt.length],X=[],vt=this.scroll.length();return Et.forEach(function(st,at){st=Math.min(vt-1,st);var T=K(ot.scroll.leaf(st),2),lt=K(ot.getPositionData(T[0],T[1],0!==at),2);X.push(lt[0],lt[1])}),X.length<2?X.concat(X):X}},{key:"getPositionData",value:function(dt,ot,Et){return dt instanceof v.LeafBlot?dt.position(ot,Et):[dt.domNode,ot]}},{key:"scrollIntoView",value:function(dt){var ot=this.lastRange;if(null!=ot){var Et=this.getBounds(ot.index,ot.length);if(null!=Et){var X=this.scroll.length()-1,at=K(this.scroll.line(Math.min(ot.index,X)),1)[0],H=at;if(ot.length>0&&(H=K(this.scroll.line(Math.min(ot.index+ot.length,X)),1)[0]),null!=at&&null!=H){var J=dt.getBoundingClientRect();Et.top<J.top?dt.scrollTop-=J.top-Et.top:Et.bottom>J.bottom&&(dt.scrollTop+=Et.bottom-J.bottom)}}}}},{key:"setNativeRange",value:function(dt,ot){var Et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt,X=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ot,vt=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(R.info("setNativeRange",dt,ot,Et,X),null==dt||null!=this.root.parentNode&&null!=dt.parentNode&&null!=Et.parentNode){var st=document.getSelection();if(null!=st)if(null!=dt){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(null==H||vt||dt!==H.startContainer||ot!==H.startOffset||Et!==H.endContainer||X!==H.endOffset){"BR"===dt.tagName&&(ot=Array.from(dt.parentNode.childNodes).indexOf(dt),dt=dt.parentNode),"BR"===Et.tagName&&(X=Array.from(Et.parentNode.childNodes).indexOf(Et),Et=Et.parentNode);var T=document.createRange();T.setStart(dt,ot),T.setEnd(Et,X),st.removeAllRanges(),st.addRange(T)}}else st.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(dt){var ot=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.Z.sources.API;if("string"==typeof ot&&(Et=ot,ot=!1),R.info("setRange",dt),null!=dt){var X=this.rangeToNative(dt);this.setNativeRange.apply(this,A(X).concat([ot]))}else this.setNativeRange(null);this.update(Et)}},{key:"update",value:function(){var dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.Z.sources.USER,ot=this.lastRange,X=K(this.getRange(),2),st=X[1];if(this.lastRange=X[0],this.lastNative=st,null!=this.lastRange&&(this.savedRange=this.lastRange),!U()(ot,this.lastRange)){var at;if(!this.composing&&null!=st&&st.native.collapsed&&st.start.node!==this.cursor.textNode){var H=this.cursor.restore();H&&this.setNativeRange(H.startNode,H.startOffset,H.endNode,H.endOffset)}var Y,T=[F.Z.events.SELECTION_CHANGE,O()(this.lastRange),O()(ot),dt];(at=this.emitter).emit.apply(at,[F.Z.events.EDITOR_CHANGE].concat(T)),dt!==F.Z.sources.SILENT&&(Y=this.emitter).emit.apply(Y,T)}}}]),ft}();function et(ft,ht){return ht instanceof Text&&(ht=ht.parentNode),ft.contains(ht)}},1690:(B,C,n)=>{"use strict";function v(A){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(A)}function O(A,x){for(var P=0;P<x.length;P++){var I=x[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,U(I.key),I)}}function U(A){var x=function F(A,x){if("object"!==v(A)||null===A)return A;var P=A[Symbol.toPrimitive];if(void 0!==P){var I=P.call(A,x||"default");if("object"!==v(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===x?String:Number)(A)}(A,"string");return"symbol"===v(x)?x:String(x)}n.d(C,{Z:()=>N});var W=function(){function A(x,P){(function b(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")})(this,A),this.quill=x,this.options=P,this.modules={}}return function S(A,x,P){x&&O(A.prototype,x),P&&O(A,P),Object.defineProperty(A,"prototype",{writable:!1})}(A,[{key:"init",value:function(){var P=this;Object.keys(this.options.modules).forEach(function(I){null==P.modules[I]&&P.addModule(I)})}},{key:"addModule",value:function(P){var I=this.quill.constructor.import("modules/".concat(P));return this.modules[P]=new I(this.quill,this.options.modules[P]||{}),this.modules[P]}}]),A}();W.DEFAULTS={modules:{}},W.themes={default:W};const N=W},715:(B,C,n)=>{"use strict";n.d(C,{HE:()=>U,dk:()=>S,if:()=>O});var v=n(1233),b={scope:v.Scope.BLOCK,whitelist:["right","center","justify"]},O=new v.Attributor("align","align",b),S=new v.ClassAttributor("align","ql-align",b),U=new v.StyleAttributor("align","text-align",b)},7898:(B,C,n)=>{"use strict";n.d(C,{Y:()=>O,w:()=>S});var v=n(1233),b=n(6039),O=new v.ClassAttributor("background","ql-bg",{scope:v.Scope.INLINE}),S=new b.OO("background","background-color",{scope:v.Scope.INLINE})},3991:(B,C,n)=>{"use strict";function b(_){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(_)}function S(_,o){for(var u=0;u<o.length;u++){var f=o[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,F(f.key),f)}}function F(_){var o=function W(_,o){if("object"!==b(_)||null===_)return _;var u=_[Symbol.toPrimitive];if(void 0!==u){var f=u.call(_,o||"default");if("object"!==b(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(_)}(_,"string");return"symbol"===b(o)?o:String(o)}function N(){return N=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(o,u,f){var y=function A(_,o){for(;!Object.prototype.hasOwnProperty.call(_,o)&&null!==(_=z(_)););return _}(o,u);if(y){var R=Object.getOwnPropertyDescriptor(y,u);return R.get?R.get.call(arguments.length<3?o:f):R.value}},N.apply(this,arguments)}function P(_,o){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,y){return f.__proto__=y,f})(_,o)}function z(_){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)})(_)}n.d(C,{Z:()=>d});var j=function(_){!function x(_,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(o&&o.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),o&&P(_,o)}(u,_);var o=function I(_){var o=function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,f=z(_);if(o){var R=z(this).constructor;y=Reflect.construct(f,arguments,R)}else y=f.apply(this,arguments);return function K(_,o){if(o&&("object"===b(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function w(_){if(void 0===_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(_)}(this,y)}}(u);function u(){return function O(_,o){if(!(_ instanceof o))throw new TypeError("Cannot call a class as a function")}(this,u),o.apply(this,arguments)}return function U(_,o,u){o&&S(_.prototype,o),u&&S(_,u),Object.defineProperty(_,"prototype",{writable:!1})}(u,[{key:"optimize",value:function(y){N(z(u.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return N(z(u),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),u}(n(6603).Z);j.blotName="bold",j.tagName=["STRONG","B"];const d=j},7309:(B,C,n)=>{"use strict";n.d(C,{EK:()=>D,ZP:()=>R,se:()=>y});var v=n(6446),b=n(4122),O=n(3657),S=n(6603),U=n(8222),F=n(3553),W=n(281);function N(q){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(et){return typeof et}:function(et){return et&&"function"==typeof Symbol&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et})(q)}function A(q,et){if(!(q instanceof et))throw new TypeError("Cannot call a class as a function")}function x(q,et){for(var ft=0;ft<et.length;ft++){var ht=et[ft];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(q,I(ht.key),ht)}}function P(q,et,ft){return et&&x(q.prototype,et),ft&&x(q,ft),Object.defineProperty(q,"prototype",{writable:!1}),q}function I(q){var et=function K(q,et){if("object"!==N(q)||null===q)return q;var ft=q[Symbol.toPrimitive];if(void 0!==ft){var ht=ft.call(q,et||"default");if("object"!==N(ht))return ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===et?String:Number)(q)}(q,"string");return"symbol"===N(et)?et:String(et)}function w(){return w=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(et,ft,ht){var dt=function Z(q,et){for(;!Object.prototype.hasOwnProperty.call(q,et)&&null!==(q=f(q)););return q}(et,ft);if(dt){var ot=Object.getOwnPropertyDescriptor(dt,ft);return ot.get?ot.get.call(arguments.length<3?et:ht):ot.value}},w.apply(this,arguments)}function z(q,et){if("function"!=typeof et&&null!==et)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(et&&et.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),et&&j(q,et)}function j(q,et){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ht,dt){return ht.__proto__=dt,ht})(q,et)}function d(q){var et=function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var dt,ht=f(q);if(et){var ot=f(this).constructor;dt=Reflect.construct(ht,arguments,ot)}else dt=ht.apply(this,arguments);return function _(q,et){if(et&&("object"===N(et)||"function"==typeof et))return et;if(void 0!==et)throw new TypeError("Derived constructors may only return object or undefined");return function o(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(q)}(this,dt)}}function f(q){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ft){return ft.__proto__||Object.getPrototypeOf(ft)})(q)}var y=function(q){z(ft,q);var et=d(ft);function ft(){return A(this,ft),et.apply(this,arguments)}return P(ft,[{key:"code",value:function(dt,ot){var Et=this.children.map(function(X){return X.length()<=1?"":X.domNode.textContent}).join("\n").slice(dt,dt+ot);return(0,U.b)(Et)}},{key:"html",value:function(dt,ot){return"<pre>\n".concat(this.code(dt,ot),"\n</pre>")}}],[{key:"create",value:function(dt){var ot=w(f(ft),"create",this).call(this,dt);return ot.setAttribute("spellcheck",!1),ot}}]),ft}(F.Z),R=function(q){z(ft,q);var et=d(ft);function ft(){return A(this,ft),et.apply(this,arguments)}return P(ft,null,[{key:"register",value:function(){W.ZP.register(y)}}]),ft}(v.ZP),D=function(q){z(ft,q);var et=d(ft);function ft(){return A(this,ft),et.apply(this,arguments)}return P(ft)}(S.Z);D.blotName="code",D.tagName="CODE",R.blotName="code-block",R.className="ql-code-block",R.tagName="DIV",y.blotName="code-block-container",y.className="ql-code-block-container",y.tagName="DIV",y.allowedChildren=[R],R.allowedChildren=[U.Z,b.Z,O.Z],R.requiredContainer=y,R.TAB="  "},6039:(B,C,n)=>{"use strict";n.d(C,{HQ:()=>_,Hn:()=>d,OO:()=>j});var v=n(1233);function b(o){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function S(o,u){for(var f=0;f<u.length;f++){var y=u[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,F(y.key),y)}}function F(o){var u=function W(o,u){if("object"!==b(o)||null===o)return o;var f=o[Symbol.toPrimitive];if(void 0!==f){var y=f.call(o,u||"default");if("object"!==b(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(o)}(o,"string");return"symbol"===b(u)?u:String(u)}function N(){return N=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,f,y){var R=function A(o,u){for(;!Object.prototype.hasOwnProperty.call(o,u)&&null!==(o=z(o)););return o}(u,f);if(R){var D=Object.getOwnPropertyDescriptor(R,f);return D.get?D.get.call(arguments.length<3?u:y):D.value}},N.apply(this,arguments)}function P(o,u){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,R){return y.__proto__=R,y})(o,u)}function z(o){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(f){return f.__proto__||Object.getPrototypeOf(f)})(o)}var j=function(o){!function x(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),u&&P(o,u)}(f,o);var u=function I(o){var u=function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var R,y=z(o);if(u){var D=z(this).constructor;R=Reflect.construct(y,arguments,D)}else R=y.apply(this,arguments);return function K(o,u){if(u&&("object"===b(u)||"function"==typeof u))return u;if(void 0!==u)throw new TypeError("Derived constructors may only return object or undefined");return function w(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}(this,R)}}(f);function f(){return function O(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}(this,f),u.apply(this,arguments)}return function U(o,u,f){u&&S(o.prototype,u),f&&S(o,f),Object.defineProperty(o,"prototype",{writable:!1})}(f,[{key:"value",value:function(R){var D=N(z(f.prototype),"value",this).call(this,R);if(0!==D.indexOf("rgb("))return D;var q=(D=D.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(et){return"00".concat(parseInt(et,10).toString(16)).slice(-2)}).join("");return"#".concat(q)}}]),f}(v.StyleAttributor),d=new v.ClassAttributor("color","ql-color",{scope:v.Scope.INLINE}),_=new j("color","color",{scope:v.Scope.INLINE})},4048:(B,C,n)=>{"use strict";n.d(C,{H8:()=>U,IF:()=>O,hY:()=>S});var v=n(1233),b={scope:v.Scope.BLOCK,whitelist:["rtl"]},O=new v.Attributor("direction","dir",b),S=new v.ClassAttributor("direction","ql-direction",b),U=new v.StyleAttributor("direction","direction",b)},5832:(B,C,n)=>{"use strict";n.d(C,{H:()=>o,_:()=>d});var v=n(1233);function b(u){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}function S(u,f){for(var y=0;y<f.length;y++){var R=f[y];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(u,F(R.key),R)}}function F(u){var f=function W(u,f){if("object"!==b(u)||null===u)return u;var y=u[Symbol.toPrimitive];if(void 0!==y){var R=y.call(u,f||"default");if("object"!==b(R))return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===f?String:Number)(u)}(u,"string");return"symbol"===b(f)?f:String(f)}function N(){return N=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(f,y,R){var D=function A(u,f){for(;!Object.prototype.hasOwnProperty.call(u,f)&&null!==(u=z(u)););return u}(f,y);if(D){var q=Object.getOwnPropertyDescriptor(D,y);return q.get?q.get.call(arguments.length<3?f:R):q.value}},N.apply(this,arguments)}function P(u,f){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,D){return R.__proto__=D,R})(u,f)}function z(u){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(u)}var j={scope:v.Scope.INLINE,whitelist:["serif","monospace"]},d=new v.ClassAttributor("font","ql-font",j),_=function(u){!function x(u,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),f&&P(u,f)}(y,u);var f=function I(u){var f=function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var D,R=z(u);if(f){var q=z(this).constructor;D=Reflect.construct(R,arguments,q)}else D=R.apply(this,arguments);return function K(u,f){if(f&&("object"===b(f)||"function"==typeof f))return f;if(void 0!==f)throw new TypeError("Derived constructors may only return object or undefined");return function w(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(u)}(this,D)}}(y);function y(){return function O(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")}(this,y),f.apply(this,arguments)}return function U(u,f,y){f&&S(u.prototype,f),y&&S(u,y),Object.defineProperty(u,"prototype",{writable:!1})}(y,[{key:"value",value:function(D){return N(z(y.prototype),"value",this).call(this,D).replace(/["']/g,"")}}]),y}(v.StyleAttributor),o=new _("font","font-family",j)},7256:(B,C,n)=>{"use strict";function b(_){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(_)}function S(_,o){for(var u=0;u<o.length;u++){var f=o[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(_,F(f.key),f)}}function F(_){var o=function W(_,o){if("object"!==b(_)||null===_)return _;var u=_[Symbol.toPrimitive];if(void 0!==u){var f=u.call(_,o||"default");if("object"!==b(f))return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(_)}(_,"string");return"symbol"===b(o)?o:String(o)}function N(){return N=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(o,u,f){var y=function A(_,o){for(;!Object.prototype.hasOwnProperty.call(_,o)&&null!==(_=z(_)););return _}(o,u);if(y){var R=Object.getOwnPropertyDescriptor(y,u);return R.get?R.get.call(arguments.length<3?o:f):R.value}},N.apply(this,arguments)}function P(_,o){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,y){return f.__proto__=y,f})(_,o)}function z(_){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)})(_)}n.d(C,{N:()=>d,Z:()=>j});var j=function(_){!function x(_,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(o&&o.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),o&&P(_,o)}(u,_);var o=function I(_){var o=function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,f=z(_);if(o){var R=z(this).constructor;y=Reflect.construct(f,arguments,R)}else y=f.apply(this,arguments);return function K(_,o){if(o&&("object"===b(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function w(_){if(void 0===_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(_)}(this,y)}}(u);function u(){return function O(_,o){if(!(_ instanceof o))throw new TypeError("Cannot call a class as a function")}(this,u),o.apply(this,arguments)}return function U(_,o,u){o&&S(_.prototype,o),u&&S(_,u),Object.defineProperty(_,"prototype",{writable:!1})}(u,[{key:"format",value:function(y,R){y===this.statics.blotName&&R?this.domNode.setAttribute("href",this.constructor.sanitize(R)):N(z(u.prototype),"format",this).call(this,y,R)}}],[{key:"create",value:function(y){var R=N(z(u),"create",this).call(this,y);return R.setAttribute("href",this.sanitize(y)),R.setAttribute("rel","noopener noreferrer"),R.setAttribute("target","_blank"),R}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return d(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),u}(n(6603).Z);function d(_,o){var u=document.createElement("a");u.href=_;var f=u.href.slice(0,u.href.indexOf(":"));return o.indexOf(f)>-1}j.blotName="link",j.tagName="A",j.SANITIZED_URL="about:blank",j.PROTOCOL_WHITELIST=["http","https","mailto","tel"]},1629:(B,C,n)=>{"use strict";n.d(C,{Z:()=>O,m:()=>b});var v=n(1233),b=new v.ClassAttributor("size","ql-size",{scope:v.Scope.INLINE,whitelist:["small","large","huge"]}),O=new v.StyleAttributor("size","font-size",{scope:v.Scope.INLINE,whitelist:["10px","18px","32px"]})},1342:(B,C,n)=>{"use strict";n.d(C,{Du:()=>I,h6:()=>K,kk:()=>P,yA:()=>x});var v=n(6062),b=n(1801),O=n(8252);function S(w){return function N(w){if(Array.isArray(w))return A(w)}(w)||function W(w){if(typeof Symbol<"u"&&null!=w[Symbol.iterator]||null!=w["@@iterator"])return Array.from(w)}(w)||function F(w,Z){if(w){if("string"==typeof w)return A(w,Z);var z=Object.prototype.toString.call(w).slice(8,-1);if("Object"===z&&w.constructor&&(z=w.constructor.name),"Map"===z||"Set"===z)return Array.from(w);if("Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return A(w,Z)}}(w)||function U(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(w,Z){(null==Z||Z>w.length)&&(Z=w.length);for(var z=0,j=new Array(Z);z<Z;z++)j[z]=w[z];return j}var x=O.F1.map(function(w){return(0,v.Z)(O.Pw,w)}),P=O.Mu.map(function(w){return(0,b.Z)(O.Pw,w)}),I=P.reduce(function(w,Z){return w[Z.attrName]=Z,w},{}),K=[].concat(S(x),S(P)).reduce(function(w,Z){return w[Z.keyName]=Z,w},{})},8252:(B,C,n)=>{"use strict";n.d(C,{F1:()=>b,Mu:()=>O,Pw:()=>v,fU:()=>S});var v={name:"cell",allowedTags:["TH","TD","TR"]},b=["height","width"],O=["height","width","vertical-align","text-align","background-color","border","border-style","border-width","border-color","padding","padding-top","padding-right","padding-bottom","padding-left"],S=new Set([].concat(b,O))},6062:(B,C,n)=>{"use strict";n.d(C,{Z:()=>W});var v=n(1674),b=n(2141),O=n(3398),S=["name"];function W(N,A){var x=N.name,P=function U(N,A){if(null==N)return{};var P,I,x=function F(N,A){if(null==N)return{};var I,K,x={},P=Object.keys(N);for(K=0;K<P.length;K++)!(A.indexOf(I=P[K])>=0)&&(x[I]=N[I]);return x}(N,A);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(N);for(I=0;I<K.length;I++)!(A.indexOf(P=K[I])>=0)&&Object.prototype.propertyIsEnumerable.call(N,P)&&(x[P]=N[P])}return x}(N,S),I="".concat(x).concat((0,b.Z)(A)),K="".concat(O.WT.attribute).concat(x,"_").concat(A);return new v.Z(I,K,P)}},1801:(B,C,n)=>{"use strict";n.d(C,{Z:()=>K});var v=n(4569),b=n(2141),O=n(3398),S=["name","formatName"];function N(w,Z){(null==Z||Z>w.length)&&(Z=w.length);for(var z=0,j=new Array(Z);z<Z;z++)j[z]=w[z];return j}function K(w,Z){var z=w.name,j=w.formatName,d=function P(w,Z){if(null==w)return{};var j,d,z=function I(w,Z){if(null==w)return{};var d,_,z={},j=Object.keys(w);for(_=0;_<j.length;_++)!(Z.indexOf(d=j[_])>=0)&&(z[d]=w[d]);return z}(w,Z);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(w);for(d=0;d<_.length;d++)!(Z.indexOf(j=_[d])>=0)&&Object.prototype.propertyIsEnumerable.call(w,j)&&(z[j]=w[j])}return z}(w,S),o=function U(w,Z){return function x(w){if(Array.isArray(w))return w}(w)||function A(w,Z){var z=null==w?null:typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(null!=z){var j,d,_,o,u=[],f=!0,y=!1;try{if(_=(z=z.call(w)).next,0===Z){if(Object(z)!==z)return;f=!1}else for(;!(f=(j=_.call(z)).done)&&(u.push(j.value),u.length!==Z);f=!0);}catch(R){y=!0,d=R}finally{try{if(!f&&null!=z.return&&(o=z.return(),Object(o)!==o))return}finally{if(y)throw d}}return u}}(w,Z)||function W(w,Z){if(w){if("string"==typeof w)return N(w,Z);var z=Object.prototype.toString.call(w).slice(8,-1);if("Object"===z&&w.constructor&&(z=w.constructor.name),"Map"===z||"Set"===z)return Array.from(w);if("Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return N(w,Z)}}(w,Z)||function F(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Z.split("-"),2),u=o[0],f=o[1],y="".concat(z).concat((0,b.Z)(j??u)).concat(f?(0,b.Z)(f):""),R="".concat(O.WT.style).concat(z,"_").concat(Z);return new v.Z(y,R,d)}},319:(B,C,n)=>{"use strict";n.d(C,{Qu:()=>x,VT:()=>P,Zt:()=>K,li:()=>I});var v=n(6062),b=n(1801),O=n(19);function S(w){return function N(w){if(Array.isArray(w))return A(w)}(w)||function W(w){if(typeof Symbol<"u"&&null!=w[Symbol.iterator]||null!=w["@@iterator"])return Array.from(w)}(w)||function F(w,Z){if(w){if("string"==typeof w)return A(w,Z);var z=Object.prototype.toString.call(w).slice(8,-1);if("Object"===z&&w.constructor&&(z=w.constructor.name),"Map"===z||"Set"===z)return Array.from(w);if("Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return A(w,Z)}}(w)||function U(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(w,Z){(null==Z||Z>w.length)&&(Z=w.length);for(var z=0,j=new Array(Z);z<Z;z++)j[z]=w[z];return j}var x=O.N2.map(function(w){return(0,v.Z)(O.Sp,w)}),P=O.GX.map(function(w){return(0,b.Z)(O.Sp,w)}),I=P.reduce(function(w,Z){return w[Z.attrName]=Z,w},{}),K=[].concat(S(x),S(P)).reduce(function(w,Z){return w[Z.keyName]=Z,w},{})},19:(B,C,n)=>{"use strict";n.d(C,{GX:()=>O,N2:()=>b,Sp:()=>v,bc:()=>S});var v={name:"table",allowedTags:["TABLE"]},b=["height","width"],O=["height","width","text-align","background-color","border","border-style","border-width","border-color"],S=new Set([].concat(b,O))},8536:(B,C,n)=>{"use strict";function v(){return Math.random().toString(36).slice(2,6)}n.d(C,{Z:()=>v})},1969:(B,C,n)=>{"use strict";n.d(C,{KA:()=>rt,Lv:()=>ct,RM:()=>_t,SC:()=>Rt,iD:()=>Y,pj:()=>k,xD:()=>tt,xJ:()=>it,xs:()=>lt,zW:()=>T});var v=n(6446),b=n(4122),O=n(3553),S=n(5874),U=n(1342),F=n(319),W=n(8536),N=n(2795);function A(E){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(E)}function x(E,l){return function K(E){if(Array.isArray(E))return E}(E)||function I(E,l){var i=null==E?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(null!=i){var g,p,M,ut,wt=[],Ft=!0,Pt=!1;try{if(M=(i=i.call(E)).next,0===l){if(Object(i)!==i)return;Ft=!1}else for(;!(Ft=(g=M.call(i)).done)&&(wt.push(g.value),wt.length!==l);Ft=!0);}catch(Kt){Pt=!0,p=Kt}finally{try{if(!Ft&&null!=i.return&&(ut=i.return(),Object(ut)!==ut))return}finally{if(Pt)throw p}}return wt}}(E,l)||z(E,l)||function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(E,l){if(E){if("string"==typeof E)return _(E,l);var i=Object.prototype.toString.call(E).slice(8,-1);if("Object"===i&&E.constructor&&(i=E.constructor.name),"Map"===i||"Set"===i)return Array.from(E);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _(E,l)}}function _(E,l){(null==l||l>E.length)&&(l=E.length);for(var i=0,g=new Array(l);i<l;i++)g[i]=E[i];return g}function o(E,l){if(!(E instanceof l))throw new TypeError("Cannot call a class as a function")}function u(E,l){for(var i=0;i<l.length;i++){var g=l[i];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,y(g.key),g)}}function f(E,l,i){return l&&u(E.prototype,l),i&&u(E,i),Object.defineProperty(E,"prototype",{writable:!1}),E}function y(E){var l=function R(E,l){if("object"!==A(E)||null===E)return E;var i=E[Symbol.toPrimitive];if(void 0!==i){var g=i.call(E,l||"default");if("object"!==A(g))return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(E)}(E,"string");return"symbol"===A(l)?l:String(l)}function D(){return D=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(l,i,g){var p=function q(E,l){for(;!Object.prototype.hasOwnProperty.call(E,l)&&null!==(E=X(E)););return E}(l,i);if(p){var M=Object.getOwnPropertyDescriptor(p,i);return M.get?M.get.call(arguments.length<3?l:g):M.value}},D.apply(this,arguments)}function et(E,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(l&&l.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),l&&ft(E,l)}function ft(E,l){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,p){return g.__proto__=p,g})(E,l)}function ht(E){var l=function Et(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var p,g=X(E);if(l){var M=X(this).constructor;p=Reflect.construct(g,arguments,M)}else p=g.apply(this,arguments);return function dt(E,l){if(l&&("object"===A(l)||"function"==typeof l))return l;if(void 0!==l)throw new TypeError("Derived constructors may only return object or undefined");return function ot(E){if(void 0===E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(E)}(this,p)}}function X(E){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)})(E)}var vt=["row","cell"],at="data-table-";function H(E,l,i){E.forEachAt(l,i,function(g,p,M){g.deleteAt(p,M)})}var T=function(E){et(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return f(i,[{key:"optimize",value:function(){var p,M=this.domNode.getAttribute("".concat(at,"row"));if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var ut=this.domNode,wt={row:M};Object.keys(U.Du).forEach(function(Xt){var ee=ut.dataset[Xt.toLowerCase()];ee&&(wt[Xt]=ee)}),this.wrap(this.statics.requiredContainer.blotName,wt)}for(var Ft=arguments.length,Pt=new Array(Ft),Kt=0;Kt<Ft;Kt++)Pt[Kt]=arguments[Kt];(p=D(X(i.prototype),"optimize",this)).call.apply(p,[this].concat(Pt))}},{key:"format",value:function(p,M){"tableCellLine"===p&&null===M&&(M=this.formats().tableCellLine);var wt=vt.indexOf(p)>-1;if(wt||F.li[p]||U.Du[p]){var Pt,Kt,Ft="data-".concat(wt?"table-":"").concat(p.toLowerCase());(0,N.Z)(this.domNode,Ft,M),U.Du[p]&&(null===(Pt=this.cell())||void 0===Pt||Pt.format(p,M)),F.li[p]&&(null===(Kt=this.cell())||void 0===Kt||null===(Kt=Kt.table())||void 0===Kt||Kt.format(p,M))}else D(X(i.prototype),"format",this).call(this,p,M)}},{key:"cell",value:function(){return"row"in this.parent?this.parent:null}}],[{key:"create",value:function(p){var M=D(X(i),"create",this).call(this,p);return vt.forEach(function(ut){var wt,Ft="row"===ut?ct:Ot;M.setAttribute("".concat(at).concat(ut),null!==(wt=p?.[ut])&&void 0!==wt?wt:Ft())}),M}},{key:"formats",value:function(p){return vt.reduce(function(M,ut){var wt="".concat(at).concat(ut);return p.hasAttribute(wt)&&(M[ut]=p.getAttribute(wt)||void 0),M},{})}}]),i}(v.ZP);T.blotName="tableCellLine",T.className="ql-table-cell-line",T.tagName="P";var Y=function(E){et(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return f(i)}(T);Y.blotName="tableHeaderCellLine",Y.className="ql-table-header-cell-line";var J=function(E){et(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return f(i,[{key:"format",value:function(p,M){var ut;null===(ut=U.Du[p])||void 0===ut||ut.add(this.domNode,M)}},{key:"checkMerge",value:function(){if(D(X(i.prototype),"checkMerge",this).call(this)&&null!=this.next.children.head){var p=this.children.head.formats()[this.children.head.statics.blotName],M=this.children.tail.formats()[this.children.tail.statics.blotName],ut=this.next.children.head.formats()[this.next.children.head.statics.blotName],wt=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return p.cell===M.cell&&p.cell===ut.cell&&p.cell===wt.cell}return!1}},{key:"formats",value:function(){return i.cellFormats(this.domNode)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var p;return null===(p=this.row())||void 0===p?void 0:p.table()}},{key:"optimize",value:function(){var p,M,ut=null!==(p=this.domNode.getAttribute("".concat(at,"row")))&&void 0!==p?p:this.domNode.getAttribute("".concat(at,"header-row"));this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:ut});for(var wt=arguments.length,Ft=new Array(wt),Pt=0;Pt<wt;Pt++)Ft[Pt]=arguments[Pt];(M=D(X(i.prototype),"optimize",this)).call.apply(M,[this].concat(Ft))}},{key:"deleteAt",value:function(p,M){H(this.children,p,M)}}],[{key:"create",value:function(p){var M=D(X(i),"create",this).call(this,p);return p&&Object.keys(p).forEach(function(ut){var wt;null===(wt=U.Du[ut])||void 0===wt||wt.add(M,p[ut])}),M}},{key:"cellFormats",value:function(p){var ut,M={};return(p.hasAttribute("".concat(at,"row"))||p.hasAttribute("".concat(at,"header-row")))&&(M.row=null!==(ut=p.getAttribute("".concat(at,"row")))&&void 0!==ut?ut:p.getAttribute("".concat(at,"header-row"))),Object.keys(U.Du).forEach(function(wt){var Ft,Pt=null===(Ft=p.firstElementChild)||void 0===Ft?void 0:Ft.dataset[wt.toLowerCase()];Pt&&(M[wt]=Pt)}),M}}]),i}(O.Z);J.tagName=["TD","TH"];var k=function(E){et(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return f(i,[{key:"format",value:function(p,M){"row"===p?(this.domNode.setAttribute("".concat(at).concat(p),M),this.children.forEach(function(ut){ut.format(p,M)})):D(X(i.prototype),"format",this).call(this,p,M)}}],[{key:"create",value:function(p){var M=D(X(i),"create",this).call(this,p),ut="".concat(at,"row");return null!=p&&p.row&&M.setAttribute(ut,p.row),M}}]),i}(J);k.blotName="tableCell",k.className="ql-table-data-cell",k.dataAttribute="".concat(at,"row"),k.defaultChild=T;var lt=function(E){et(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return f(i,[{key:"format",value:function(p,M){"row"===p?(this.domNode.setAttribute("".concat(at).concat(p),M),this.children.forEach(function(ut){ut.format(p,M)})):D(X(i.prototype),"format",this).call(this,p,M)}}],[{key:"create",value:function(p){var M=D(X(i),"create",this).call(this,p),ut="".concat(at,"header-row");return p&&p.row&&M.setAttribute(ut,p.row),M}}]),i}(J);lt.tagName=["TH","TD"],lt.className="ql-table-header-cell",lt.blotName="tableHeaderCell",lt.dataAttribute="".concat(at,"header-row"),lt.defaultChild=Y;var mt=function(E){et(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return f(i,[{key:"checkMerge",value:function(){if(D(X(i.prototype),"checkMerge",this).call(this)&&(0,S.Z)(this.next.children.head)){var p="row",M=this.children.head.formats(),ut=this.children.tail.formats(),wt=this.next.children.head.formats(),Ft=this.next.children.tail.formats();return M[p]===ut[p]&&M[p]===wt[p]&&M[p]===Ft[p]}return!1}},{key:"optimize",value:function(){for(var p,M=this,ut=arguments.length,wt=new Array(ut),Ft=0;Ft<ut;Ft++)wt[Ft]=arguments[Ft];(p=D(X(i.prototype),"optimize",this)).call.apply(p,[this].concat(wt));var Pt=this.childFormatName;this.children.forEach(function(Kt){if((0,S.Z)(Kt.next)){var Xt=Kt.formats(),ee=Kt.next.formats();if(Xt[Pt]!==ee[Pt]){var bt=M.splitAfter(Kt);bt&&bt.optimize(),M.prev&&M.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var p;return null===(p=this.parent)||void 0===p?void 0:p.parent}},{key:"formats",value:function(){var p={},M="".concat(at,"row");return this.domNode.hasAttribute(M)&&(p[M]=this.domNode.getAttribute(M)),p}}],[{key:"create",value:function(p){var M=D(X(i),"create",this).call(this,p);return null!=p&&p.row&&M.setAttribute("".concat(at,"row"),p.row),M}}]),i}(O.Z);mt.tagName="TR";var Rt=function(E){et(i,E);var l=ht(i);function i(g,p){var M;return o(this,i),(M=l.call(this,g,p)).childFormatName="table",M}return f(i,[{key:"deleteAt",value:function(p,M){H(this.children,p,M)}}]),i}(mt);Rt.blotName="tableRow";var rt=function(E){et(i,E);var l=ht(i);function i(g,p){var M;return o(this,i),(M=l.call(this,g,p)).childFormatName="tableHeaderCell",M}return f(i)}(mt);rt.blotName="tableHeaderRow";var Q=function(E){et(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return f(i,[{key:"optimize",value:function(){var p;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var M,ut=(null===(M=this.children.head.children.head.children)||void 0===M||null===(M=M.head)||void 0===M?void 0:M.domNode)||null,wt={};ut&&Object.keys(F.li).forEach(function(Xt){var ee=ut.dataset[Xt.toLowerCase()];ee&&(wt[Xt]=ee)}),this.wrap(this.statics.requiredContainer.blotName,wt)}for(var Ft=arguments.length,Pt=new Array(Ft),Kt=0;Kt<Ft;Kt++)Pt[Kt]=arguments[Kt];(p=D(X(i.prototype),"optimize",this)).call.apply(p,[this].concat(Pt))}}]),i}(O.Z),_t=function(E){et(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return f(i)}(Q);_t.blotName="tableBody",_t.tagName="TBODY";var tt=function(E){et(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return f(i)}(Q);tt.blotName="tableHeader",tt.tagName="THEAD";var it=function(E){et(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return f(i,[{key:"balanceCells",value:function(){var p=this.descendants(rt),M=this.descendants(Rt),ut=this.getMaxTableColCount(p,M);this.balanceRows(ut,p,lt),this.balanceRows(ut,M,k)}},{key:"getMaxTableColCount",value:function(p,M){return Math.max(this.getMaxRowColCount(p),this.getMaxRowColCount(M))}},{key:"getMaxRowColCount",value:function(p){return Math.max.apply(Math,function w(E){return function d(E){if(Array.isArray(E))return _(E)}(E)||function j(E){if(typeof Symbol<"u"&&null!=E[Symbol.iterator]||null!=E["@@iterator"])return Array.from(E)}(E)||z(E)||function Z(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p.map(function(M){return M.children.length})))}},{key:"balanceRows",value:function(p,M,ut){var wt=this;M.forEach(function(Ft){new Array(p-Ft.children.length).fill(0).forEach(function(){var Pt;(0,S.Z)(Ft.children.head)&&(Pt=ut.cellFormats(Ft.children.head.domNode));var Kt=wt.scroll.create(ut.blotName,Pt),Xt=wt.scroll.create(ut.allowedChildren[0].blotName,Pt);Kt.appendChild(Xt),Ft.appendChild(Kt),Kt.optimize()})})}},{key:"cells",value:function(p){return this.rows().map(function(M){return M.children.at(p)})}},{key:"deleteColumn",value:function(p){var M=this;[tt,_t].forEach(function(ut){var Pt=x(M.descendants(ut),1)[0];!(0,S.Z)(Pt)||!(0,S.Z)(Pt.children.head)||Pt.children.forEach(function(Kt){var Xt=Kt.children.at(p);(0,S.Z)(Xt)&&Xt.remove()})})}},{key:"insertColumn",value:function(p){var M=this;[tt,_t].forEach(function(ut){var Pt=x(M.descendants(ut),1)[0];if((0,S.Z)(Pt)&&(0,S.Z)(Pt.children.head)){var Kt=ut===tt?lt:k,Xt=ut===tt?Y:T;Pt.children.forEach(function(ee){var bt=ee.children.at(p),xt=Xt.formats(ee.children.head.children.head.domNode),Nt=M.scroll.create(Kt.blotName,{row:xt.row}),jt=M.scroll.create(Xt.blotName,{row:xt.row}),kt=M.scroll.create(b.Z.blotName);jt.appendChild(kt),Nt.appendChild(jt),ee.insertBefore(Nt,bt)})}})}},{key:"insertRow",value:function(p){var M=this,Ft=x(this.descendants(_t),1)[0];if((0,S.Z)(Ft)&&(0,S.Z)(Ft.children.head)){var Pt=ct(),Kt=this.scroll.create(Rt.blotName,{row:Pt});Ft.children.head.children.forEach(function(){var ee=M.scroll.create(k.blotName,{row:Pt}),bt=M.scroll.create(T.blotName,{row:Pt}),xt=M.scroll.create(b.Z.blotName);bt.appendChild(xt),ee.appendChild(bt),Kt.appendChild(ee)});var Xt=Ft.children.at(p);Ft.insertBefore(Kt,Xt)}}},{key:"insertHeaderRow",value:function(){var p=this,wt=x(this.descendants(tt),1)[0],Kt=x(this.descendants(_t),1)[0];if(!(0,S.Z)(wt)&&(0,S.Z)(Kt)&&(0,S.Z)(Kt.children.head)){var Xt=ct(),ee=this.scroll.create(tt.blotName),bt=this.scroll.create(rt.blotName),xt=this.children.at(0);ee.appendChild(bt),Kt.children.head.children.forEach(function(){var Nt=p.scroll.create(lt.blotName,{row:Xt}),jt=p.scroll.create(Y.blotName,{row:Xt}),kt=p.scroll.create(b.Z.blotName);jt.appendChild(kt),Nt.appendChild(jt),bt.appendChild(Nt),Nt.optimize()}),this.insertBefore(ee,xt)}}},{key:"rows",value:function(){var p=this.children.head;return(0,S.Z)(p)?p.children.map(function(M){return M}):[]}},{key:"formats",value:function(){var p={},M=this.cells()[0].domNode.firstElementChild;return Object.keys(F.li).forEach(function(ut){var wt=M?.dataset[ut.toLowerCase()];wt&&(p[ut]=wt)}),p}},{key:"format",value:function(p,M){var ut=F.li[p];if(ut){var wt="data-".concat(p.toLowerCase());this.cells().forEach(function(Ft){(0,N.Z)(Ft.children.head.domNode,wt,M)}),ut.add(this.domNode,M)}}}],[{key:"create",value:function(p){var M=D(X(i),"create",this).call(this,p);return p&&Object.keys(p).forEach(function(ut){var wt;null===(wt=F.li[ut])||void 0===wt||wt.add(M,p[ut])}),M}}]),i}(O.Z);function ct(){return"row-".concat((0,W.Z)())}function Ot(){return"cell-".concat((0,W.Z)())}it.blotName="tableContainer",it.tagName="TABLE",it.allowedChildren=[tt,_t],_t.requiredContainer=it,tt.requiredContainer=it,_t.allowedChildren=[Rt],Rt.requiredContainer=_t,Rt.allowedChildren=[k],k.requiredContainer=Rt,T.requiredContainer=k,k.allowedChildren=[T],tt.allowedChildren=[rt],rt.requiredContainer=tt,Y.requiredContainer=lt,lt.allowedChildren=[Y],rt.allowedChildren=[lt],lt.requiredContainer=rt},2795:(B,C,n)=>{"use strict";function v(b,O,S){S?b.setAttribute(O,S):b.removeAttribute(O)}n.d(C,{Z:()=>v})},5635:(B,C,n)=>{"use strict";n.d(C,{HI:()=>_t,PF:()=>tt,ZP:()=>Q,fw:()=>E});var v=n(9098),b=n.n(v),O=n(1233),S=n(6446),U=n(281),F=n(3122),W=n(7094),N=n(715),A=n(7898),x=n(7309),P=n(6039),I=n(4048),K=n(5832),w=n(1629),Z=n(3071),z=n(2141);function j(bt,xt){var Nt=Object.keys(bt);if(Object.getOwnPropertySymbols){var jt=Object.getOwnPropertySymbols(bt);xt&&(jt=jt.filter(function(kt){return Object.getOwnPropertyDescriptor(bt,kt).enumerable})),Nt.push.apply(Nt,jt)}return Nt}function d(bt){for(var xt=1;xt<arguments.length;xt++){var Nt=null!=arguments[xt]?arguments[xt]:{};xt%2?j(Object(Nt),!0).forEach(function(jt){o(bt,jt,Nt[jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(Nt)):j(Object(Nt)).forEach(function(jt){Object.defineProperty(bt,jt,Object.getOwnPropertyDescriptor(Nt,jt))})}return bt}function _(bt){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(xt){return typeof xt}:function(xt){return xt&&"function"==typeof Symbol&&xt.constructor===Symbol&&xt!==Symbol.prototype?"symbol":typeof xt})(bt)}function o(bt,xt,Nt){return(xt=dt(xt))in bt?Object.defineProperty(bt,xt,{value:Nt,enumerable:!0,configurable:!0,writable:!0}):bt[xt]=Nt,bt}function u(bt,xt){return function q(bt){if(Array.isArray(bt))return bt}(bt)||function D(bt,xt){var Nt=null==bt?null:typeof Symbol<"u"&&bt[Symbol.iterator]||bt["@@iterator"];if(null!=Nt){var jt,kt,Wt,Ut,$t=[],Gt=!0,le=!1;try{if(Wt=(Nt=Nt.call(bt)).next,0===xt){if(Object(Nt)!==Nt)return;Gt=!1}else for(;!(Gt=(jt=Wt.call(Nt)).done)&&($t.push(jt.value),$t.length!==xt);Gt=!0);}catch(fe){le=!0,kt=fe}finally{try{if(!Gt&&null!=Nt.return&&(Ut=Nt.return(),Object(Ut)!==Ut))return}finally{if(le)throw kt}}return $t}}(bt,xt)||function y(bt,xt){if(bt){if("string"==typeof bt)return R(bt,xt);var Nt=Object.prototype.toString.call(bt).slice(8,-1);if("Object"===Nt&&bt.constructor&&(Nt=bt.constructor.name),"Map"===Nt||"Set"===Nt)return Array.from(bt);if("Arguments"===Nt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Nt))return R(bt,xt)}}(bt,xt)||function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(bt,xt){(null==xt||xt>bt.length)&&(xt=bt.length);for(var Nt=0,jt=new Array(xt);Nt<xt;Nt++)jt[Nt]=bt[Nt];return jt}function ft(bt,xt){for(var Nt=0;Nt<xt.length;Nt++){var jt=xt[Nt];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(bt,dt(jt.key),jt)}}function dt(bt){var xt=function ot(bt,xt){if("object"!==_(bt)||null===bt)return bt;var Nt=bt[Symbol.toPrimitive];if(void 0!==Nt){var jt=Nt.call(bt,xt||"default");if("object"!==_(jt))return jt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===xt?String:Number)(bt)}(bt,"string");return"symbol"===_(xt)?xt:String(xt)}function X(bt,xt){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(jt,kt){return jt.__proto__=kt,jt})(bt,xt)}function at(bt){if(void 0===bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}function T(bt){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Nt){return Nt.__proto__||Object.getPrototypeOf(Nt)})(bt)}var Y=(0,F.Z)("quill:clipboard"),lt=[[3,ee],[3,Pt],["br",function p(bt,xt){return tt(xt,"\n")||xt.insert("\n"),xt}],[1,Pt],[1,function g(bt,xt,Nt){var jt=Nt.query(bt);if(null==jt)return xt;if(jt.prototype instanceof O.EmbedBlot){var kt={},Wt=jt.value(bt);if(null!=Wt)return kt[jt.blotName]=Wt,(new(b())).insert(kt,jt.formats(bt,Nt))}else if(jt.prototype instanceof O.BlockBlot&&!tt(xt,"\n")&&xt.insert("\n"),"function"==typeof jt.formats)return _t(xt,jt.blotName,jt.formats(bt,Nt));return xt}],[1,function i(bt,xt,Nt){if(-1===["TD","TH","TR","TABLE"].indexOf(bt.tagName)){var jt=O.Attributor.keys(bt),kt=O.ClassAttributor.keys(bt),Wt=O.StyleAttributor.keys(bt),Ut={};if(jt.concat(kt).concat(Wt).forEach(function($t){var Gt=Nt.query($t,O.Scope.ATTRIBUTE);null!=Gt&&(Ut[Gt.attrName]=Gt.value(bt),Ut[Gt.attrName])||(null!=(Gt=Rt[$t])&&(Gt.attrName===$t||Gt.keyName===$t)&&(Ut[Gt.attrName]=Gt.value(bt)||void 0),null!=(Gt=rt[$t])&&(Gt.attrName===$t||Gt.keyName===$t)&&(Ut[(Gt=rt[$t]).attrName]=Gt.value(bt)||void 0))}),Object.keys(Ut).length>0)return _t(xt,Ut)}return xt}],[1,function Kt(bt,xt){var Nt={},jt=bt.style||{};return["height","width"].forEach(function(kt){var Wt=-1!==["TD","TH"].indexOf(bt.tagName),Ut="TABLE"===bt.tagName;if((Wt||Ut)&&jt[kt]){var $t="".concat(Ut?"table":"cell").concat((0,z.Z)(kt));Nt[$t]=jt[kt]}}),"italic"===jt.fontStyle&&(Nt.italic=!0),-1!==jt.textDecoration.indexOf("underline")&&(Nt.underline=!0),-1!==jt.textDecoration.indexOf("line-through")&&(Nt.strike=!0),(0===jt.fontWeight.indexOf("bold")||parseInt(jt.fontWeight,10)>=700)&&(Nt.bold=!0),Object.keys(Nt).length>0&&(xt=_t(xt,Nt)),parseFloat(jt.textIndent||0)>0?(new(b())).insert("\t").concat(xt):xt}],["li",function wt(bt,xt,Nt){var jt=Nt.query(bt);if(null==jt||"list"!==jt.blotName||!tt(xt,"\n"))return xt;for(var kt=-1,Wt=bt.parentNode;null!=Wt;)-1!==["OL","UL"].indexOf(Wt.tagName)&&(kt+=1),Wt=Wt.parentNode;return kt<=0?xt:xt.reduce(function(Ut,$t){return $t.attributes&&"number"==typeof $t.attributes.indent?Ut.push($t):Ut.insert($t.insert,d({indent:kt},$t.attributes||{}))},new(b()))}],["ol, ul",function Ft(bt,xt){return _t(xt,"list","OL"===bt.tagName?"ordered":"bullet")}],["pre",function M(bt,xt,Nt){var jt=Nt.query("code-block");return _t(xt,"code-block",!jt||jt.formats(bt,Nt))}],["b",l.bind(l,"bold")],["i",l.bind(l,"italic")],["strike",l.bind(l,"strike")],["style",function ut(){return new(b())}]],mt=[ee,Pt],Rt=[N.if,I.IF].reduce(function(bt,xt){return bt[xt.keyName]=xt,bt},{}),rt=[N.HE,A.w,P.HQ,I.H8,K.H,w.Z].reduce(function(bt,xt){return bt[xt.keyName]=xt,bt},{}),Q=function(bt){!function Et(bt,xt){if("function"!=typeof xt&&null!==xt)throw new TypeError("Super expression must either be null or a function");bt.prototype=Object.create(xt&&xt.prototype,{constructor:{value:bt,writable:!0,configurable:!0}}),Object.defineProperty(bt,"prototype",{writable:!1}),xt&&X(bt,xt)}(Nt,bt);var xt=function vt(bt){var xt=function H(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var kt,jt=T(bt);if(xt){var Wt=T(this).constructor;kt=Reflect.construct(jt,arguments,Wt)}else kt=jt.apply(this,arguments);return function st(bt,xt){if(xt&&("object"===_(xt)||"function"==typeof xt))return xt;if(void 0!==xt)throw new TypeError("Derived constructors may only return object or undefined");return at(bt)}(this,kt)}}(Nt);function Nt(jt,kt){var Wt,Ut;return function et(bt,xt){if(!(bt instanceof xt))throw new TypeError("Cannot call a class as a function")}(this,Nt),(Ut=xt.call(this,jt,kt)).quill.root.addEventListener("copy",function($t){return Ut.onCaptureCopy($t,!1)}),Ut.quill.root.addEventListener("cut",function($t){return Ut.onCaptureCopy($t,!0)}),Ut.quill.root.addEventListener("paste",Ut.onCapturePaste.bind(at(Ut))),Ut.matchers=[],Ut.tableBlots=null!==(Wt=kt.tableBlots)&&void 0!==Wt?Wt:[],Ut.multilineParagraph=!1,lt.concat(Ut.options.matchers).forEach(function($t){var Gt=u($t,2);Ut.addMatcher(Gt[0],Gt[1])}),Ut}return function ht(bt,xt,Nt){xt&&ft(bt.prototype,xt),Nt&&ft(bt,Nt),Object.defineProperty(bt,"prototype",{writable:!1})}(Nt,[{key:"addMatcher",value:function(kt,Wt){this.matchers.push([kt,Wt])}},{key:"addTableBlot",value:function(kt){this.tableBlots.push(kt)}},{key:"convert",value:function(kt){var Wt=kt.html,Ut=kt.text,$t=kt.keepLastNewLine,Gt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Gt[x.ZP.blotName]?(new(b())).insert(Ut,o({},x.ZP.blotName,Gt[x.ZP.blotName])):Wt?this.applyMatchers(Wt,$t,Gt):this.applyTextMatchers(Ut)}},{key:"applyTextMatchers",value:function(){var kt=this,Wt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(0===Wt.length)return new(b());var Ut=this.prepareTextMatching(),$t=this.quill.root.ownerDocument.createElement("div");$t.textContent=Wt;var Gt=$t.childNodes[0];return Ut.reduce(function(le,fe){return fe(Gt,le,kt.quill.scroll)},new(b()))}},{key:"applyMatchers",value:function(kt,Wt){var Ut=this,$t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},le=(new DOMParser).parseFromString(kt,"text/html").body,fe=new WeakMap,be=u(this.prepareMatching(le,fe),2),gt=E(this.quill.scroll,le,be[0],be[1],fe,this.multilineParagraph);return Wt||!tt(gt,"\n")||null!=gt.ops[gt.ops.length-1].attributes&&!Object.values($t).some(function(At){return Ut.tableBlots.includes(At)})?gt:gt.compose((new(b())).retain(gt.length()-1).delete(1))}},{key:"dangerouslyPasteHTML",value:function(kt,Wt){var Ut=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U.ZP.sources.API;if("string"==typeof kt){var $t=this.convert({html:kt,text:""});this.quill.setContents($t,Wt),this.quill.setSelection(0,U.ZP.sources.SILENT)}else{var Gt=this.convert({html:Wt,text:""});this.quill.updateContents((new(b())).retain(kt).concat(Gt),Ut),this.quill.setSelection(kt+Gt.length(),U.ZP.sources.SILENT)}}},{key:"onCaptureCopy",value:function(kt){var Wt=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!kt.defaultPrevented){if(!kt.clipboardData)return;kt.preventDefault();var Gt=u(this.quill.selection.getRange(),1)[0];if(null!=Gt){var le=this.onCopy(Gt,Wt),fe=le.html;kt.clipboardData.setData("text/plain",le.text),kt.clipboardData.setData("text/html",fe),Wt&&(this.raiseCallback("onCut",kt),(0,Z.WQ)({range:Gt,quill:this.quill}))}}}},{key:"onCapturePaste",value:function(kt){if(!kt.defaultPrevented&&this.quill.isEnabled()){if(this.raiseCallback("onPaste",kt),!kt.clipboardData)return;kt.preventDefault();var Wt=this.quill.getSelection(!0);if(null!=Wt){var Ut=kt.clipboardData.getData("text/html"),$t=Array.from(kt.clipboardData.files||[]);if(!Ut&&$t.length>0)return void this.quill.uploader.upload(Wt,$t);if(Ut&&$t.length>0){var le=(new DOMParser).parseFromString(Ut,"text/html").body;if(1===le.childElementCount&&"IMG"===le.firstElementChild.tagName)return void this.quill.uploader.upload(Wt,$t)}var me=kt.clipboardData.getData("text/plain");this.onPaste(Wt,{html:Ut,text:me,keepLastNewLine:!0})}}}},{key:"raiseCallback",value:function(kt,Wt){var Ut=this.options[kt];Ut&&"function"==typeof Ut&&Ut(Wt)}},{key:"onCopy",value:function(kt){var Wt=kt.index,Ut=kt.length,$t=this.quill.getText(Wt,Ut);return{html:this.quill.getSemanticHTML(Wt,Ut),text:$t}}},{key:"onPaste",value:function(kt,Wt){var Ut=Wt.text,$t=Wt.html,Gt=Wt.keepLastNewLine,le=this.quill.getFormat(kt.index),fe=this.convert({text:Ut,html:$t,keepLastNewLine:Gt},le);Y.log("onPaste",fe,{text:Ut,html:$t});var me=(new(b())).retain(kt.index).delete(kt.length).concat(fe);this.quill.updateContents(me,U.ZP.sources.USER),this.quill.setSelection(me.length()-kt.length,U.ZP.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(kt,Wt){var Ut=[],$t=[];return this.matchers.forEach(function(Gt){var le=u(Gt,2),fe=le[0],me=le[1];switch(fe){case 3:$t.push(me);break;case 1:Ut.push(me);break;default:Array.from(kt.querySelectorAll(fe)).forEach(function(be){Wt.has(be)?Wt.get(be).push(me):Wt.set(be,[me])})}}),[Ut,$t]}},{key:"prepareTextMatching",value:function(){var kt=[Xt];return this.matchers.forEach(function(Wt){var Ut=u(Wt,2),$t=Ut[0],Gt=Ut[1];-1===mt.indexOf(Gt)&&3===$t&&kt.push(Gt)}),kt}}]),Nt}(W.Z);function _t(bt,xt,Nt){return"object"===_(xt)?Object.keys(xt).reduce(function(jt,kt){return _t(jt,kt,xt[kt])},bt):bt.reduce(function(jt,kt){if(kt.attributes&&kt.attributes[xt])return jt.push(kt);var Wt=Nt?o({},xt,Nt):{};return jt.insert(kt.insert,d(d({},Wt),kt.attributes))},new(b()))}function tt(bt,xt){for(var Nt="",jt=bt.ops.length-1;jt>=0&&Nt.length<xt.length;--jt){var kt=bt.ops[jt];if("string"!=typeof kt.insert)break;Nt=kt.insert+Nt}return Nt.slice(-1*xt.length)===xt}function it(bt){return 0!==bt.childNodes.length&&-1!==["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].indexOf(bt.tagName.toLowerCase())}Q.DEFAULTS={matchers:[]};var ct=new WeakMap;function Ot(bt){return null!=bt&&(ct.has(bt)||ct.set(bt,"PRE"===bt.tagName||Ot(bt.parentNode)),ct.get(bt))}function E(bt,xt,Nt,jt,kt,Wt){return xt.nodeType===xt.TEXT_NODE?jt.reduce(function(Ut,$t){return $t(xt,Ut,bt)},new(b())):xt.nodeType===xt.ELEMENT_NODE?Array.from(xt.childNodes||[]).reduce(function(Ut,$t,Gt,le){var fe=E(bt,$t,Nt,jt,kt,Wt),me=Gt<le.length-1&&le[Gt+1],be=me&&me.nodeType===xt.ELEMENT_NODE&&["ul","ol"].indexOf(me.tagName.toLowerCase())>-1;$t.nodeType===xt.ELEMENT_NODE&&(Wt="br"===$t.tagName.toLowerCase(),fe=Nt.reduce(function(ye,gt){return gt($t,ye,bt)},fe),fe=(kt.get($t)||[]).reduce(function(ye,gt){return gt($t,ye,bt)},fe));var Le=Ut.concat(fe);return Wt&&be&&Le.insert("\n"),Le},new(b())):new(b())}function l(bt,xt,Nt){return _t(Nt,bt,!0)}function Pt(bt,xt,Nt){if(!tt(xt,"\n")){if(it(bt))return xt.insert("\n");if(xt.length()>0&&bt.nextSibling)for(var jt=bt.nextSibling;null!=jt;){if(it(jt))return xt.insert("\n");var kt=Nt.query(jt);if(kt?.prototype instanceof S.i2)return xt.insert("\n");jt=jt.firstChild}}return xt}function Xt(bt,xt){var Nt=bt.data||"";return Nt=Nt.replace(/\r\n/g,"\n"),xt.insert(Nt)}function ee(bt,xt){var Nt=bt.data;if("O:P"===bt.parentNode.tagName)return xt.insert(Nt.trim());if(0===Nt.trim().length&&-1!==Nt.indexOf("\n"))return xt;if(!Ot(bt)){var jt=function(Wt,Ut){var $t=Ut.replace(/[^\u00a0]/g,"");return $t.length<1&&Wt?" ":$t};Nt=(Nt=Nt.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,jt.bind(jt,!0)),(null==bt.previousSibling&&it(bt.parentNode)||null!=bt.previousSibling&&it(bt.previousSibling))&&(Nt=Nt.replace(/^\s+/,jt.bind(jt,!1))),(null==bt.nextSibling&&it(bt.parentNode)||null!=bt.nextSibling&&it(bt.nextSibling))&&(Nt=Nt.replace(/\s+$/,jt.bind(jt,!1)))}return xt.insert(Nt)}},2613:(B,C,n)=>{"use strict";n.d(C,{Z:()=>d});var v=n(1233),b=n(281),O=n(7094),S=n(8034);function U(f){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(f)}function W(f,y){for(var R=0;R<y.length;R++){var D=y[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(f,A(D.key),D)}}function A(f){var y=function x(f,y){if("object"!==U(f)||null===f)return f;var R=f[Symbol.toPrimitive];if(void 0!==R){var D=R.call(f,y||"default");if("object"!==U(D))return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(f)}(f,"string");return"symbol"===U(y)?y:String(y)}function I(f,y){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,q){return D.__proto__=q,D})(f,y)}function Z(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function j(f){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)})(f)}var d=function(f){!function P(f,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),y&&I(f,y)}(R,f);var y=function K(f){var y=function z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var q,D=j(f);if(y){var et=j(this).constructor;q=Reflect.construct(D,arguments,et)}else q=D.apply(this,arguments);return function w(f,y){if(y&&("object"===U(y)||"function"==typeof y))return y;if(void 0!==y)throw new TypeError("Derived constructors may only return object or undefined");return Z(f)}(this,q)}}(R);function R(D,q){var et;return function F(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}(this,R),(et=y.call(this,D,q)).lastRecorded=0,et.ignoreChange=!1,et.clear(),et.quill.on(b.ZP.events.EDITOR_CHANGE,function(ft,ht,dt,ot){ft!==b.ZP.events.TEXT_CHANGE||et.ignoreChange||(et.options.userOnly&&ot!==b.ZP.sources.USER?et.transform(ht):et.record(ht,dt))}),et.quill.keyboard.addBinding({key:"z",shortKey:!0},et.undo.bind(Z(et))),et.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},et.redo.bind(Z(et))),(0,S.Z)()&&/Win/i.test(navigator.platform)&&et.quill.keyboard.addBinding({key:"y",shortKey:!0},et.redo.bind(Z(et))),et.quill.root.addEventListener("beforeinput",function(ft){"historyUndo"===ft.inputType?(et.undo(),ft.preventDefault()):"historyRedo"===ft.inputType&&(et.redo(),ft.preventDefault())}),et}return function N(f,y,R){y&&W(f.prototype,y),R&&W(f,R),Object.defineProperty(f,"prototype",{writable:!1})}(R,[{key:"change",value:function(q,et){if(0!==this.stack[q].length){var ft=this.stack[q].pop(),ht=this.quill.getContents(),dt=ft.invert(ht);this.stack[et].push(dt),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(ft,b.ZP.sources.USER),this.ignoreChange=!1;var ot=function u(f,y){var R=y.reduce(function(q,et){return q+(et.delete||0)},0),D=y.length()-R;return function o(f,y){var R=y.ops[y.ops.length-1];return null!=R&&(null!=R.insert?"string"==typeof R.insert&&R.insert.endsWith("\n"):null!=R.attributes&&Object.keys(R.attributes).some(function(D){return null!=f.query(D,v.Scope.BLOCK)}))}(f,y)&&(D-=1),D}(this.quill.scroll,ft);this.quill.setSelection(ot)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(q,et){if(0!==q.ops.length){this.stack.redo=[];var ft=q.invert(et),ht=Date.now();if(this.lastRecorded+this.options.delay>ht&&this.stack.undo.length>0){var dt=this.stack.undo.pop();ft=ft.compose(dt)}else this.lastRecorded=ht;0!==ft.length()&&(this.stack.undo.push(ft),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(q){_(this.stack.undo,q),_(this.stack.redo,q)}},{key:"undo",value:function(){this.change("undo","redo")}}]),R}(O.Z);function _(f,y){for(var R=y,D=f.length-1;D>=0;D-=1){var q=f[D];f[D]=R.transform(q,!0),R=q.transform(R),0===f[D].length()&&f.splice(D,1)}}d.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1}},3071:(B,C,n)=>{"use strict";n.d(C,{ZP:()=>Y,WQ:()=>Rt});var v=n(8805),b=n.n(v),O=n(2722),S=n.n(O),U=n(9098),F=n.n(U),W=n(1233),N=n(281),A=n(3122),x=n(7094),P=n(8034);function K(rt){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(rt)}function w(rt,Q){return function _(rt){if(Array.isArray(rt))return rt}(rt)||function d(rt,Q){var _t=null==rt?null:typeof Symbol<"u"&&rt[Symbol.iterator]||rt["@@iterator"];if(null!=_t){var tt,it,ct,Ot,E=[],l=!0,i=!1;try{if(ct=(_t=_t.call(rt)).next,0===Q){if(Object(_t)!==_t)return;l=!1}else for(;!(l=(tt=ct.call(_t)).done)&&(E.push(tt.value),E.length!==Q);l=!0);}catch(g){i=!0,it=g}finally{try{if(!l&&null!=_t.return&&(Ot=_t.return(),Object(Ot)!==Ot))return}finally{if(i)throw it}}return E}}(rt,Q)||function z(rt,Q){if(rt){if("string"==typeof rt)return j(rt,Q);var _t=Object.prototype.toString.call(rt).slice(8,-1);if("Object"===_t&&rt.constructor&&(_t=rt.constructor.name),"Map"===_t||"Set"===_t)return Array.from(rt);if("Arguments"===_t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_t))return j(rt,Q)}}(rt,Q)||function Z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(rt,Q){(null==Q||Q>rt.length)&&(Q=rt.length);for(var _t=0,tt=new Array(Q);_t<Q;_t++)tt[_t]=rt[_t];return tt}function o(rt,Q){var _t=Object.keys(rt);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(rt);Q&&(tt=tt.filter(function(it){return Object.getOwnPropertyDescriptor(rt,it).enumerable})),_t.push.apply(_t,tt)}return _t}function u(rt){for(var Q=1;Q<arguments.length;Q++){var _t=null!=arguments[Q]?arguments[Q]:{};Q%2?o(Object(_t),!0).forEach(function(tt){f(rt,tt,_t[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(_t)):o(Object(_t)).forEach(function(tt){Object.defineProperty(rt,tt,Object.getOwnPropertyDescriptor(_t,tt))})}return rt}function f(rt,Q,_t){return(Q=q(Q))in rt?Object.defineProperty(rt,Q,{value:_t,enumerable:!0,configurable:!0,writable:!0}):rt[Q]=_t,rt}function R(rt,Q){for(var _t=0;_t<Q.length;_t++){var tt=Q[_t];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(rt,q(tt.key),tt)}}function q(rt){var Q=function et(rt,Q){if("object"!==K(rt)||null===rt)return rt;var _t=rt[Symbol.toPrimitive];if(void 0!==_t){var tt=_t.call(rt,Q||"default");if("object"!==K(tt))return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Q?String:Number)(rt)}(rt,"string");return"symbol"===K(Q)?Q:String(Q)}function ht(rt,Q){return(ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,it){return tt.__proto__=it,tt})(rt,Q)}function vt(rt){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_t){return _t.__proto__||Object.getPrototypeOf(_t)})(rt)}var st=(0,A.Z)("quill:keyboard"),at={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},H={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},T=(0,P.Z)()&&/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Y=function(rt){!function ft(rt,Q){if("function"!=typeof Q&&null!==Q)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(Q&&Q.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),Object.defineProperty(rt,"prototype",{writable:!1}),Q&&ht(rt,Q)}(_t,rt);var Q=function dt(rt){var Q=function X(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var it,tt=vt(rt);if(Q){var ct=vt(this).constructor;it=Reflect.construct(tt,arguments,ct)}else it=tt.apply(this,arguments);return function ot(rt,Q){if(Q&&("object"===K(Q)||"function"==typeof Q))return Q;if(void 0!==Q)throw new TypeError("Derived constructors may only return object or undefined");return function Et(rt){if(void 0===rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}(rt)}(this,it)}}(_t);function _t(tt,it){var ct;return function y(rt,Q){if(!(rt instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,_t),(ct=Q.call(this,tt,it)).bindings={},Object.keys(ct.options.bindings).forEach(function(Ot){ct.options.bindings[Ot]&&ct.addBinding(ct.options.bindings[Ot])}),ct.addInternalBindings(),ct.listen(),ct}return function D(rt,Q,_t){Q&&R(rt.prototype,Q),_t&&R(rt,_t),Object.defineProperty(rt,"prototype",{writable:!1})}(_t,[{key:"addInternalBindings",value:function(){var it=this;this.quill.once(N.ZP.events.CONTENT_SETTED,function(){it.addBinding({key:"enter",shiftKey:null},it.handleEnter),it.addBinding({key:"enter",metaKey:null,ctrlKey:null,altKey:null},function(){}),(0,P.Z)()&&/Firefox/i.test(navigator.userAgent)?(it.addBinding({key:"backspace"},{collapsed:!0},it.handleBackspace),it.addBinding({key:"del"},{collapsed:!0},it.handleDelete)):(it.addBinding({key:"backspace"},{collapsed:!0,prefix:/^.?$/},it.handleBackspace),it.addBinding({key:"del"},{collapsed:!0,suffix:/^.?$/},it.handleDelete)),it.addBinding({key:"backspace"},{collapsed:!1},it.handleDeleteRange),it.addBinding({key:"del"},{collapsed:!1},it.handleDeleteRange),it.addBinding({key:"backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},it.handleBackspace)})}},{key:"addBinding",value:function(it){var ct=this,Ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=function mt(rt){if("string"==typeof rt||"number"==typeof rt)rt={key:rt};else{if("object"!==K(rt))return null;rt=b()(rt)}return rt.shortKey&&(rt[T]=rt.shortKey,delete rt.shortKey),rt}(it);if(null!=l){"function"==typeof Ot&&(Ot={handler:Ot}),"function"==typeof E&&(E={handler:E});var i=l.which?"which":"key";(Array.isArray(l[i])?l[i]:[l[i]]).forEach(function(p){var M=u(u(u({},l),{},{key:p},Ot),E);ct.bindings[M.key]=ct.bindings[M.key]||[],ct.bindings[M.key].push(M)})}else st.warn("Attempted to add invalid keyboard binding",l)}},{key:"listen",value:function(){var it=this;this.quill.root.addEventListener("keydown",function(ct){if(!ct.defaultPrevented&&!ct.isComposing){it.raiseOnKeydownCallback(ct);var Ot=_t.normalizeKeyName(ct),l=(it.bindings[Ot]||[]).concat(it.bindings[ct.which]||[]).filter(function(Ut){return _t.match(ct,Ut)});if(0!==l.length){var i=it.quill.getSelection();if(null!=i&&it.quill.hasFocus()){var p=w(it.quill.getLine(i.index),2),M=p[0],ut=p[1],Ft=w(it.quill.getLeaf(i.index),2),Pt=Ft[0],Kt=Ft[1],ee=w(0===i.length?[Pt,Kt]:it.quill.getLeaf(i.index+i.length),2),bt=ee[0],xt=ee[1],Nt=Pt instanceof W.TextBlot?Pt.value().slice(0,Kt):"",jt=bt instanceof W.TextBlot?bt.value().slice(xt):"",kt={collapsed:0===i.length,empty:0===i.length&&M.length()<=1,format:it.quill.getFormat(i),line:M,offset:ut,prefix:Nt,suffix:jt,event:ct},Wt=!1;l.some(function(Ut){if(null!=Ut.collapsed&&Ut.collapsed!==kt.collapsed||null!=Ut.empty&&Ut.empty!==kt.empty||null!=Ut.offset&&Ut.offset!==kt.offset)return!1;if(Array.isArray(Ut.format)){if(Ut.format.every(function(le){return null==kt.format[le]}))return!1}else if("object"===K(Ut.format)&&!Object.keys(Ut.format).every(function(le){return!0===Ut.format[le]?null!=kt.format[le]:!1===Ut.format[le]?null==kt.format[le]:S()(Ut.format[le],kt.format[le])}))return!1;if(null!=Ut.prefix&&!Ut.prefix.test(kt.prefix)||null!=Ut.suffix&&!Ut.suffix.test(kt.suffix))return!1;var $t=Ut.handler.call(it,i,kt,Ut),Gt=$t?.preventAfterAllMatches;return(Wt=!0!==$t||Gt)&&!Gt}),Wt&&ct.preventDefault()}}}})}},{key:"raiseOnKeydownCallback",value:function(it){var ct=this.options.onKeydown;ct&&"function"==typeof ct&&ct(it)}},{key:"handleBackspace",value:function(it,ct){var Ot=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ct.prefix)?2:1;if(!(0===it.index||this.quill.getLength()<=1)){var E={},g=w(this.quill.getLine(it.index),1)[0],p=(new(F())).retain(it.index-Ot).delete(Ot);if(0===ct.offset){var wt=w(this.quill.getLine(it.index-1),1)[0];if(wt){var Ft="block"===wt.statics.blotName&&wt.length()<=1,Pt=wt.statics.blotName.startsWith("table"),Kt="block"===g.statics.blotName&&g.length()<=1;if(Pt&&(Kt&&g.remove(),this.quill.setSelection(it.index-1)),!Ft&&!Pt){var Xt=g.formats(),ee=this.quill.getFormat(it.index-1,1);if(E=U.AttributeMap.diff(Xt,ee)||{},Object.keys(E).length>0){var bt=(new(F())).retain(it.index+g.length()-2).retain(1,E);p=p.compose(bt)}}}}this.quill.updateContents(p,N.ZP.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(it,ct){var Ot=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ct.suffix)?2:1;if(!(it.index>=this.quill.getLength()-Ot)){var E={},g=w(this.quill.getLine(it.index),1)[0],p=(new(F())).retain(it.index).delete(Ot);if(ct.offset>=g.length()-1){var wt=w(this.quill.getLine(it.index+1),1)[0];if(wt){var Ft=g.formats(),Pt=this.quill.getFormat(it.index,1);E=U.AttributeMap.diff(Ft,Pt)||{},Object.keys(E).length>0&&(p=p.retain(wt.length()-1).retain(1,E))}}this.quill.updateContents(p,N.ZP.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(it,ct){this.raiseOnKeydownCallback(ct.event),Rt({range:it,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(it,ct){var Ot=this,E=Object.keys(ct.format).reduce(function(ut,wt){return Ot.quill.scroll.query(wt,W.Scope.BLOCK)&&!Array.isArray(ct.format[wt])&&(ut[wt]=ct.format[wt]),ut},{}),l=(new(F())).retain(it.index).delete(it.length).insert("\n",E);this.quill.updateContents(l,N.ZP.sources.USER),this.quill.setSelection(it.index+1,N.ZP.sources.SILENT),this.quill.focus();var p=w(this.quill.getLine(it.index+1),1)[0],M=function I(rt){var _t=window.innerHeight,tt=rt.getBoundingClientRect();return tt.y<0||!(tt.bottom>=_t)&&null}(p.domNode);null!==M&&p.domNode.scrollIntoView(M),Object.keys(ct.format).forEach(function(ut){null==E[ut]&&(Array.isArray(ct.format[ut])||"code"===ut||"link"===ut||(Ot.raiseOnKeydownCallback(ct.event),Ot.quill.format(ut,ct.format[ut],N.ZP.sources.USER)))})}}],[{key:"match",value:function(it,ct){return!["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ot){return!!ct[Ot]!==it[Ot]&&null!==ct[Ot]})&&(ct.key===_t.normalizeKeyName(it)||ct.key===it.which)}},{key:"normalizeKeyName",value:function(it){var ct=it.key,E=!!ct,l=E?ct:it.which;return l&&(l=E?at[l.toLowerCase()]||l:H[l]||String.fromCharCode(l)),l}}]),_t}(x.Z);function J(rt){return{key:"tab",shiftKey:!rt,format:{"code-block":!0},handler:function(_t){var tt=this.quill.scroll.query("code-block"),it=0===_t.length?this.quill.getLines(_t.index,1):this.quill.getLines(_t),ct=_t.index,Ot=_t.length;it.forEach(function(E,l){rt?(E.insertAt(0,tt.TAB),0===l?ct+=tt.TAB.length:Ot+=tt.TAB.length):0===E.domNode.textContent.indexOf(tt.TAB)&&(E.deleteAt(0,tt.TAB.length),0===l?ct-=tt.TAB.length:Ot-=tt.TAB.length)}),this.quill.update(N.ZP.sources.USER),this.quill.setSelection(ct,Ot,N.ZP.sources.SILENT)}}}function k(rt,Q){return f(f({key:rt,shiftKey:Q,altKey:null},"leftArrow"===rt?"prefix":"suffix",/^$/),"handler",function(it){var ct=it.index;return"rightArrow"===rt&&(ct+=it.length+1),!(w(this.quill.getLeaf(ct),1)[0]instanceof W.EmbedBlot&&("leftArrow"===rt?Q?this.quill.setSelection(it.index-1,it.length+1,N.ZP.sources.USER):this.quill.setSelection(it.index-1,N.ZP.sources.USER):Q?this.quill.setSelection(it.index,it.length+1,N.ZP.sources.USER):this.quill.setSelection(it.index+it.length+1,N.ZP.sources.USER),1))})}function lt(rt,Q){return{key:rt[0],which:Q,shortKey:!0,handler:function(tt,it){return this.quill.format(rt,!it.format[rt],N.ZP.sources.USER),{preventAfterAllMatches:!0}}}}function Rt(rt){var Q=rt.quill,_t=rt.range,tt=Q.getLines(_t),it={};if(tt.length>1){var ct=tt[0].formats(),Ot=tt[tt.length-1].formats();it=U.AttributeMap.diff(Ot,ct)||{}}Q.deleteText(_t,N.ZP.sources.USER),Object.keys(it).length>0&&Q.formatLine(_t.index,1,it,N.ZP.sources.USER),Q.setSelection(_t.index,N.ZP.sources.SILENT)}Y.DEFAULTS={bindings:{bold:lt("bold",66),italic:lt("italic",73),underline:lt("underline",85),indent:{key:"tab",format:["blockquote","indent","list"],handler:function(Q,_t){return!(!_t.collapsed||0===_t.offset)||(this.quill.format("indent","+1",N.ZP.sources.USER),!1)}},outdent:{key:"tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(Q,_t){return!(!_t.collapsed||0===_t.offset)||(this.quill.format("indent","-1",N.ZP.sources.USER),!1)}},"outdent backspace":{key:"backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Q,_t){null!=_t.format.indent?this.quill.format("indent","-1",N.ZP.sources.USER):null!=_t.format.list&&this.quill.format("list",!1,N.ZP.sources.USER)}},"indent code-block":J(!0),"outdent code-block":J(!1),"remove tab":{key:"tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Q){this.quill.deleteText(Q.index-1,1,N.ZP.sources.USER)}},tab:{key:"tab",handler:function(Q,_t){var tt=_t.format;if(tt.tableCellLine||tt.tableHeaderCellLine||tt.tableHeaderCell||tt.table)return!0;this.quill.history.cutoff();var ct=(new(F())).retain(Q.index).delete(Q.length).insert("\t");return this.quill.updateContents(ct,N.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index+1,N.ZP.sources.SILENT),!1}},"blockquote empty enter":{key:"enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,N.ZP.sources.USER)}},"list empty enter":{key:"enter",collapsed:!0,format:["list"],empty:!0,handler:function(Q,_t){var tt={list:!1};_t.format.indent&&(tt.indent=!1),this.quill.formatLine(Q.index,Q.length,tt,N.ZP.sources.USER)}},"checklist enter":{key:"enter",collapsed:!0,format:{list:"checked"},handler:function(Q){var tt=w(this.quill.getLine(Q.index),2),it=tt[0],ct=tt[1],Ot=u(u({},it.formats()),{},{list:"checked"}),E=(new(F())).retain(Q.index).insert("\n",Ot).retain(it.length()-ct-1).retain(1,{list:"unchecked"});this.quill.updateContents(E,N.ZP.sources.USER),this.quill.setSelection(Q.index+1,N.ZP.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(Q,_t){var it=w(this.quill.getLine(Q.index),2),ct=it[0],Ot=it[1],E=(new(F())).retain(Q.index).insert("\n",_t.format).retain(ct.length()-Ot-1).retain(1,{header:null});this.quill.updateContents(E,N.ZP.sources.USER),this.quill.setSelection(Q.index+1,N.ZP.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:"space",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Q,_t){if(null==this.quill.scroll.query("list"))return!0;var l,tt=_t.prefix.length,ct=w(this.quill.getLine(Q.index),2),Ot=ct[0],E=ct[1];if(E>tt)return!0;switch(_t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(Q.index," ",N.ZP.sources.USER),this.quill.history.cutoff();var i=(new(F())).retain(Q.index-E).delete(tt+1).retain(Ot.length()-2-E).retain(1,{list:l});return this.raiseOnKeydownCallback(_t.event),this.quill.updateContents(i,N.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index-tt,N.ZP.sources.SILENT),!1}},"code exit":{key:"enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(Q){for(var tt=w(this.quill.getLine(Q.index),2),it=tt[0],ct=tt[1],Ot=2,E=it;null!=E&&E.length()<=1&&E.formats()["code-block"];)if(E=E.prev,(Ot-=1)<=0){var l=(new(F())).retain(Q.index+it.length()-ct-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,N.ZP.sources.USER),this.quill.setSelection(Q.index-1,N.ZP.sources.SILENT),!1}return!0}},"embed left":k("leftArrow",!1),"embed left shift":k("leftArrow",!0),"embed right":k("rightArrow",!1),"embed right shift":k("rightArrow",!0)}}},9072:(B,C,n)=>{"use strict";n.d(C,{ZP:()=>J});var v=n(9098),b=n.n(v),O=n(1233),S=n(6603),U=n(281),F=n(7094),W=n(6446),N=n(4122),A=n(3657),x=n(8222),P=n(7309),I=n(5635),K=n(8034);function w(k){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(lt){return typeof lt}:function(lt){return lt&&"function"==typeof Symbol&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt})(k)}function Z(k,lt,mt){return(lt=D(lt))in k?Object.defineProperty(k,lt,{value:mt,enumerable:!0,configurable:!0,writable:!0}):k[lt]=mt,k}function _(k,lt){(null==lt||lt>k.length)&&(lt=k.length);for(var mt=0,Rt=new Array(lt);mt<lt;mt++)Rt[mt]=k[mt];return Rt}function f(k,lt){if(!(k instanceof lt))throw new TypeError("Cannot call a class as a function")}function y(k,lt){for(var mt=0;mt<lt.length;mt++){var Rt=lt[mt];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(k,D(Rt.key),Rt)}}function R(k,lt,mt){return lt&&y(k.prototype,lt),mt&&y(k,mt),Object.defineProperty(k,"prototype",{writable:!1}),k}function D(k){var lt=function q(k,lt){if("object"!==w(k)||null===k)return k;var mt=k[Symbol.toPrimitive];if(void 0!==mt){var Rt=mt.call(k,lt||"default");if("object"!==w(Rt))return Rt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===lt?String:Number)(k)}(k,"string");return"symbol"===w(lt)?lt:String(lt)}function et(k,lt){if("function"!=typeof lt&&null!==lt)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(lt&&lt.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),lt&&ft(k,lt)}function ft(k,lt){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Rt,rt){return Rt.__proto__=rt,Rt})(k,lt)}function ht(k){var lt=function Et(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var rt,Rt=st(k);if(lt){var Q=st(this).constructor;rt=Reflect.construct(Rt,arguments,Q)}else rt=Rt.apply(this,arguments);return function dt(k,lt){if(lt&&("object"===w(lt)||"function"==typeof lt))return lt;if(void 0!==lt)throw new TypeError("Derived constructors may only return object or undefined");return ot(k)}(this,rt)}}function ot(k){if(void 0===k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function X(){return X=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(lt,mt,Rt){var rt=function vt(k,lt){for(;!Object.prototype.hasOwnProperty.call(k,lt)&&null!==(k=st(k)););return k}(lt,mt);if(rt){var Q=Object.getOwnPropertyDescriptor(rt,mt);return Q.get?Q.get.call(arguments.length<3?lt:Rt):Q.value}},X.apply(this,arguments)}function st(k){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(mt){return mt.__proto__||Object.getPrototypeOf(mt)})(k)}var at=new O.ClassAttributor("code-token","hljs",{scope:O.Scope.INLINE}),H=function(k){et(mt,k);var lt=ht(mt);function mt(Rt,rt,Q){var _t;return f(this,mt),_t=lt.call(this,Rt,rt,Q),at.add(_t.domNode,Q),_t}return R(mt,[{key:"format",value:function(rt,Q){rt!==mt.blotName?X(st(mt.prototype),"format",this).call(this,rt,Q):Q?at.add(this.domNode,Q):(at.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){for(var rt,Q=arguments.length,_t=new Array(Q),tt=0;tt<Q;tt++)_t[tt]=arguments[tt];(rt=X(st(mt.prototype),"optimize",this)).call.apply(rt,[this].concat(_t)),at.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(rt,Q){for(;null!=rt&&rt!==Q.domNode;){if(rt.classList&&rt.classList.contains(P.ZP.className))return X(st(mt),"formats",this).call(this,rt,Q);rt=rt.parentNode}}}]),mt}(S.Z);H.blotName="code-token",H.className="ql-token";var T=function(k){et(mt,k);var lt=ht(mt);function mt(){return f(this,mt),lt.apply(this,arguments)}return R(mt,[{key:"format",value:function(rt,Q){rt===this.statics.blotName&&Q?this.domNode.setAttribute("data-language",Q):X(st(mt.prototype),"format",this).call(this,rt,Q)}},{key:"replaceWith",value:function(rt,Q){return this.formatAt(0,this.length(),H.blotName,!1),X(st(mt.prototype),"replaceWith",this).call(this,rt,Q)}}],[{key:"create",value:function(rt){var Q=X(st(mt),"create",this).call(this,rt);return"string"==typeof rt&&Q.setAttribute("data-language",rt),Q}},{key:"formats",value:function(rt){return rt.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}]),mt}(P.ZP),Y=function(k){et(mt,k);var lt=ht(mt);function mt(){return f(this,mt),lt.apply(this,arguments)}return R(mt,[{key:"attach",value:function(){X(st(mt.prototype),"attach",this).call(this),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(rt,Q){rt===T.blotName&&(this.forceNext=!0,this.children.forEach(function(_t){_t.format(rt,Q)}))}},{key:"formatAt",value:function(rt,Q,_t,tt){_t===T.blotName&&(this.forceNext=!0),X(st(mt.prototype),"formatAt",this).call(this,rt,Q,_t,tt)}},{key:"highlight",value:function(rt){var Q=this,_t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this.children.head){var tt=Array.from(this.domNode.childNodes).filter(function(l){return l!==Q.uiNode}),it="".concat(tt.map(function(l){return l.textContent}).join("\n"),"\n"),ct=T.formats(this.children.head.domNode);if(_t||this.forceNext||this.cachedText!==it){if(it.trim().length>0||null==this.cachedText){var Ot=this.children.reduce(function(l,i){return l.concat((0,W.qz)(i,!1))},new(b())),E=rt(it,ct);Ot.diff(E).reduce(function(l,i){var g=i.retain,p=i.attributes;return g?(p&&Object.keys(p).forEach(function(M){-1!==[T.blotName,H.blotName].indexOf(M)&&Q.formatAt(l,g,M,p[M])}),l+g):l},0)}this.cachedText=it,this.forceNext=!1}}}},{key:"html",value:function(rt,Q){var it=function z(k,lt){return function u(k){if(Array.isArray(k))return k}(k)||function o(k,lt){var mt=null==k?null:typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(null!=mt){var Rt,rt,Q,_t,tt=[],it=!0,ct=!1;try{if(Q=(mt=mt.call(k)).next,0===lt){if(Object(mt)!==mt)return;it=!1}else for(;!(it=(Rt=Q.call(mt)).done)&&(tt.push(Rt.value),tt.length!==lt);it=!0);}catch(Ot){ct=!0,rt=Ot}finally{try{if(!it&&null!=mt.return&&(_t=mt.return(),Object(_t)!==_t))return}finally{if(ct)throw rt}}return tt}}(k,lt)||function d(k,lt){if(k){if("string"==typeof k)return _(k,lt);var mt=Object.prototype.toString.call(k).slice(8,-1);if("Object"===mt&&k.constructor&&(mt=k.constructor.name),"Map"===mt||"Set"===mt)return Array.from(k);if("Arguments"===mt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt))return _(k,lt)}}(k,lt)||function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.children.find(rt),1)[0],ct=it?T.formats(it.domNode):"plain";return'<pre data-language="'.concat(ct,'">\n').concat(this.code(rt,Q),"\n</pre>")}},{key:"optimize",value:function(rt){if(X(st(mt.prototype),"optimize",this).call(this,rt),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){var Q=T.formats(this.children.head.domNode);Q!==this.uiNode.value&&(this.uiNode.value=Q)}}}]),mt}(P.se);Y.allowedChildren=[T],T.requiredContainer=Y,T.allowedChildren=[H,A.Z,x.Z,N.Z];var J=function(k){et(mt,k);var lt=ht(mt);function mt(Rt,rt){var Q;if(f(this,mt),null==(Q=lt.call(this,Rt,rt)).options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return Q.languages=Q.options.languages.reduce(function(_t,tt){return _t[tt.key]=!0,_t},{}),Q.highlightBlot=Q.highlightBlot.bind(ot(Q)),Q.initListener(),Q.initTimer(),Q}return R(mt,[{key:"initListener",value:function(){var rt=this;this.quill.on(U.ZP.events.SCROLL_BLOT_MOUNT,function(Q){if(Q instanceof Y){var _t=rt.quill.root.ownerDocument.createElement("select");rt.options.languages.forEach(function(tt){var it=tt.key,ct=tt.label,Ot=_t.ownerDocument.createElement("option");Ot.textContent=ct,Ot.setAttribute("value",it),_t.appendChild(Ot)}),_t.addEventListener("change",function(){Q.format(T.blotName,_t.value),rt.quill.root.focus(),rt.highlight(Q,!0)}),null==Q.uiNode&&(Q.attachUI(_t),Q.children.head&&(_t.value=T.formats(Q.children.head.domNode)))}})}},{key:"initTimer",value:function(){var rt=this,Q=null;this.quill.on(U.ZP.events.SCROLL_OPTIMIZE,function(){clearTimeout(Q),Q=setTimeout(function(){rt.highlight(),Q=null},rt.options.interval)})}},{key:"highlight",value:function(){var rt=this,Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,_t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.quill.selection.composing){this.quill.update(U.ZP.sources.USER);var tt=this.quill.getSelection();(null==Q?this.quill.scroll.descendants(Y):[Q]).forEach(function(ct){ct.highlight(rt.highlightBlot,_t)}),this.quill.update(U.ZP.sources.SILENT),null!=tt&&this.quill.setSelection(tt,U.ZP.sources.SILENT)}}},{key:"highlightBlot",value:function(rt){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if("plain"===(Q=this.languages[Q]?Q:"plain"))return(0,x.b)(rt).split("\n").reduce(function(tt,it,ct){return 0!==ct&&tt.insert("\n",Z({},P.ZP.blotName,Q)),tt.insert(it)},new(b()));var _t=this.quill.root.ownerDocument.createElement("div");return _t.classList.add(P.ZP.className),_t.innerHTML=this.options.hljs.highlight(Q,rt).value,(0,I.fw)(this.quill.scroll,_t,[function(tt,it){var ct=at.value(tt);return ct?it.compose((new(b())).retain(it.length(),Z({},H.blotName,ct))):it}],[function(tt,it){return tt.data.split("\n").reduce(function(ct,Ot,E){return 0!==E&&ct.insert("\n",Z({},P.ZP.blotName,Q)),ct.insert(Ot)},it)}],new WeakMap)}}],[{key:"register",value:function(){U.ZP.register(H,!0),U.ZP.register(T,!0),U.ZP.register(Y,!0)}}]),mt}(F.Z);J.DEFAULTS={hljs:(0,K.Z)()?window.hljs:null,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]}},867:(B,C,n)=>{"use strict";n.d(C,{Z:()=>T});var v=n(9098),b=n.n(v),O=n(1233),S=n(281),U=n(7094),F=n(1969),W=n(5874),N=n(5635),A=n(9466),x=n(7896),P=n(319),I=n(1342),K=n(2480);function w(Y){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(Y)}function Z(Y,J,k){return(J=D(J))in Y?Object.defineProperty(Y,J,{value:k,enumerable:!0,configurable:!0,writable:!0}):Y[J]=k,Y}function z(Y,J){return function u(Y){if(Array.isArray(Y))return Y}(Y)||function o(Y,J){var k=null==Y?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(null!=k){var lt,mt,Rt,rt,Q=[],_t=!0,tt=!1;try{if(Rt=(k=k.call(Y)).next,0===J){if(Object(k)!==k)return;_t=!1}else for(;!(_t=(lt=Rt.call(k)).done)&&(Q.push(lt.value),Q.length!==J);_t=!0);}catch(it){tt=!0,mt=it}finally{try{if(!_t&&null!=k.return&&(rt=k.return(),Object(rt)!==rt))return}finally{if(tt)throw mt}}return Q}}(Y,J)||function d(Y,J){if(Y){if("string"==typeof Y)return _(Y,J);var k=Object.prototype.toString.call(Y).slice(8,-1);if("Object"===k&&Y.constructor&&(k=Y.constructor.name),"Map"===k||"Set"===k)return Array.from(Y);if("Arguments"===k||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return _(Y,J)}}(Y,J)||function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(Y,J){(null==J||J>Y.length)&&(J=Y.length);for(var k=0,lt=new Array(J);k<J;k++)lt[k]=Y[k];return lt}function y(Y,J){for(var k=0;k<J.length;k++){var lt=J[k];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(Y,D(lt.key),lt)}}function D(Y){var J=function q(Y,J){if("object"!==w(Y)||null===Y)return Y;var k=Y[Symbol.toPrimitive];if(void 0!==k){var lt=k.call(Y,J||"default");if("object"!==w(lt))return lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===J?String:Number)(Y)}(Y,"string");return"symbol"===w(J)?J:String(J)}function ft(Y,J){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(lt,mt){return lt.__proto__=mt,lt})(Y,J)}function X(Y){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)})(Y)}var vt=[null,null,null,-1],at=function(Y){!function et(Y,J){if("function"!=typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(J&&J.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),Object.defineProperty(Y,"prototype",{writable:!1}),J&&ft(Y,J)}(k,Y);var J=function ht(Y){var J=function Et(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var mt,lt=X(Y);if(J){var Rt=X(this).constructor;mt=Reflect.construct(lt,arguments,Rt)}else mt=lt.apply(this,arguments);return function dt(Y,J){if(J&&("object"===w(J)||"function"==typeof J))return J;if(void 0!==J)throw new TypeError("Derived constructors may only return object or undefined");return function ot(Y){if(void 0===Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(Y)}(this,mt)}}(k);function k(){var lt;!function f(Y,J){if(!(Y instanceof J))throw new TypeError("Cannot call a class as a function")}(this,k);for(var mt=arguments.length,Rt=new Array(mt),rt=0;rt<mt;rt++)Rt[rt]=arguments[rt];return(lt=J.call.apply(J,[this].concat(Rt))).tableBlots=[F.zW.blotName,F.iD.blotName],lt.tableBlots.forEach(function(Q){lt.quill.editor.addImmediateFormat(Q)}),lt.integrateClipboard(),lt.addKeyboardHandlers(),lt.listenBalanceCells(),lt}return function R(Y,J,k){J&&y(Y.prototype,J),k&&y(Y,k),Object.defineProperty(Y,"prototype",{writable:!1})}(k,[{key:"integrateClipboard",value:function(){var mt=this;this.tableBlots.forEach(function(Rt){mt.quill.clipboard.addTableBlot(Rt)}),this.quill.clipboard.addMatcher("td, th",H),this.quill.clipboard.addMatcher("table",(0,x.F)(P.Zt)),this.quill.clipboard.addMatcher("td, th",(0,x.a)(I.h6))}},{key:"addKeyboardHandlers",value:function(){var mt=this,Rt=k.keyboardBindings;Object.keys(Rt).forEach(function(rt){Rt[rt]&&mt.quill.keyboard.addBinding(Rt[rt])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(F.xJ).forEach(function(mt){mt.balanceCells()})}},{key:"deleteColumn",value:function(){var Rt=z(this.getTable(),3),rt=Rt[0],Q=Rt[2];(0,W.Z)(Q)&&(rt.deleteColumn(Q.cellOffset()),this.quill.update(S.ZP.sources.USER))}},{key:"deleteRow",value:function(){var rt=z(this.getTable(),2)[1];(0,W.Z)(rt)&&(rt.remove(),this.quill.update(S.ZP.sources.USER))}},{key:"deleteTable",value:function(){var rt=z(this.getTable(),1)[0];if((0,W.Z)(rt)){var Q=rt.offset();rt.remove(),this.quill.update(S.ZP.sources.USER),this.quill.setSelection(Q,S.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var mt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(!(0,W.Z)(mt))return vt;var rt=z(this.quill.getLine(mt.index),2),Q=rt[0],_t=rt[1];if(!(0,W.Z)(Q)||-1===this.tableBlots.indexOf(Q.statics.blotName))return vt;var tt=Q.parent,it=tt.parent;return[it.parent.parent,it,tt,_t]}},{key:"insertColumn",value:function(mt){var Rt=this.quill.getSelection(),Q=z(this.getTable(Rt),3),_t=Q[0],tt=Q[1],it=Q[2];if((0,W.Z)(it)){var ct=it.cellOffset();_t.insertColumn(ct+mt),this.quill.update(S.ZP.sources.USER);var Ot=tt.rowOffset();0===mt&&(Ot+=1),this.quill.setSelection(Rt.index+Ot,Rt.length,S.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(mt){var Rt=this.quill.getSelection(),Q=z(this.getTable(Rt),3),_t=Q[0],tt=Q[1];if((0,W.Z)(Q[2])){var ct=tt.rowOffset();_t.insertRow(ct+mt),this.quill.update(S.ZP.sources.USER),mt>0?this.quill.setSelection(Rt,S.ZP.sources.SILENT):this.quill.setSelection(Rt.index+tt.children.length,Rt.length,S.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var mt=this.quill.getSelection(),rt=z(this.getTable(mt),3),Q=rt[0];(0,W.Z)(rt[2])&&(Q.insertHeaderRow(),this.quill.update(S.ZP.sources.USER))}},{key:"insertTable",value:function(mt,Rt){var rt=this.quill.getSelection();if((0,W.Z)(rt)){var Q=new Array(mt).fill(0).reduce(function(_t){var tt=(0,F.Lv)();return new Array(Rt).fill("\n").forEach(function(it){_t.insert(it,{tableCellLine:{row:tt,cell:(0,F.Lv)()}})}),_t},(new(b())).retain(rt.index));this.quill.updateContents(Q,S.ZP.sources.USER),this.quill.setSelection(rt.index,S.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var mt=this;this.quill.on(S.ZP.events.SCROLL_OPTIMIZE,function(Rt){Rt.some(function(rt){return-1!==["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(rt.target.tagName)&&(mt.quill.once(S.ZP.events.TEXT_CHANGE,function(Q,_t,tt){tt===S.ZP.sources.USER&&mt.balanceTables()}),!0)})}),this.quill.on(S.ZP.events.CONTENT_SETTED,function(){mt.quill.once(S.ZP.events.TEXT_CHANGE,function(){mt.balanceTables()})})}}],[{key:"register",value:function(){S.ZP.register(F.zW,!0),S.ZP.register(F.iD,!0),S.ZP.register(F.xs,!0),S.ZP.register(F.pj,!0),S.ZP.register(F.KA,!0),S.ZP.register(F.SC,!0),S.ZP.register(F.RM,!0),S.ZP.register(F.xD,!0),S.ZP.register(F.xJ,!0),[P.li,I.Du].forEach(function(mt){Object.keys(mt).forEach(function(Rt){S.ZP.register(Z({},"formats/".concat(Rt),mt[Rt]),!0)})})}}]),k}(U.Z);function H(Y,J){var k=Y.parentNode,mt="THEAD"===k.parentNode.tagName||null,Rt=Array.from(("TABLE"===k.parentNode.tagName?k.parentNode:k.parentNode.parentNode).querySelectorAll("tr")),rt=Array.from(k.querySelectorAll("th,td")),Q=Rt.indexOf(k)+1,_t=rt.indexOf(Y)+1,tt=mt?"tableHeaderCellLine":"tableCellLine";return 0===J.length()?J=(new(b())).insert("\n",Z({},tt,{row:Q,cell:_t})):((0,N.PF)(J,"\n")||J.insert("\n"),(0,N.HI)(J,tt,{row:Q,cell:_t}))}at.keyboardBindings={"table backspace":{key:"backspace",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,offset:0,handler:function(J){var mt=z(this.quill.getLine(J.index),1)[0];return!(!mt.prev||-1===["tableCellLine","tableHeaderCellLine"].indexOf(mt.prev.statics.blotName))}},"table delete":{key:"del",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(J,k){var lt,mt,Rt=this,rt=this.quill.getModule("table");if(rt){var Q=this.quill,it=z(rt.getTable(J),1)[0];if(1===(null===(lt=this.quill.selection)||void 0===lt?void 0:lt.lastNative.native.endContainer.nodeType)){var Ot=it.offset();return void(0,K.Z)({quill:Q,index:Ot,table:it})}if(null===(mt=this.quill.selection)||void 0===mt||!mt.composing){J.length>0&&this.quill.scroll.deleteAt(J.index,J.length);var E=Object.keys(k.format).reduce(function(l,i){return Rt.quill.scroll.query(i,O.Scope.BLOCK)&&!Array.isArray(k.format[i])&&(l[i]=k.format[i]),l},{});this.quill.insertText(J.index,"\n",E.tableCellLine,S.ZP.sources.USER),this.quill.setSelection(J.index+1,S.ZP.sources.SILENT),this.quill.focus(),Object.keys(k.format).forEach(function(l){null==E[l]&&(Array.isArray(k.format[l])||"link"!==l&&Rt.quill.format(l,k.format[l],S.ZP.sources.USER))})}}}},"table tab":{key:"tab",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(J,k){var lt=k.event,mt=k.line,Rt=mt.offset(this.quill.scroll);this.quill.setSelection(lt.shiftKey?Rt-1:Rt+mt.length(),S.ZP.sources.USER)}},"table down":(0,A.Z)(!1,["tableCellLine","tableHeaderCellLine"]),"table up":(0,A.Z)(!0,["tableCellLine","tableHeaderCellLine"])};const T=at},6054:(B,C,n)=>{"use strict";n.d(C,{Z:()=>ye});var v=n(9098),b=n.n(v),O=n(281),S=n(7094),U=n(6446),F=n(3553),W=n(5874),N=n(319),A=n(8536),x=n(2795);function P(gt){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(At){return typeof At}:function(At){return At&&"function"==typeof Symbol&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At})(gt)}function I(gt,At){return function Z(gt){if(Array.isArray(gt))return gt}(gt)||function w(gt,At){var Tt=null==gt?null:typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(null!=Tt){var Mt,Lt,It,Ht,qt=[],oe=!0,se=!1;try{if(It=(Tt=Tt.call(gt)).next,0===At){if(Object(Tt)!==Tt)return;oe=!1}else for(;!(oe=(Mt=It.call(Tt)).done)&&(qt.push(Mt.value),qt.length!==At);oe=!0);}catch(ue){se=!0,Lt=ue}finally{try{if(!oe&&null!=Tt.return&&(Ht=Tt.return(),Object(Ht)!==Ht))return}finally{if(se)throw Lt}}return qt}}(gt,At)||d(gt,At)||function K(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(gt,At){if(gt){if("string"==typeof gt)return u(gt,At);var Tt=Object.prototype.toString.call(gt).slice(8,-1);if("Object"===Tt&&gt.constructor&&(Tt=gt.constructor.name),"Map"===Tt||"Set"===Tt)return Array.from(gt);if("Arguments"===Tt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return u(gt,At)}}function u(gt,At){(null==At||At>gt.length)&&(At=gt.length);for(var Tt=0,Mt=new Array(At);Tt<At;Tt++)Mt[Tt]=gt[Tt];return Mt}function f(gt,At){if(!(gt instanceof At))throw new TypeError("Cannot call a class as a function")}function y(gt,At){for(var Tt=0;Tt<At.length;Tt++){var Mt=At[Tt];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(gt,D(Mt.key),Mt)}}function R(gt,At,Tt){return At&&y(gt.prototype,At),Tt&&y(gt,Tt),Object.defineProperty(gt,"prototype",{writable:!1}),gt}function D(gt){var At=function q(gt,At){if("object"!==P(gt)||null===gt)return gt;var Tt=gt[Symbol.toPrimitive];if(void 0!==Tt){var Mt=Tt.call(gt,At||"default");if("object"!==P(Mt))return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===At?String:Number)(gt)}(gt,"string");return"symbol"===P(At)?At:String(At)}function et(){return et=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(At,Tt,Mt){var Lt=function ft(gt,At){for(;!Object.prototype.hasOwnProperty.call(gt,At)&&null!==(gt=st(gt)););return gt}(At,Tt);if(Lt){var It=Object.getOwnPropertyDescriptor(Lt,Tt);return It.get?It.get.call(arguments.length<3?At:Mt):It.value}},et.apply(this,arguments)}function ht(gt,At){if("function"!=typeof At&&null!==At)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(At&&At.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Object.defineProperty(gt,"prototype",{writable:!1}),At&&dt(gt,At)}function dt(gt,At){return(dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Mt,Lt){return Mt.__proto__=Lt,Mt})(gt,At)}function ot(gt){var At=function vt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Lt,Mt=st(gt);if(At){var It=st(this).constructor;Lt=Reflect.construct(Mt,arguments,It)}else Lt=Mt.apply(this,arguments);return function Et(gt,At){if(At&&("object"===P(At)||"function"==typeof At))return At;if(void 0!==At)throw new TypeError("Derived constructors may only return object or undefined");return function X(gt){if(void 0===gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt}(gt)}(this,Lt)}}function st(gt){return(st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)})(gt)}var H="data-tablelite-",T=function(gt){ht(Tt,gt);var At=ot(Tt);function Tt(){return f(this,Tt),At.apply(this,arguments)}return R(Tt,[{key:"format",value:function(Lt,It){if(N.li[Lt]){var Ht,qt="data-".concat(Lt.toLowerCase());(0,x.Z)(this.domNode,qt,It),null===(Ht=this.row())||void 0===Ht||null===(Ht=Ht.table())||void 0===Ht||Ht.format(Lt,It)}else et(st(Tt.prototype),"format",this).call(this,Lt,It)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var Lt;return null===(Lt=this.row())||void 0===Lt?void 0:Lt.table()}}],[{key:"create",value:function(Lt){var It=et(st(Tt),"create",this).call(this);return(0,x.Z)(It,this.dataAttribute,Lt??tt()),It}},{key:"formats",value:function(Lt){var It=this.dataAttribute;if(Lt.hasAttribute(It))return Lt.getAttribute(It)}}]),Tt}(U.ZP);T.tagName=["TD","TH"];var Y=function(gt){ht(Tt,gt);var At=ot(Tt);function Tt(){return f(this,Tt),At.apply(this,arguments)}return R(Tt,[{key:"format",value:function(Lt,It){Lt===Tt.blotName&&It?this.domNode.setAttribute(Tt.dataAttribute,It):et(st(Tt.prototype),"format",this).call(this,Lt,It)}}]),Tt}(T);Y.blotName="table",Y.dataAttribute="".concat(H,"row");var J=function(gt){ht(Tt,gt);var At=ot(Tt);function Tt(){return f(this,Tt),At.apply(this,arguments)}return R(Tt,[{key:"format",value:function(Lt,It){Lt===Tt.blotName&&It?this.domNode.setAttribute(Tt.dataAttribute,It):et(st(Tt.prototype),"format",this).call(this,Lt,It)}}]),Tt}(T);J.tagName=["TH","TD"],J.blotName="tableHeaderCell",J.dataAttribute="".concat(H,"header-row");var k=function(gt){ht(Tt,gt);var At=ot(Tt);function Tt(){return f(this,Tt),At.apply(this,arguments)}return R(Tt,[{key:"checkMerge",value:function(){if(et(st(Tt.prototype),"checkMerge",this).call(this)&&(0,W.Z)(this.next.children.head)){var Lt=this.childFormatName,It=this.children.head.formats(),Ht=this.children.tail.formats(),qt=this.next.children.head.formats(),oe=this.next.children.tail.formats();return It[Lt]===Ht[Lt]&&It[Lt]===qt[Lt]&&It[Lt]===oe[Lt]}return!1}},{key:"optimize",value:function(){for(var Lt,It=this,Ht=arguments.length,qt=new Array(Ht),oe=0;oe<Ht;oe++)qt[oe]=arguments[oe];(Lt=et(st(Tt.prototype),"optimize",this)).call.apply(Lt,[this].concat(qt));var se=this.childFormatName;this.children.forEach(function(ue){if((0,W.Z)(ue.next)){var ae=ue.formats(),Ee=ue.next.formats();if(ae[se]!==Ee[se]){var $e=It.splitAfter(ue);$e&&$e.optimize(),It.prev&&It.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var Lt;return null===(Lt=this.parent)||void 0===Lt?void 0:Lt.parent}}]),Tt}(F.Z);k.tagName="TR";var lt=function(gt){ht(Tt,gt);var At=ot(Tt);function Tt(Mt,Lt){var It;return f(this,Tt),(It=At.call(this,Mt,Lt)).childFormatName="table",It}return R(Tt)}(k);lt.blotName="tableRow";var mt=function(gt){ht(Tt,gt);var At=ot(Tt);function Tt(Mt,Lt){var It;return f(this,Tt),(It=At.call(this,Mt,Lt)).childFormatName="tableHeaderCell",It}return R(Tt)}(k);mt.blotName="tableHeaderRow";var Rt=function(gt){ht(Tt,gt);var At=ot(Tt);function Tt(){return f(this,Tt),At.apply(this,arguments)}return R(Tt,[{key:"optimize",value:function(){var Lt;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var It=this.children.head.children.head.domNode,Ht={};Object.keys(N.li).forEach(function(ue){var ae=It.dataset[ue.toLowerCase()];ae&&(Ht[ue]=ae)}),this.wrap(this.statics.requiredContainer.blotName,Ht)}for(var qt=arguments.length,oe=new Array(qt),se=0;se<qt;se++)oe[se]=arguments[se];(Lt=et(st(Tt.prototype),"optimize",this)).call.apply(Lt,[this].concat(oe))}}]),Tt}(F.Z),rt=function(gt){ht(Tt,gt);var At=ot(Tt);function Tt(){return f(this,Tt),At.apply(this,arguments)}return R(Tt)}(Rt);rt.blotName="tableBody",rt.tagName=["TBODY"];var Q=function(gt){ht(Tt,gt);var At=ot(Tt);function Tt(){return f(this,Tt),At.apply(this,arguments)}return R(Tt)}(Rt);Q.blotName="tableHeader",Q.tagName=["THEAD"];var _t=function(gt){ht(Tt,gt);var At=ot(Tt);function Tt(){return f(this,Tt),At.apply(this,arguments)}return R(Tt,[{key:"balanceCells",value:function(){var Lt=this.descendants(mt),It=this.descendants(lt),Ht=this.getMaxTableColCount(Lt,It);this.balanceRows(Ht,Lt,J),this.balanceRows(Ht,It,Y)}},{key:"getMaxTableColCount",value:function(Lt,It){return Math.max(this.getMaxRowColCount(Lt),this.getMaxRowColCount(It))}},{key:"getMaxRowColCount",value:function(Lt){return Math.max.apply(Math,function z(gt){return function o(gt){if(Array.isArray(gt))return u(gt)}(gt)||function _(gt){if(typeof Symbol<"u"&&null!=gt[Symbol.iterator]||null!=gt["@@iterator"])return Array.from(gt)}(gt)||d(gt)||function j(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Lt.map(function(It){return It.children.length})))}},{key:"balanceRows",value:function(Lt,It,Ht){var qt=this;It.forEach(function(oe){new Array(Lt-oe.children.length).fill(0).forEach(function(){var se;(0,W.Z)(oe.children.head)&&(se=Ht.formats(oe.children.head.domNode));var ue=qt.scroll.create(Ht.blotName,se);oe.appendChild(ue),ue.optimize()})})}},{key:"cells",value:function(Lt){return this.rows().map(function(It){return It.children.at(Lt)})}},{key:"deleteColumn",value:function(Lt){var It=this;[Q,rt].forEach(function(Ht){var se=I(It.descendants(Ht),1)[0];!(0,W.Z)(se)||!(0,W.Z)(se.children.head)||se.children.forEach(function(ue){var ae=ue.children.at(Lt);(0,W.Z)(ae)&&ae.remove()})})}},{key:"insertColumn",value:function(Lt){var It=this;[Q,rt].forEach(function(Ht){var se=I(It.descendants(Ht),1)[0];if((0,W.Z)(se)&&(0,W.Z)(se.children.head)){var ue=Ht===Q?J:Y;se.children.forEach(function(ae){var Ee=ae.children.at(Lt),$e=ue.formats(ae.children.head.domNode),Ye=It.scroll.create(ue.blotName,$e);ae.insertBefore(Ye,Ee)})}})}},{key:"insertRow",value:function(Lt){var It=this,oe=I(this.descendants(rt),1)[0];if((0,W.Z)(oe)&&(0,W.Z)(oe.children.head)){var se=tt(),ue=this.scroll.create(lt.blotName);oe.children.head.children.forEach(function(){var Ee=It.scroll.create(Y.blotName,se);ue.appendChild(Ee)});var ae=oe.children.at(Lt);oe.insertBefore(ue,ae)}}},{key:"insertHeaderRow",value:function(){var Lt=this,qt=I(this.descendants(Q),1)[0],ue=I(this.descendants(rt),1)[0];if(!(0,W.Z)(qt)&&(0,W.Z)(ue)&&(0,W.Z)(ue.children.head)){var ae=tt(),Ee=this.scroll.create(Q.blotName),$e=this.scroll.create(mt.blotName),Ye=this.children.at(0);Ee.appendChild($e),ue.children.head.children.forEach(function(){var vr=Lt.scroll.create(J.blotName,ae);$e.appendChild(vr),vr.optimize()}),this.insertBefore(Ee,Ye)}}},{key:"rows",value:function(){var Lt=this.children.head;return(0,W.Z)(Lt)?Lt.children.map(function(It){return It}):[]}},{key:"formats",value:function(){var Lt={},It=this.cells()[0].domNode;return Object.keys(N.li).forEach(function(Ht){var qt=It.dataset[Ht.toLowerCase()];qt&&(Lt[Ht]=qt)}),Lt}},{key:"format",value:function(Lt,It){var Ht=N.li[Lt];if(Ht){var qt="data-".concat(Lt.toLowerCase());this.cells().forEach(function(oe){(0,x.Z)(oe.domNode,qt,It)}),Ht.add(this.domNode,It)}}}],[{key:"create",value:function(Lt){var It=et(st(Tt),"create",this).call(this,Lt);return Lt&&Object.keys(Lt).forEach(function(Ht){var qt;null===(qt=N.li[Ht])||void 0===qt||qt.add(It,Lt[Ht])}),It}}]),Tt}(F.Z);function tt(){return"row-".concat((0,A.Z)())}_t.blotName="tableContainer",_t.tagName="TABLE",_t.allowedChildren=[Q,rt],rt.requiredContainer=_t,Q.requiredContainer=_t,rt.allowedChildren=[lt],lt.requiredContainer=rt,lt.allowedChildren=[Y],Y.requiredContainer=lt,Q.allowedChildren=[mt],mt.requiredContainer=Q,mt.allowedChildren=[J],J.requiredContainer=mt;var it=n(5635),ct=n(9466);function Ot(gt){var At=gt.quill,Mt=gt.range,Lt=gt.index-1,It=(new(b())).retain(Lt).insert("\n");At.updateContents(It,O.ZP.sources.USER),At.setSelection(Mt.index+1,Mt.length,O.ZP.sources.SILENT)}var E=n(2480);function l(gt,At,Tt){return null==gt.prev&&null==gt.next?null==At.prev&&null==At.next?0===Tt?-1:1:null==At.prev?-1:1:null==gt.prev?-1:null==gt.next?1:null}var i=n(7896),g=n(1342);function p(gt){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(At){return typeof At}:function(At){return At&&"function"==typeof Symbol&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At})(gt)}function ut(gt,At){return function Xt(gt){if(Array.isArray(gt))return gt}(gt)||function Kt(gt,At){var Tt=null==gt?null:typeof Symbol<"u"&&gt[Symbol.iterator]||gt["@@iterator"];if(null!=Tt){var Mt,Lt,It,Ht,qt=[],oe=!0,se=!1;try{if(It=(Tt=Tt.call(gt)).next,0===At){if(Object(Tt)!==Tt)return;oe=!1}else for(;!(oe=(Mt=It.call(Tt)).done)&&(qt.push(Mt.value),qt.length!==At);oe=!0);}catch(ue){se=!0,Lt=ue}finally{try{if(!oe&&null!=Tt.return&&(Ht=Tt.return(),Object(Ht)!==Ht))return}finally{if(se)throw Lt}}return qt}}(gt,At)||function Ft(gt,At){if(gt){if("string"==typeof gt)return Pt(gt,At);var Tt=Object.prototype.toString.call(gt).slice(8,-1);if("Object"===Tt&&gt.constructor&&(Tt=gt.constructor.name),"Map"===Tt||"Set"===Tt)return Array.from(gt);if("Arguments"===Tt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return Pt(gt,At)}}(gt,At)||function wt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(gt,At){(null==At||At>gt.length)&&(At=gt.length);for(var Tt=0,Mt=new Array(At);Tt<At;Tt++)Mt[Tt]=gt[Tt];return Mt}function bt(gt,At){for(var Tt=0;Tt<At.length;Tt++){var Mt=At[Tt];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(gt,Nt(Mt.key),Mt)}}function Nt(gt){var At=function jt(gt,At){if("object"!==p(gt)||null===gt)return gt;var Tt=gt[Symbol.toPrimitive];if(void 0!==Tt){var Mt=Tt.call(gt,At||"default");if("object"!==p(Mt))return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===At?String:Number)(gt)}(gt,"string");return"symbol"===p(At)?At:String(At)}function Wt(gt,At){return(Wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Mt,Lt){return Mt.__proto__=Lt,Mt})(gt,At)}function fe(gt){return(fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Tt){return Tt.__proto__||Object.getPrototypeOf(Tt)})(gt)}var me=[null,null,null,-1],be=function(gt){!function kt(gt,At){if("function"!=typeof At&&null!==At)throw new TypeError("Super expression must either be null or a function");gt.prototype=Object.create(At&&At.prototype,{constructor:{value:gt,writable:!0,configurable:!0}}),Object.defineProperty(gt,"prototype",{writable:!1}),At&&Wt(gt,At)}(Tt,gt);var At=function Ut(gt){var At=function le(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Lt,Mt=fe(gt);if(At){var It=fe(this).constructor;Lt=Reflect.construct(Mt,arguments,It)}else Lt=Mt.apply(this,arguments);return function $t(gt,At){if(At&&("object"===p(At)||"function"==typeof At))return At;if(void 0!==At)throw new TypeError("Derived constructors may only return object or undefined");return function Gt(gt){if(void 0===gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt}(gt)}(this,Lt)}}(Tt);function Tt(){var Mt;!function ee(gt,At){if(!(gt instanceof At))throw new TypeError("Cannot call a class as a function")}(this,Tt);for(var Lt=arguments.length,It=new Array(Lt),Ht=0;Ht<Lt;Ht++)It[Ht]=arguments[Ht];return(Mt=At.call.apply(At,[this].concat(It))).tableBlots=[Y.blotName,J.blotName],Mt.tableBlots.forEach(function(qt){Mt.quill.editor.addImmediateFormat(qt)}),Mt.integrateClipboard(),Mt.addKeyboardHandlers(),Mt.listenBalanceCells(),Mt}return function xt(gt,At,Tt){At&&bt(gt.prototype,At),Tt&&bt(gt,Tt),Object.defineProperty(gt,"prototype",{writable:!1})}(Tt,[{key:"integrateClipboard",value:function(){var Lt=this;this.tableBlots.forEach(function(It){return Lt.quill.clipboard.addTableBlot(It)}),this.quill.clipboard.addMatcher("tr",Le),this.quill.clipboard.addMatcher("table",(0,i.F)(N.Zt)),this.quill.clipboard.addMatcher("td, th",(0,i.a)(g.h6))}},{key:"addKeyboardHandlers",value:function(){var Lt=this,It=Tt.keyboardBindings;Object.keys(It).forEach(function(Ht){It[Ht]&&Lt.quill.keyboard.addBinding(It[Ht])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(_t).forEach(function(Lt){Lt.balanceCells()})}},{key:"deleteColumn",value:function(){var It=ut(this.getTable(),3),Ht=It[0],qt=It[2];(0,W.Z)(qt)&&(Ht.deleteColumn(qt.cellOffset()),this.quill.update(O.ZP.sources.USER))}},{key:"deleteRow",value:function(){var Ht=ut(this.getTable(),2)[1];(0,W.Z)(Ht)&&(Ht.remove(),this.quill.update(O.ZP.sources.USER))}},{key:"deleteTable",value:function(){var Ht=ut(this.getTable(),1)[0];if((0,W.Z)(Ht)){var qt=Ht.offset();Ht.remove(),this.quill.update(O.ZP.sources.USER),this.quill.setSelection(qt,O.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var Lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(!(0,W.Z)(Lt))return me;var Ht=ut(this.quill.getLine(Lt.index),2),qt=Ht[0],oe=Ht[1];if(!(0,W.Z)(qt)||-1===this.tableBlots.indexOf(qt.statics.blotName))return me;var se=qt.parent;return[se.parent.parent,se,qt,oe]}},{key:"insertColumn",value:function(Lt){var It=this.quill.getSelection(),qt=ut(this.getTable(It),3),oe=qt[0],se=qt[1],ue=qt[2];if((0,W.Z)(ue)){var ae=ue.cellOffset();oe.insertColumn(ae+Lt),this.quill.update(O.ZP.sources.USER);var Ee=se.rowOffset();0===Lt&&(Ee+=1),this.quill.setSelection(It.index+Ee,It.length,O.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(Lt){var It=this.quill.getSelection(),qt=ut(this.getTable(It),3),oe=qt[0],se=qt[1];if((0,W.Z)(qt[2])){var ae=se.rowOffset();oe.insertRow(ae+Lt),this.quill.update(O.ZP.sources.USER),Lt>0?this.quill.setSelection(It,O.ZP.sources.SILENT):this.quill.setSelection(It.index+se.children.length,It.length,O.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var Lt=this.quill.getSelection(),Ht=ut(this.getTable(Lt),3),qt=Ht[0];(0,W.Z)(Ht[2])&&(qt.insertHeaderRow(),this.quill.update(O.ZP.sources.USER))}},{key:"insertTable",value:function(Lt,It){var Ht=this.quill.getSelection();if((0,W.Z)(Ht)){var qt=new Array(Lt).fill(0).reduce(function(oe){var se=new Array(It).fill("\n").join("");return oe.insert(se,{table:tt()})},(new(b())).retain(Ht.index));this.quill.updateContents(qt,O.ZP.sources.USER),this.quill.setSelection(Ht.index,O.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var Lt=this;this.quill.on(O.ZP.events.SCROLL_OPTIMIZE,function(It){It.some(function(Ht){return-1!==["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(Ht.target.tagName)&&(Lt.quill.once(O.ZP.events.TEXT_CHANGE,function(qt,oe,se){se===O.ZP.sources.USER&&Lt.balanceTables()}),!0)})}),this.quill.on(O.ZP.events.CONTENT_SETTED,function(){Lt.quill.once(O.ZP.events.TEXT_CHANGE,function(){Lt.balanceTables()})})}}],[{key:"register",value:function(){O.ZP.register(J,!0),O.ZP.register(Y,!0),O.ZP.register(mt,!0),O.ZP.register(lt,!0),O.ZP.register(rt,!0),O.ZP.register(Q,!0),O.ZP.register(_t,!0),[N.li,g.Du].forEach(function(Lt){Object.keys(Lt).forEach(function(It){O.ZP.register(function M(gt,At,Tt){return(At=Nt(At))in gt?Object.defineProperty(gt,At,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):gt[At]=Tt,gt}({},"formats/".concat(It),Lt[It]),!0)})})}}]),Tt}(S.Z);function Le(gt,At){var Mt="THEAD"===gt.parentNode.tagName||null,It=Array.from(("TABLE"===gt.parentNode.tagName?gt.parentNode:gt.parentNode.parentNode).querySelectorAll("tr")).indexOf(gt)+1;return(0,it.HI)(At,Mt?"tableHeaderCell":"table",It)}be.keyboardBindings={"table backspace":{key:"backspace",format:["table","tableHeaderCell"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"del",format:["table","tableHeaderCell"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["table"],handler:function(At){var Tt=this.quill.getModule("table");if(Tt){var Mt=this.quill,It=ut(Tt.getTable(At),4),Ht=It[0],ue=l(It[1],It[2],It[3]);if(null==ue||ue<0&&Ht.children.length>1&&Ht.children.head)return;var Ee=Ht.offset();ue<0?Ot({quill:Mt,index:Ee,range:At}):(0,E.Z)({quill:Mt,index:Ee,table:Ht})}}},"table header enter":{key:"enter",shiftKey:null,format:["tableHeaderCell"],handler:function(At){var Tt=this.quill.getModule("table");if(Tt){var Mt=this.quill,It=ut(Tt.getTable(At),4),Ht=It[0],ue=l(It[1],It[2],It[3]);if(null==ue)return;var ae=Ht.offset();ue<0||ue>0&&Ht.children.length>1&&Ht.children.tail?Ot({quill:Mt,index:ae,range:At}):(0,E.Z)({quill:Mt,index:ae,table:Ht})}}},"table tab":{key:"tab",shiftKey:null,format:["table","tableHeaderCell"],handler:function(At,Tt){var Mt=Tt.event,Lt=Tt.line,It=Lt.offset(this.quill.scroll);this.quill.setSelection(Mt.shiftKey?It-1:It+Lt.length(),O.ZP.sources.USER)}},"table down":(0,ct.Z)(!1,["table","tableHeaderCell"]),"table up":(0,ct.Z)(!0,["table","tableHeaderCell"])};const ye=be},2480:(B,C,n)=>{"use strict";n.d(C,{Z:()=>S});var v=n(9098),b=n.n(v),O=n(281);function S(U){var F=U.quill,A=U.index+U.table.length(),x=(new(b())).retain(A).insert("\n");F.updateContents(x,O.ZP.sources.USER),F.setSelection(A,O.ZP.sources.USER)}},9466:(B,C,n)=>{"use strict";n.d(C,{Z:()=>b});var v=n(281);function b(O,S){return{key:O?"upArrow":"downArrow",collapsed:!0,format:S,handler:function(F,W){var N=O?"prev":"next",A=W.line,x=A.statics.blotName.indexOf("Line")>-1?A.parent:A,P=x.parent.parent[N],I=x.parent[N]||P?.children.head;if(null!=I){if("tableRow"===I.statics.blotName||"tableHeaderRow"===I.statics.blotName){for(var K=I.children.head,w=x;null!=w.prev;)w=w.prev,K=K.next;var Z=K.offset(this.quill.scroll)+Math.min(W.offset,K.length()-1);this.quill.setSelection(Z,0,v.ZP.sources.USER)}}else{var z=x.table()[N];null!=z&&this.quill.setSelection(O?z.offset(this.quill.scroll)+z.length()-1:z.offset(this.quill.scroll),0,v.ZP.sources.USER)}return!1}}}},7896:(B,C,n)=>{"use strict";n.d(C,{F:()=>K,a:()=>w});var v=n(1233),b=n(1674),O=n(4569),S=n(5635);function U(Z){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(z){return typeof z}:function(z){return z&&"function"==typeof Symbol&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(Z)}function F(Z,z){var j=Object.keys(Z);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(Z);z&&(d=d.filter(function(_){return Object.getOwnPropertyDescriptor(Z,_).enumerable})),j.push.apply(j,d)}return j}function W(Z){for(var z=1;z<arguments.length;z++){var j=null!=arguments[z]?arguments[z]:{};z%2?F(Object(j),!0).forEach(function(d){N(Z,d,j[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(j)):F(Object(j)).forEach(function(d){Object.defineProperty(Z,d,Object.getOwnPropertyDescriptor(j,d))})}return Z}function N(Z,z,j){return z=function A(Z){var z=function x(Z,z){if("object"!==U(Z)||null===Z)return Z;var j=Z[Symbol.toPrimitive];if(void 0!==j){var d=j.call(Z,z||"default");if("object"!==U(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===z?String:Number)(Z)}(Z,"string");return"symbol"===U(z)?z:String(z)}(z),z in Z?Object.defineProperty(Z,z,{value:j,enumerable:!0,configurable:!0,writable:!0}):Z[z]=j,Z}function P(Z,z,j,d){Z[z]=!d&&Z[z]?Z[z]:j}function I(Z,z,j,d,_,o){return Z.filter(function(u){return!!u}).forEach(function(u){var f=j.query(u,v.Scope.ATTRIBUTE);if(null!==f){var y=f.value(z);if(y)return void P(_,f.attrName,y,o)}var R=d[u];if(null!=R&&(R.attrName===u||R.keyName===u)){var D=R.value(z)||void 0;P(_,R.attrName,D,o)}}),_}function K(Z){return function(z,j,d){var _=b.Z.keys(z),o=O.Z.keys(z),u=W(W({},I(_,z,d,Z,{},!0)),I(o,z,d,Z,{},!0));return Object.keys(u).length>0?(0,S.HI)(j,u):j}}function w(Z){return function(z,j,d){var _,o=b.Z.keys(z),u=O.Z.keys(z),f="TR"===(null===(_=z.parentNode)||void 0===_?void 0:_.tagName)?z.parentNode:void 0,y=W(W({},I(o,z,d,Z,{},!0)),I(u,z,d,Z,{},!0));return f&&(y=I(O.Z.keys(f),f,d,Z,y,!1)),Object.keys(y).length>0?(0,S.HI)(j,y):j}}},3859:(B,C,n)=>{"use strict";n.d(C,{Z:()=>u});var v=n(9098),b=n.n(v),O=n(2069),S=n(7094),U=n(8034);function F(f){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(f)}function A(f,y){for(var R=0;R<y.length;R++){var D=y[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(f,P(D.key),D)}}function P(f){var y=function I(f,y){if("object"!==F(f)||null===f)return f;var R=f[Symbol.toPrimitive];if(void 0!==R){var D=R.call(f,y||"default");if("object"!==F(D))return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(f)}(f,"string");return"symbol"===F(y)?y:String(y)}function w(f,y){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,q){return D.__proto__=q,D})(f,y)}function _(f){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)})(f)}var o=function(f){!function K(f,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),y&&w(f,y)}(R,f);var y=function Z(f){var y=function d(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var q,D=_(f);if(y){var et=_(this).constructor;q=Reflect.construct(D,arguments,et)}else q=D.apply(this,arguments);return function z(f,y){if(y&&("object"===F(y)||"function"==typeof y))return y;if(void 0!==y)throw new TypeError("Derived constructors may only return object or undefined");return function j(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}(f)}(this,q)}}(R);function R(D,q){var et;return function N(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}(this,R),(et=y.call(this,D,q)).preventImageUploading(!1),et.addDragOverHandler(),et.addDropHandler(),et}return function x(f,y,R){y&&A(f.prototype,y),R&&A(f,R),Object.defineProperty(f,"prototype",{writable:!1})}(R,[{key:"addDragOverHandler",value:function(){if((0,U.Z)()){var q=window.navigator.userAgent.toLowerCase();(-1!==q.indexOf("msie ")||-1!==q.indexOf("trident/")||-1!==q.indexOf("edge/"))&&this.quill.root.addEventListener("dragover",function(ft){ft.preventDefault()})}}},{key:"addDropHandler",value:function(){var q=this;this.quill.root.addEventListener("drop",function(et){var ft=0===et.dataTransfer.files.length,ht=q.options.onDrop;if(ht&&"function"==typeof ht&&ht(et),!ft&&!q.preventImageUpload){var dt;if(et.preventDefault(),document.caretRangeFromPoint)dt=document.caretRangeFromPoint(et.clientX,et.clientY);else{if(!document.caretPositionFromPoint)return;var ot=document.caretPositionFromPoint(et.clientX,et.clientY);(dt=document.createRange()).setStart(ot.offsetNode,ot.offset),dt.setEnd(ot.offsetNode,ot.offset)}var Et=q.quill.selection.normalizeNative(dt),X=q.quill.selection.normalizedToRange(Et);q.upload(X,et.dataTransfer.files)}})}},{key:"preventImageUploading",value:function(q){return typeof q<"u"&&(this.preventImageUpload=q),this.preventImageUpload}},{key:"upload",value:function(q,et,ft){var ht=this;if(!this.preventImageUpload||ft){var dt=[];Array.from(et).forEach(function(ot){ot&&-1!==ht.options.mimetypes.indexOf(ot.type)&&dt.push(ot)}),dt.length>0&&this.options.handler.call(this,q,dt,this.options.imageBlot)}}}]),R}(S.Z);o.DEFAULTS={mimetypes:["image/png","image/jpeg","image/pjpeg","image/gif","image/webp","image/bmp","image/svg+xml","image/vnd.microsoft.icon"],imageBlot:"image",handler:function(y,R,D){var q=this,et=R.map(function(ft){return new Promise(function(ht){var dt=new FileReader;dt.onload=function(ot){ht(ot.target.result)},dt.readAsDataURL(ft)})});Promise.all(et).then(function(ft){var ht=ft.reduce(function(dt,ot){return dt.insert(function W(f,y,R){return(y=P(y))in f?Object.defineProperty(f,y,{value:R,enumerable:!0,configurable:!0,writable:!0}):f[y]=R,f}({},D,ot))},(new(b())).retain(y.index).delete(y.length));q.quill.updateContents(ht,O.Z.sources.USER),q.quill.setSelection(y.index+ft.length,O.Z.sources.SILENT)})}};const u=o},2141:(B,C,n)=>{"use strict";function v(b){return b?b.substring(0,1).toUpperCase()+b.substring(1):""}n.d(C,{Z:()=>v})},8034:(B,C,n)=>{"use strict";n.d(C,{Z:()=>b});const b=function(){return typeof window<"u"}},5874:(B,C,n)=>{"use strict";function v(b){return null!=b}n.d(C,{Z:()=>v})},1233:(B,C,n)=>{"use strict";n.r(C),n.d(C,{Attributor:()=>y,AttributorStore:()=>X,BlockBlot:()=>J,ClassAttributor:()=>et,ContainerBlot:()=>d,EmbedBlot:()=>mt,InlineBlot:()=>H,LeafBlot:()=>u,ParentBlot:()=>Z,Registry:()=>A,Scope:()=>b,ScrollBlot:()=>tt,StyleAttributor:()=>ot,TextBlot:()=>Ot});var v=function(E){return E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY",E}(v||{});const b=v;var O=function(){function E(){this.head=null,this.tail=null,this.length=0}return E.prototype.append=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];if(this.insertBefore(l[0],null),l.length>1){var g=l.slice(1);this.append.apply(this,g)}},E.prototype.at=function(l){for(var i=this.iterator(),g=i();g&&l>0;)l-=1,g=i();return g},E.prototype.contains=function(l){for(var i=this.iterator(),g=i();g;){if(g===l)return!0;g=i()}return!1},E.prototype.indexOf=function(l){for(var i=this.iterator(),g=i(),p=0;g;){if(g===l)return p;p+=1,g=i()}return-1},E.prototype.insertBefore=function(l,i){null!=l&&(this.remove(l),l.next=i,null!=i?(l.prev=i.prev,null!=i.prev&&(i.prev.next=l),i.prev=l,i===this.head&&(this.head=l)):null!=this.tail?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},E.prototype.offset=function(l){for(var i=0,g=this.head;null!=g;){if(g===l)return i;i+=g.length(),g=g.next}return-1},E.prototype.remove=function(l){this.contains(l)&&(null!=l.prev&&(l.prev.next=l.next),null!=l.next&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},E.prototype.iterator=function(l){return void 0===l&&(l=this.head),function(){var i=l;return null!=l&&(l=l.next),i}},E.prototype.find=function(l,i){void 0===i&&(i=!1);for(var g=this.iterator(),p=g();p;){var M=p.length();if(l<M||i&&l===M&&(null==p.next||0!==p.next.length()))return[p,l];l-=M,p=g()}return[null,0]},E.prototype.forEach=function(l){for(var i=this.iterator(),g=i();g;)l(g),g=i()},E.prototype.forEachAt=function(l,i,g){if(!(i<=0))for(var p=this.find(l),wt=l-p[1],Ft=this.iterator(p[0]),Pt=Ft();Pt&&wt<l+i;){var Kt=Pt.length();l>wt?g(Pt,l-wt,Math.min(i,wt+Kt-l)):g(Pt,0,Math.min(Kt,l+i-wt)),wt+=Kt,Pt=Ft()}},E.prototype.map=function(l){return this.reduce(function(i,g){return i.push(l(g)),i},[])},E.prototype.reduce=function(l,i){for(var g=this.iterator(),p=g();p;)i=l(i,p),p=g();return i},E}();const S=O;var E,U=(E=function(i,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,M){p.__proto__=M}||function(p,M){for(var ut in M)Object.prototype.hasOwnProperty.call(M,ut)&&(p[ut]=M[ut])})(i,g)},function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function g(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)}),F=function(E){function l(i){var g=this;return(g=E.call(this,i="[Parchment] "+i)||this).message=i,g.name=g.constructor.name,g}return U(l,E),l}(Error);const W=F;var N=function(){function E(){this.attributes={},this.classes={},this.tags={},this.types={}}return E.find=function(l,i){if(void 0===i&&(i=!1),null==l)return null;if(this.blots.has(l))return this.blots.get(l)||null;if(i){var g=null;try{g=l.parentNode}catch{return null}return this.find(g,i)}return null},E.prototype.create=function(l,i,g){var p=this.query(i);if(null==p)throw new W("Unable to create ".concat(i," blot"));var M=p,ut=i instanceof Node||i.nodeType===Node.TEXT_NODE?i:M.create(g),wt=new M(l,ut,g);return E.blots.set(wt.domNode,wt),wt},E.prototype.find=function(l,i){return void 0===i&&(i=!1),E.find(l,i)},E.prototype.query=function(l,i){var p,g=this;return void 0===i&&(i=b.ANY),"string"==typeof l?p=this.types[l]||this.attributes[l]:l instanceof Text||l.nodeType===Node.TEXT_NODE?p=this.types.text:"number"==typeof l?l&b.LEVEL&b.BLOCK?p=this.types.block:l&b.LEVEL&b.INLINE&&(p=this.types.inline):l instanceof Element&&((l.getAttribute("class")||"").split(/\s+/).some(function(ut){return!!(p=g.classes[ut])}),p=p||this.tags[l.tagName]),null==p?null:i&b.LEVEL&p.scope&&i&b.TYPE&p.scope?p:null},E.prototype.register=function(){for(var l=this,i=[],g=0;g<arguments.length;g++)i[g]=arguments[g];if(i.length>1)return i.map(function(ut){return l.register(ut)});var p=i[0];if("string"!=typeof p.blotName&&"string"!=typeof p.attrName)throw new W("Invalid definition");if("abstract"===p.blotName)throw new W("Cannot register abstract class");return this.types[p.blotName||p.attrName]=p,"string"==typeof p.keyName?this.attributes[p.keyName]=p:(null!=p.className&&(this.classes[p.className]=p),null!=p.tagName&&(p.tagName=Array.isArray(p.tagName)?p.tagName.map(function(ut){return ut.toUpperCase()}):p.tagName.toUpperCase(),(Array.isArray(p.tagName)?p.tagName:[p.tagName]).forEach(function(ut){(null==l.tags[ut]||null==p.className)&&(l.tags[ut]=p)}))),p},E.blots=new WeakMap,E}();const A=N;var x=function(){function E(l,i){this.scroll=l,this.domNode=i,A.blots.set(i,this),this.prev=null,this.next=null}return E.create=function(l){if(null==this.tagName)throw new W("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?("string"==typeof l&&(l=l.toUpperCase(),parseInt(l,10).toString()===l&&(l=parseInt(l,10))),i="number"==typeof l?document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?document.createElement(l):document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},Object.defineProperty(E.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),E.prototype.attach=function(){},E.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return this.scroll.create(l)},E.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),A.blots.delete(this.domNode)},E.prototype.deleteAt=function(l,i){this.isolate(l,i).remove()},E.prototype.formatAt=function(l,i,g,p){var M=this.isolate(l,i);if(null!=this.scroll.query(g,b.BLOT)&&p)M.wrap(g,p);else if(null!=this.scroll.query(g,b.ATTRIBUTE)){var ut=this.scroll.create(this.statics.scope);M.wrap(ut),ut.format(g,p)}},E.prototype.insertAt=function(l,i,g){var p=null==g?this.scroll.create("text",i):this.scroll.create(i,g),M=this.split(l);this.parent.insertBefore(p,M||void 0)},E.prototype.isolate=function(l,i){var g=this.split(l);if(null==g)throw new Error("Attempt to isolate at end");return g.split(i),g},E.prototype.length=function(){return 1},E.prototype.offset=function(l){return void 0===l&&(l=this.parent),null==this.parent||this===l?0:this.parent.children.offset(this)+this.parent.offset(l)},E.prototype.optimize=function(l){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)},E.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},E.prototype.replaceWith=function(l,i){var g="string"==typeof l?this.scroll.create(l,i):l;return null!=this.parent&&(this.parent.insertBefore(g,this.next||void 0),this.remove()),g},E.prototype.split=function(l,i){return 0===l?this:this.next},E.prototype.update=function(l,i){},E.prototype.wrap=function(l,i){var g="string"==typeof l?this.scroll.create(l,i):l;if(null!=this.parent&&this.parent.insertBefore(g,this.next||void 0),"function"!=typeof g.appendChild)throw new W("Cannot wrap ".concat(l));return g.appendChild(this),g},E.blotName="abstract",E}();const P=x;var I=function(){var E=function(i,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,M){p.__proto__=M}||function(p,M){for(var ut in M)Object.prototype.hasOwnProperty.call(M,ut)&&(p[ut]=M[ut])})(i,g)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function g(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)}}();function K(E,l){var i=l.find(E);if(null==i)try{i=l.create(E)}catch{i=l.create(b.INLINE),Array.from(E.childNodes).forEach(function(p){i.domNode.appendChild(p)}),E.parentNode&&E.parentNode.replaceChild(i.domNode,E),i.attach()}return i}var w=function(E){function l(i,g){var p=E.call(this,i,g)||this;return p.uiNode=null,p.build(),p}return I(l,E),l.prototype.appendChild=function(i){this.insertBefore(i)},l.prototype.attach=function(){E.prototype.attach.call(this),this.children.forEach(function(i){i.attach()})},l.prototype.attachUI=function(i){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=i,l.uiClass&&this.uiNode.classList.add(l.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},l.prototype.build=function(){var i=this;this.children=new S,Array.from(this.domNode.childNodes).filter(function(g){return g!==i.uiNode}).reverse().forEach(function(g){try{var p=K(g,i.scroll);i.insertBefore(p,i.children.head||void 0)}catch(M){if(M instanceof W)return;throw M}})},l.prototype.deleteAt=function(i,g){if(0===i&&g===this.length())return this.remove();this.children.forEachAt(i,g,function(p,M,ut){p.deleteAt(M,ut)})},l.prototype.descendant=function(i,g){void 0===g&&(g=0);var p=this.children.find(g),M=p[0],ut=p[1];return null==i.blotName&&i(M)||null!=i.blotName&&M instanceof i?[M,ut]:M instanceof l?M.descendant(i,ut):[null,-1]},l.prototype.descendants=function(i,g,p){void 0===g&&(g=0),void 0===p&&(p=Number.MAX_VALUE);var M=[],ut=p;return this.children.forEachAt(g,p,function(wt,Ft,Pt){(null==i.blotName&&i(wt)||null!=i.blotName&&wt instanceof i)&&M.push(wt),wt instanceof l&&(M=M.concat(wt.descendants(i,Ft,ut))),ut-=Pt}),M},l.prototype.detach=function(){this.children.forEach(function(i){i.detach()}),E.prototype.detach.call(this)},l.prototype.enforceAllowedChildren=function(){var i=this,g=!1;this.children.forEach(function(p){g||i.statics.allowedChildren.some(function(ut){return p instanceof ut})||(p.statics.scope===b.BLOCK_BLOT?(null!=p.next&&i.splitAfter(p),null!=p.prev&&i.splitAfter(p.prev),p.parent.unwrap(),g=!0):p instanceof l?p.unwrap():p.remove())})},l.prototype.formatAt=function(i,g,p,M){this.children.forEachAt(i,g,function(ut,wt,Ft){ut.formatAt(wt,Ft,p,M)})},l.prototype.insertAt=function(i,g,p){var M=this.children.find(i),ut=M[0];if(ut)ut.insertAt(M[1],g,p);else{var Ft=null==p?this.scroll.create("text",g):this.scroll.create(g,p);this.appendChild(Ft)}},l.prototype.insertBefore=function(i,g){null!=i.parent&&i.parent.children.remove(i);var p=null;this.children.insertBefore(i,g||null),i.parent=this,null!=g&&(p=g.domNode),(this.domNode.parentNode!==i.domNode||this.domNode.nextSibling!==p)&&this.domNode.insertBefore(i.domNode,p),i.attach()},l.prototype.length=function(){return this.children.reduce(function(i,g){return i+g.length()},0)},l.prototype.moveChildren=function(i,g){this.children.forEach(function(p){i.insertBefore(p,g)})},l.prototype.optimize=function(i){if(E.prototype.optimize.call(this,i),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){var g=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(g)}else this.remove()},l.prototype.path=function(i,g){void 0===g&&(g=!1);var p=this.children.find(i,g),M=p[0],ut=p[1],wt=[[this,i]];return M instanceof l?wt.concat(M.path(ut,g)):(null!=M&&wt.push([M,ut]),wt)},l.prototype.removeChild=function(i){this.children.remove(i)},l.prototype.replaceWith=function(i,g){var p="string"==typeof i?this.scroll.create(i,g):i;return p instanceof l&&this.moveChildren(p),E.prototype.replaceWith.call(this,p)},l.prototype.split=function(i,g){if(void 0===g&&(g=!1),!g){if(0===i)return this;if(i===this.length())return this.next}var p=this.clone();return this.parent&&this.parent.insertBefore(p,this.next||void 0),this.children.forEachAt(i,this.length(),function(M,ut,wt){var Ft=M.split(ut,g);null!=Ft&&p.appendChild(Ft)}),p},l.prototype.splitAfter=function(i){for(var g=this.clone();null!=i.next;)g.appendChild(i.next);return this.parent&&this.parent.insertBefore(g,this.next||void 0),g},l.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},l.prototype.update=function(i,g){var p=this,M=[],ut=[];i.forEach(function(wt){wt.target===p.domNode&&"childList"===wt.type&&(M.push.apply(M,wt.addedNodes),ut.push.apply(ut,wt.removedNodes))}),ut.forEach(function(wt){if(!(null!=wt.parentNode&&"IFRAME"!==wt.tagName&&document.body.compareDocumentPosition(wt)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var Ft=p.scroll.find(wt);null!=Ft&&(null==Ft.domNode.parentNode||Ft.domNode.parentNode===p.domNode)&&Ft.detach()}}),M.filter(function(wt){return wt.parentNode===p.domNode||wt===p.uiNode}).sort(function(wt,Ft){return wt===Ft?0:wt.compareDocumentPosition(Ft)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(wt){var Ft=null;null!=wt.nextSibling&&(Ft=p.scroll.find(wt.nextSibling));var Pt=K(wt,p.scroll);(Pt.next!==Ft||null==Pt.next)&&(null!=Pt.parent&&Pt.parent.removeChild(p),p.insertBefore(Pt,Ft||void 0))}),this.enforceAllowedChildren()},l.uiClass="",l}(P);const Z=w;var z=function(){var E=function(i,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,M){p.__proto__=M}||function(p,M){for(var ut in M)Object.prototype.hasOwnProperty.call(M,ut)&&(p[ut]=M[ut])})(i,g)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function g(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)}}(),j=function(E){function l(){return null!==E&&E.apply(this,arguments)||this}return z(l,E),l.prototype.checkMerge=function(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName},l.prototype.deleteAt=function(i,g){E.prototype.deleteAt.call(this,i,g),this.enforceAllowedChildren()},l.prototype.formatAt=function(i,g,p,M){E.prototype.formatAt.call(this,i,g,p,M),this.enforceAllowedChildren()},l.prototype.insertAt=function(i,g,p){E.prototype.insertAt.call(this,i,g,p),this.enforceAllowedChildren()},l.prototype.optimize=function(i){E.prototype.optimize.call(this,i),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},l.blotName="container",l.scope=b.BLOCK_BLOT,l}(Z);const d=j;var _=function(){var E=function(i,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,M){p.__proto__=M}||function(p,M){for(var ut in M)Object.prototype.hasOwnProperty.call(M,ut)&&(p[ut]=M[ut])})(i,g)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function g(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)}}(),o=function(E){function l(){return null!==E&&E.apply(this,arguments)||this}return _(l,E),l.value=function(i){return!0},l.prototype.index=function(i,g){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(g,1):-1},l.prototype.position=function(i,g){var M=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return i>0&&(M+=1),[this.parent.domNode,M]},l.prototype.value=function(){var i;return(i={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,i},l.scope=b.INLINE_BLOT,l}(P);const u=o;var f=function(){function E(l,i,g){void 0===g&&(g={}),this.attrName=l,this.keyName=i,this.scope=null!=g.scope?g.scope&b.LEVEL|b.TYPE&b.ATTRIBUTE:b.ATTRIBUTE,null!=g.whitelist&&(this.whitelist=g.whitelist)}return E.keys=function(l){return Array.from(l.attributes).map(function(i){return i.name})},E.prototype.add=function(l,i){return!!this.canAdd(l,i)&&(l.setAttribute(this.keyName,i),!0)},E.prototype.canAdd=function(l,i){return null==this.whitelist||("string"==typeof i?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1)},E.prototype.remove=function(l){l.removeAttribute(this.keyName)},E.prototype.value=function(l){var i=l.getAttribute(this.keyName);return this.canAdd(l,i)&&i?i:""},E}();const y=f;var R=function(){var E=function(i,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,M){p.__proto__=M}||function(p,M){for(var ut in M)Object.prototype.hasOwnProperty.call(M,ut)&&(p[ut]=M[ut])})(i,g)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function g(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)}}();function D(E,l){return(E.getAttribute("class")||"").split(/\s+/).filter(function(g){return 0===g.indexOf("".concat(l,"-"))})}var q=function(E){function l(){return null!==E&&E.apply(this,arguments)||this}return R(l,E),l.keys=function(i){return(i.getAttribute("class")||"").split(/\s+/).map(function(g){return g.split("-").slice(0,-1).join("-")})},l.prototype.add=function(i,g){return!!this.canAdd(i,g)&&(this.remove(i),i.classList.add("".concat(this.keyName,"-").concat(g)),!0)},l.prototype.remove=function(i){D(i,this.keyName).forEach(function(p){i.classList.remove(p)}),0===i.classList.length&&i.removeAttribute("class")},l.prototype.value=function(i){var p=(D(i,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(i,p)?p:""},l}(y);const et=q;var ft=function(){var E=function(i,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,M){p.__proto__=M}||function(p,M){for(var ut in M)Object.prototype.hasOwnProperty.call(M,ut)&&(p[ut]=M[ut])})(i,g)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function g(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)}}();function ht(E){var l=E.split("-"),i=l.slice(1).map(function(g){return g[0].toUpperCase()+g.slice(1)}).join("");return l[0]+i}var dt=function(E){function l(){return null!==E&&E.apply(this,arguments)||this}return ft(l,E),l.keys=function(i){return(i.getAttribute("style")||"").split(";").map(function(g){return g.split(":")[0].trim()})},l.prototype.add=function(i,g){return!!this.canAdd(i,g)&&(i.style[ht(this.keyName)]=g,!0)},l.prototype.remove=function(i){i.style[ht(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")},l.prototype.value=function(i){var g=i.style[ht(this.keyName)];return this.canAdd(i,g)?g:""},l}(y);const ot=dt;var Et=function(){function E(l){this.attributes={},this.domNode=l,this.build()}return E.prototype.attribute=function(l,i){i?l.add(this.domNode,i)&&(null!=l.value(this.domNode)?this.attributes[l.attrName]=l:delete this.attributes[l.attrName]):(l.remove(this.domNode),delete this.attributes[l.attrName])},E.prototype.build=function(){var l=this;this.attributes={};var i=A.find(this.domNode);if(null!=i){var g=y.keys(this.domNode),p=et.keys(this.domNode),M=ot.keys(this.domNode);g.concat(p).concat(M).forEach(function(ut){var wt=i.scroll.query(ut,b.ATTRIBUTE);wt instanceof y&&(l.attributes[wt.attrName]=wt)})}},E.prototype.copy=function(l){var i=this;Object.keys(this.attributes).forEach(function(g){var p=i.attributes[g].value(i.domNode);l.format(g,p)})},E.prototype.move=function(l){var i=this;this.copy(l),Object.keys(this.attributes).forEach(function(g){i.attributes[g].remove(i.domNode)}),this.attributes={}},E.prototype.values=function(){var l=this;return Object.keys(this.attributes).reduce(function(i,g){return i[g]=l.attributes[g].value(l.domNode),i},{})},E}();const X=Et;var vt=function(){var E=function(i,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,M){p.__proto__=M}||function(p,M){for(var ut in M)Object.prototype.hasOwnProperty.call(M,ut)&&(p[ut]=M[ut])})(i,g)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function g(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)}}(),at=function(E){function l(i,g){var p=E.call(this,i,g)||this;return p.attributes=new X(p.domNode),p}return vt(l,E),l.formats=function(i,g){var p=g.query(l.blotName);if(null==p||i.tagName!==p.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},l.prototype.format=function(i,g){var p=this;if(i!==this.statics.blotName||g){var M=this.scroll.query(i,b.INLINE);if(null==M)return;M instanceof y?this.attributes.attribute(M,g):g&&(i!==this.statics.blotName||this.formats()[i]!==g)&&this.replaceWith(i,g)}else this.children.forEach(function(ut){ut instanceof l||(ut=ut.wrap(l.blotName,!0)),p.attributes.copy(ut)}),this.unwrap()},l.prototype.formats=function(){var i=this.attributes.values(),g=this.statics.formats(this.domNode,this.scroll);return null!=g&&(i[this.statics.blotName]=g),i},l.prototype.formatAt=function(i,g,p,M){null!=this.formats()[p]||this.scroll.query(p,b.ATTRIBUTE)?this.isolate(i,g).format(p,M):E.prototype.formatAt.call(this,i,g,p,M)},l.prototype.optimize=function(i){E.prototype.optimize.call(this,i);var g=this.formats();if(0===Object.keys(g).length)return this.unwrap();var p=this.next;p instanceof l&&p.prev===this&&function st(E,l){if(Object.keys(E).length!==Object.keys(l).length)return!1;for(var i in E)if(E[i]!==l[i])return!1;return!0}(g,p.formats())&&(p.moveChildren(this),p.remove())},l.prototype.replaceWith=function(i,g){var p=E.prototype.replaceWith.call(this,i,g);return this.attributes.copy(p),p},l.prototype.update=function(i,g){var p=this;E.prototype.update.call(this,i,g),i.some(function(ut){return ut.target===p.domNode&&"attributes"===ut.type})&&this.attributes.build()},l.prototype.wrap=function(i,g){var p=E.prototype.wrap.call(this,i,g);return p instanceof l&&this.attributes.move(p),p},l.allowedChildren=[l,u],l.blotName="inline",l.scope=b.INLINE_BLOT,l.tagName="SPAN",l}(Z);const H=at;var T=function(){var E=function(i,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,M){p.__proto__=M}||function(p,M){for(var ut in M)Object.prototype.hasOwnProperty.call(M,ut)&&(p[ut]=M[ut])})(i,g)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function g(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)}}(),Y=function(E){function l(i,g){var p=E.call(this,i,g)||this;return p.attributes=new X(p.domNode),p}return T(l,E),l.formats=function(i,g){var p=g.query(l.blotName);if(null==p||i.tagName!==p.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},l.prototype.format=function(i,g){var p=this.scroll.query(i,b.BLOCK);null!=p&&(p instanceof y?this.attributes.attribute(p,g):i!==this.statics.blotName||g?g&&(i!==this.statics.blotName||this.formats()[i]!==g)&&this.replaceWith(i,g):this.replaceWith(l.blotName))},l.prototype.formats=function(){var i=this.attributes.values(),g=this.statics.formats(this.domNode,this.scroll);return null!=g&&(i[this.statics.blotName]=g),i},l.prototype.formatAt=function(i,g,p,M){null!=this.scroll.query(p,b.BLOCK)?this.format(p,M):E.prototype.formatAt.call(this,i,g,p,M)},l.prototype.insertAt=function(i,g,p){if(null==p||null!=this.scroll.query(g,b.INLINE))E.prototype.insertAt.call(this,i,g,p);else{var M=this.split(i);if(null==M)throw new Error("Attempt to insertAt after block boundaries");var ut=this.scroll.create(g,p);M.parent.insertBefore(ut,M)}},l.prototype.replaceWith=function(i,g){var p=E.prototype.replaceWith.call(this,i,g);return this.attributes.copy(p),p},l.prototype.update=function(i,g){var p=this;E.prototype.update.call(this,i,g),i.some(function(ut){return ut.target===p.domNode&&"attributes"===ut.type})&&this.attributes.build()},l.blotName="block",l.scope=b.BLOCK_BLOT,l.tagName="P",l.allowedChildren=[H,l,u],l}(Z);const J=Y;var k=function(){var E=function(i,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,M){p.__proto__=M}||function(p,M){for(var ut in M)Object.prototype.hasOwnProperty.call(M,ut)&&(p[ut]=M[ut])})(i,g)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function g(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)}}(),lt=function(E){function l(){return null!==E&&E.apply(this,arguments)||this}return k(l,E),l.formats=function(i,g){},l.prototype.format=function(i,g){E.prototype.formatAt.call(this,0,this.length(),i,g)},l.prototype.formatAt=function(i,g,p,M){0===i&&g===this.length()?this.format(p,M):E.prototype.formatAt.call(this,i,g,p,M)},l.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},l}(u);const mt=lt;var Rt=function(){var E=function(i,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,M){p.__proto__=M}||function(p,M){for(var ut in M)Object.prototype.hasOwnProperty.call(M,ut)&&(p[ut]=M[ut])})(i,g)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function g(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)}}(),rt={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},_t=function(E){function l(i,g){var p=E.call(this,null,g)||this;return p.registry=i,p.scroll=p,p.build(),p.observer=new MutationObserver(function(M){p.update(M)}),p.observer.observe(p.domNode,rt),p.attach(),p}return Rt(l,E),l.prototype.create=function(i,g){return this.registry.create(this,i,g)},l.prototype.find=function(i,g){void 0===g&&(g=!1);var p=this.registry.find(i,g);return p?p.scroll===this?p:g?this.find(p.scroll.domNode.parentNode,!0):null:null},l.prototype.query=function(i,g){return void 0===g&&(g=b.ANY),this.registry.query(i,g)},l.prototype.register=function(){for(var i,g=[],p=0;p<arguments.length;p++)g[p]=arguments[p];return(i=this.registry).register.apply(i,g)},l.prototype.build=function(){null!=this.scroll&&E.prototype.build.call(this)},l.prototype.detach=function(){E.prototype.detach.call(this),this.observer.disconnect()},l.prototype.deleteAt=function(i,g){this.update(),0===i&&g===this.length()?this.children.forEach(function(p){p.remove()}):E.prototype.deleteAt.call(this,i,g)},l.prototype.formatAt=function(i,g,p,M){this.update(),E.prototype.formatAt.call(this,i,g,p,M)},l.prototype.insertAt=function(i,g,p){this.update(),E.prototype.insertAt.call(this,i,g,p)},l.prototype.optimize=function(i,g){var p=this;void 0===i&&(i=[]),void 0===g&&(g={}),E.prototype.optimize.call(this,g);for(var M=g.mutationsMap||new WeakMap,ut=Array.from(this.observer.takeRecords());ut.length>0;)i.push(ut.pop());for(var wt=function Xt(ee,bt){void 0===bt&&(bt=!0),null!=ee&&ee!==p&&null!=ee.domNode.parentNode&&(M.has(ee.domNode)||M.set(ee.domNode,[]),bt&&Xt(ee.parent))},Ft=function Xt(ee){M.has(ee.domNode)&&(ee instanceof Z&&ee.children.forEach(Xt),M.delete(ee.domNode),ee.optimize(g))},Pt=i,Kt=0;Pt.length>0;Kt+=1){if(Kt>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(Pt.forEach(function(Xt){var ee=p.find(Xt.target,!0);null!=ee&&(ee.domNode===Xt.target&&("childList"===Xt.type?(wt(p.find(Xt.previousSibling,!1)),Array.from(Xt.addedNodes).forEach(function(bt){var xt=p.find(bt,!1);wt(xt,!1),xt instanceof Z&&xt.children.forEach(function(Nt){wt(Nt,!1)})})):"attributes"===Xt.type&&wt(ee.prev)),wt(ee))}),this.children.forEach(Ft),ut=(Pt=Array.from(this.observer.takeRecords())).slice();ut.length>0;)i.push(ut.pop())}},l.prototype.update=function(i,g){var p=this;void 0===g&&(g={}),i=i||this.observer.takeRecords();var M=new WeakMap;i.map(function(ut){var wt=p.find(ut.target,!0);return null==wt?null:M.has(wt.domNode)?(M.get(wt.domNode).push(ut),null):(M.set(wt.domNode,[ut]),wt)}).forEach(function(ut){null!=ut&&ut!==p&&M.has(ut.domNode)&&ut.update(M.get(ut.domNode)||[],g)}),g.mutationsMap=M,M.has(this.domNode)&&E.prototype.update.call(this,M.get(this.domNode),g),this.optimize(i,g)},l.blotName="scroll",l.defaultChild=J,l.allowedChildren=[J,d],l.scope=b.BLOCK_BLOT,l.tagName="DIV",l}(Z);const tt=_t;var it=function(){var E=function(i,g){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,M){p.__proto__=M}||function(p,M){for(var ut in M)Object.prototype.hasOwnProperty.call(M,ut)&&(p[ut]=M[ut])})(i,g)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function g(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(g.prototype=i.prototype,new g)}}(),ct=function(E){function l(i,g){var p=E.call(this,i,g)||this;return p.text=p.statics.value(p.domNode),p}return it(l,E),l.create=function(i){return document.createTextNode(i)},l.value=function(i){return i.data},l.prototype.deleteAt=function(i,g){this.domNode.data=this.text=this.text.slice(0,i)+this.text.slice(i+g)},l.prototype.index=function(i,g){return this.domNode===i?g:-1},l.prototype.insertAt=function(i,g,p){null==p?(this.text=this.text.slice(0,i)+g+this.text.slice(i),this.domNode.data=this.text):E.prototype.insertAt.call(this,i,g,p)},l.prototype.length=function(){return this.text.length},l.prototype.optimize=function(i){E.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof l&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},l.prototype.position=function(i,g){return void 0===g&&(g=!1),[this.domNode,i]},l.prototype.split=function(i,g){if(void 0===g&&(g=!1),!g){if(0===i)return this;if(i===this.length())return this.next}var p=this.scroll.create(this.domNode.splitText(i));return this.parent.insertBefore(p,this.next||void 0),this.text=this.statics.value(this.domNode),p},l.prototype.update=function(i,g){var p=this;i.some(function(M){return"characterData"===M.type&&M.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},l.prototype.value=function(){return this.text},l.blotName="text",l.scope=b.INLINE_BLOT,l}(u);const Ot=ct},3034:function(B,C){"use strict";var n=Object.prototype.hasOwnProperty,v="~";function b(){}function O(W,N,A){this.fn=W,this.context=N,this.once=A||!1}function S(W,N,A,x,P){if("function"!=typeof A)throw new TypeError("The listener must be a function");var I=new O(A,x||W,P),K=v?v+N:N;return W._events[K]?W._events[K].fn?W._events[K]=[W._events[K],I]:W._events[K].push(I):(W._events[K]=I,W._eventsCount++),W}function U(W,N){0==--W._eventsCount?W._events=new b:delete W._events[N]}function F(){this._events=new b,this._eventsCount=0}Object.create&&(b.prototype=Object.create(null),(new b).__proto__||(v=!1)),F.prototype.eventNames=function(){var A,x,N=[];if(0===this._eventsCount)return N;for(x in A=this._events)n.call(A,x)&&N.push(v?x.slice(1):x);return Object.getOwnPropertySymbols?N.concat(Object.getOwnPropertySymbols(A)):N},F.prototype.listeners=function(N){var x=this._events[v?v+N:N];if(!x)return[];if(x.fn)return[x.fn];for(var P=0,I=x.length,K=new Array(I);P<I;P++)K[P]=x[P].fn;return K},F.prototype.listenerCount=function(N){var x=this._events[v?v+N:N];return x?x.fn?1:x.length:0},F.prototype.emit=function(N,A,x,P,I,K){var w=v?v+N:N;if(!this._events[w])return!1;var j,d,Z=this._events[w],z=arguments.length;if(Z.fn){switch(Z.once&&this.removeListener(N,Z.fn,void 0,!0),z){case 1:return Z.fn.call(Z.context),!0;case 2:return Z.fn.call(Z.context,A),!0;case 3:return Z.fn.call(Z.context,A,x),!0;case 4:return Z.fn.call(Z.context,A,x,P),!0;case 5:return Z.fn.call(Z.context,A,x,P,I),!0;case 6:return Z.fn.call(Z.context,A,x,P,I,K),!0}for(d=1,j=new Array(z-1);d<z;d++)j[d-1]=arguments[d];Z.fn.apply(Z.context,j)}else{var o,_=Z.length;for(d=0;d<_;d++)switch(Z[d].once&&this.removeListener(N,Z[d].fn,void 0,!0),z){case 1:Z[d].fn.call(Z[d].context);break;case 2:Z[d].fn.call(Z[d].context,A);break;case 3:Z[d].fn.call(Z[d].context,A,x);break;case 4:Z[d].fn.call(Z[d].context,A,x,P);break;default:if(!j)for(o=1,j=new Array(z-1);o<z;o++)j[o-1]=arguments[o];Z[d].fn.apply(Z[d].context,j)}}return!0},F.prototype.on=function(N,A,x){return S(this,N,A,x,!1)},F.prototype.once=function(N,A,x){return S(this,N,A,x,!0)},F.prototype.removeListener=function(N,A,x,P){var I=v?v+N:N;if(!this._events[I])return this;if(!A)return U(this,I),this;var K=this._events[I];if(K.fn)K.fn===A&&(!P||K.once)&&(!x||K.context===x)&&U(this,I);else{for(var w=0,Z=[],z=K.length;w<z;w++)(K[w].fn!==A||P&&!K[w].once||x&&K[w].context!==x)&&Z.push(K[w]);Z.length?this._events[I]=1===Z.length?Z[0]:Z:U(this,I)}return this},F.prototype.removeAllListeners=function(N){var A;return N?this._events[A=v?v+N:N]&&U(this,A):(this._events=new b,this._eventsCount=0),this},F.prototype.off=F.prototype.removeListener,F.prototype.addListener=F.prototype.on,F.prefixed=v,F.EventEmitter=F,typeof B<"u"&&(B.exports=F)},1456:B=>{var C=-1,n=1,v=0;function b(d,_,o,u){if(d===_)return d?[[v,d]]:[];if(null!=o){var f=function z(d,_,o){var u="number"==typeof o?{index:o,length:0}:o.oldRange,f="number"==typeof o?null:o.newRange,y=d.length,R=_.length;if(0===u.length&&(null===f||0===f.length)){var D=u.index,q=d.slice(0,D),et=d.slice(D),ft=f?f.index:null,ht=D+R-y;if(!(null!==ft&&ft!==ht||ht<0||ht>R)){var dt=_.slice(0,ht);if((ot=_.slice(ht))===et){var Et=Math.min(D,ht);if((X=q.slice(0,Et))===(vt=dt.slice(0,Et)))return Z(X,q.slice(Et),dt.slice(Et),et)}}if(null===ft||ft===D){var H=D,ot=(dt=_.slice(0,H),_.slice(H));if(dt===q){var T=Math.min(y-H,R-H);if((Y=et.slice(et.length-T))===(J=ot.slice(ot.length-T)))return Z(q,et.slice(0,et.length-T),ot.slice(0,ot.length-T),Y)}}}if(u.length>0&&f&&0===f.length){var X=d.slice(0,u.index),Y=d.slice(u.index+u.length);if(!(R<(Et=X.length)+(T=Y.length))){var vt=_.slice(0,Et),J=_.slice(R-T);if(X===vt&&Y===J)return Z(X,d.slice(Et,y-T),_.slice(Et,R-T),Y)}}return null}(d,_,o);if(f)return f}var y=F(d,_),R=d.substring(0,y);y=W(d=d.substring(y),_=_.substring(y));var D=d.substring(d.length-y),q=function O(d,_){var o;if(!d)return[[n,_]];if(!_)return[[C,d]];var u=d.length>_.length?d:_,f=d.length>_.length?_:d,y=u.indexOf(f);if(-1!==y)return o=[[n,u.substring(0,y)],[v,f],[n,u.substring(y+f.length)]],d.length>_.length&&(o[0][0]=o[2][0]=C),o;if(1===f.length)return[[C,d],[n,_]];var R=function N(d,_){var o=d.length>_.length?d:_,u=d.length>_.length?_:d;if(o.length<4||2*u.length<o.length)return null;function f(ot,Et,X){for(var H,T,Y,J,vt=ot.substring(X,X+Math.floor(ot.length/4)),st=-1,at="";-1!==(st=Et.indexOf(vt,st+1));){var k=F(ot.substring(X),Et.substring(st)),lt=W(ot.substring(0,X),Et.substring(0,st));at.length<lt+k&&(at=Et.substring(st-lt,st)+Et.substring(st,st+k),H=ot.substring(0,X-lt),T=ot.substring(X+k),Y=Et.substring(0,st-lt),J=Et.substring(st+k))}return 2*at.length>=ot.length?[H,T,Y,J,at]:null}var D,q,et,ft,ht,y=f(o,u,Math.ceil(o.length/4)),R=f(o,u,Math.ceil(o.length/2));return y||R?(D=R?y&&y[4].length>R[4].length?y:R:y,d.length>_.length?(q=D[0],et=D[1],ft=D[2],ht=D[3]):(ft=D[0],ht=D[1],q=D[2],et=D[3]),[q,et,ft,ht,D[4]]):null}(d,_);if(R){var q=R[1],ft=R[3],ht=R[4],dt=b(R[0],R[2]),ot=b(q,ft);return dt.concat([[v,ht]],ot)}return function S(d,_){for(var o=d.length,u=_.length,f=Math.ceil((o+u)/2),y=f,R=2*f,D=new Array(R),q=new Array(R),et=0;et<R;et++)D[et]=-1,q[et]=-1;D[y+1]=0,q[y+1]=0;for(var ft=o-u,ht=ft%2!=0,dt=0,ot=0,Et=0,X=0,vt=0;vt<f;vt++){for(var st=-vt+dt;st<=vt-ot;st+=2){for(var at=y+st,T=(H=st===-vt||st!==vt&&D[at-1]<D[at+1]?D[at+1]:D[at-1]+1)-st;H<o&&T<u&&d.charAt(H)===_.charAt(T);)H++,T++;if(D[at]=H,H>o)ot+=2;else if(T>u)dt+=2;else if(ht&&(Y=y+ft-st)>=0&&Y<R&&-1!==q[Y]&&H>=(J=o-q[Y]))return U(d,_,H,T)}for(var k=-vt+Et;k<=vt-X;k+=2){for(var J,Y=y+k,lt=(J=k===-vt||k!==vt&&q[Y-1]<q[Y+1]?q[Y+1]:q[Y-1]+1)-k;J<o&&lt<u&&d.charAt(o-J-1)===_.charAt(u-lt-1);)J++,lt++;if(q[Y]=J,J>o)X+=2;else if(lt>u)Et+=2;else if(!ht){var H;if((at=y+ft-k)>=0&&at<R&&-1!==D[at]&&(T=y+(H=D[at])-at,H>=(J=o-J)))return U(d,_,H,T)}}}return[[C,d],[n,_]]}(d,_)}(d=d.substring(0,d.length-y),_=_.substring(0,_.length-y));return R&&q.unshift([v,R]),D&&q.push([v,D]),A(q,u),q}function U(d,_,o,u){var f=d.substring(0,o),y=_.substring(0,u),R=d.substring(o),D=_.substring(u),q=b(f,y),et=b(R,D);return q.concat(et)}function F(d,_){if(!d||!_||d.charAt(0)!==_.charAt(0))return 0;for(var o=0,u=Math.min(d.length,_.length),f=u,y=0;o<f;)d.substring(y,f)==_.substring(y,f)?y=o=f:u=f,f=Math.floor((u-o)/2+o);return x(d.charCodeAt(f-1))&&f--,f}function W(d,_){if(!d||!_||d.slice(-1)!==_.slice(-1))return 0;for(var o=0,u=Math.min(d.length,_.length),f=u,y=0;o<f;)d.substring(d.length-f,d.length-y)==_.substring(_.length-f,_.length-y)?y=o=f:u=f,f=Math.floor((u-o)/2+o);return P(d.charCodeAt(d.length-f))&&f--,f}function A(d,_){d.push([v,""]);for(var D,o=0,u=0,f=0,y="",R="";o<d.length;)if(o<d.length-1&&!d[o][1])d.splice(o,1);else switch(d[o][0]){case n:f++,R+=d[o][1],o++;break;case C:u++,y+=d[o][1],o++;break;case v:var q=o-f-u-1;if(_){if(q>=0&&K(d[q][1])){var et=d[q][1].slice(-1);if(d[q][1]=d[q][1].slice(0,-1),y=et+y,R=et+R,!d[q][1]){d.splice(q,1),o--;var ft=q-1;d[ft]&&d[ft][0]===n&&(f++,R=d[ft][1]+R,ft--),d[ft]&&d[ft][0]===C&&(u++,y=d[ft][1]+y,ft--),q=ft}}I(d[o][1])&&(et=d[o][1].charAt(0),d[o][1]=d[o][1].slice(1),y+=et,R+=et)}if(o<d.length-1&&!d[o][1]){d.splice(o,1);break}if(y.length>0||R.length>0){y.length>0&&R.length>0&&(0!==(D=F(R,y))&&(q>=0?d[q][1]+=R.substring(0,D):(d.splice(0,0,[v,R.substring(0,D)]),o++),R=R.substring(D),y=y.substring(D)),0!==(D=W(R,y))&&(d[o][1]=R.substring(R.length-D)+d[o][1],R=R.substring(0,R.length-D),y=y.substring(0,y.length-D)));var ht=f+u;0===y.length&&0===R.length?(d.splice(o-ht,ht),o-=ht):0===y.length?(d.splice(o-ht,ht,[n,R]),o=o-ht+1):0===R.length?(d.splice(o-ht,ht,[C,y]),o=o-ht+1):(d.splice(o-ht,ht,[C,y],[n,R]),o=o-ht+2)}0!==o&&d[o-1][0]===v?(d[o-1][1]+=d[o][1],d.splice(o,1)):o++,f=0,u=0,y="",R=""}""===d[d.length-1][1]&&d.pop();var dt=!1;for(o=1;o<d.length-1;)d[o-1][0]===v&&d[o+1][0]===v&&(d[o][1].substring(d[o][1].length-d[o-1][1].length)===d[o-1][1]?(d[o][1]=d[o-1][1]+d[o][1].substring(0,d[o][1].length-d[o-1][1].length),d[o+1][1]=d[o-1][1]+d[o+1][1],d.splice(o-1,1),dt=!0):d[o][1].substring(0,d[o+1][1].length)==d[o+1][1]&&(d[o-1][1]+=d[o+1][1],d[o][1]=d[o][1].substring(d[o+1][1].length)+d[o+1][1],d.splice(o+1,1),dt=!0)),o++;dt&&A(d,_)}function x(d){return d>=55296&&d<=56319}function P(d){return d>=56320&&d<=57343}function I(d){return P(d.charCodeAt(0))}function K(d){return x(d.charCodeAt(d.length-1))}function Z(d,_,o,u){return K(d)||I(u)?null:function w(d){for(var _=[],o=0;o<d.length;o++)d[o][1].length>0&&_.push(d[o]);return _}([[v,d],[C,_],[n,o],[v,u]])}function j(d,_,o){return b(d,_,o,!0)}j.INSERT=n,j.DELETE=C,j.EQUAL=v,B.exports=j},8805:(B,C,n)=>{B=n.nmd(B);var b="__lodash_hash_undefined__",O=9007199254740991,S="[object Arguments]",F="[object Boolean]",W="[object Date]",A="[object Function]",x="[object GeneratorFunction]",P="[object Map]",I="[object Number]",K="[object Object]",w="[object Promise]",Z="[object RegExp]",z="[object Set]",j="[object String]",d="[object Symbol]",_="[object WeakMap]",o="[object ArrayBuffer]",u="[object DataView]",f="[object Float32Array]",y="[object Float64Array]",R="[object Int8Array]",D="[object Int16Array]",q="[object Int32Array]",et="[object Uint8Array]",ft="[object Uint8ClampedArray]",ht="[object Uint16Array]",dt="[object Uint32Array]",Et=/\w*$/,X=/^\[object .+?Constructor\]$/,vt=/^(?:0|[1-9]\d*)$/,st={};st[S]=st["[object Array]"]=st[o]=st[u]=st[F]=st[W]=st[f]=st[y]=st[R]=st[D]=st[q]=st[P]=st[I]=st[K]=st[Z]=st[z]=st[j]=st[d]=st[et]=st[ft]=st[ht]=st[dt]=!0,st["[object Error]"]=st[A]=st[_]=!1;var H="object"==typeof self&&self&&self.Object===Object&&self,T="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g||H||Function("return this")(),Y=C&&!C.nodeType&&C,J=Y&&B&&!B.nodeType&&B,k=J&&J.exports===Y;function lt(h,$){return h.set($[0],$[1]),h}function mt(h,$){return h.add($),h}function Q(h,$,m,V){var Ct=-1,Bt=h?h.length:0;for(V&&Bt&&(m=h[++Ct]);++Ct<Bt;)m=$(m,h[Ct],Ct,h);return m}function it(h){var $=!1;if(null!=h&&"function"!=typeof h.toString)try{$=!!(h+"")}catch{}return $}function ct(h){var $=-1,m=Array(h.size);return h.forEach(function(V,Ct){m[++$]=[Ct,V]}),m}function Ot(h,$){return function(m){return h($(m))}}function E(h){var $=-1,m=Array(h.size);return h.forEach(function(V){m[++$]=V}),m}var h,l=Array.prototype,i=Function.prototype,g=Object.prototype,p=T["__core-js_shared__"],M=(h=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",ut=i.toString,wt=g.hasOwnProperty,Ft=g.toString,Pt=RegExp("^"+ut.call(wt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kt=k?T.Buffer:void 0,Xt=T.Symbol,ee=T.Uint8Array,bt=Ot(Object.getPrototypeOf,Object),xt=Object.create,Nt=g.propertyIsEnumerable,jt=l.splice,kt=Object.getOwnPropertySymbols,Wt=Kt?Kt.isBuffer:void 0,Ut=Ot(Object.keys,Object),$t=Re(T,"DataView"),Gt=Re(T,"Map"),le=Re(T,"Promise"),fe=Re(T,"Set"),me=Re(T,"WeakMap"),be=Re(Object,"create"),Le=Ae($t),ye=Ae(Gt),gt=Ae(le),At=Ae(fe),Tt=Ae(me),Mt=Xt?Xt.prototype:void 0,Lt=Mt?Mt.valueOf:void 0;function It(h){var $=-1,m=h?h.length:0;for(this.clear();++$<m;){var V=h[$];this.set(V[0],V[1])}}function ae(h){var $=-1,m=h?h.length:0;for(this.clear();++$<m;){var V=h[$];this.set(V[0],V[1])}}function Ce(h){var $=-1,m=h?h.length:0;for(this.clear();++$<m;){var V=h[$];this.set(V[0],V[1])}}function pe(h){this.__data__=new ae(h)}function De(h,$,m){var V=h[$];(!wt.call(h,$)||!br(V,m)||void 0===m&&!($ in h))&&(h[$]=m)}function We(h,$){for(var m=h.length;m--;)if(br(h[m][0],$))return m;return-1}function Se(h,$,m,V,Ct,Bt,Yt){var re;if(V&&(re=Bt?V(h,Ct,Bt,Yt):V(h)),void 0!==re)return re;if(!Ge(h))return h;var ce=Tr(h);if(ce){if(re=function cr(h){var $=h.length,m=h.constructor($);return $&&"string"==typeof h[0]&&wt.call(h,"index")&&(m.index=h.index,m.input=h.input),m}(h),!$)return function Gr(h,$){var m=-1,V=h.length;for($||($=Array(V));++m<V;)$[m]=h[m];return $}(h,re)}else{var Jt=ur(h),he=Jt==A||Jt==x;if(rr(h))return function Cr(h,$){if($)return h.slice();var m=new h.constructor(h.length);return h.copy(m),m}(h,$);if(Jt==K||Jt==S||he&&!Bt){if(it(h))return Bt?h:{};if(re=function tr(h){return"function"!=typeof h.constructor||He(h)?{}:function je(h){return Ge(h)?xt(h):{}}(bt(h))}(he?{}:h),!$)return function Ir(h,$){return Qe(h,Ke(h),$)}(h,function ke(h,$){return h&&Qe($,hr($),h)}(re,h))}else{if(!st[Jt])return Bt?h:{};re=function Lr(h,$,m,V){var Ct=h.constructor;switch($){case o:return ze(h);case F:case W:return new Ct(+h);case u:return function sr(h,$){var m=$?ze(h.buffer):h.buffer;return new h.constructor(m,h.byteOffset,h.byteLength)}(h,V);case f:case y:case R:case D:case q:case et:case ft:case ht:case dt:return function gr(h,$){var m=$?ze(h.buffer):h.buffer;return new h.constructor(m,h.byteOffset,h.length)}(h,V);case P:return function jr(h,$,m){return Q($?m(ct(h),!0):ct(h),lt,new h.constructor)}(h,V,m);case I:case j:return new Ct(h);case Z:return function Fr(h){var $=new h.constructor(h.source,Et.exec(h));return $.lastIndex=h.lastIndex,$}(h);case z:return function Ur(h,$,m){return Q($?m(E(h),!0):E(h),mt,new h.constructor)}(h,V,m);case d:return function or(h){return Lt?Object(Lt.call(h)):{}}(h)}}(h,Jt,Se,$)}}Yt||(Yt=new pe);var ge=Yt.get(h);if(ge)return ge;if(Yt.set(h,re),!ce)var ve=m?function qr(h){return function Rr(h,$,m){var V=$(h);return Tr(h)?V:function rt(h,$){for(var m=-1,V=$.length,Ct=h.length;++m<V;)h[Ct+m]=$[m];return h}(V,m(h))}(h,hr,Ke)}(h):hr(h);return function Rt(h,$){for(var m=-1,V=h?h.length:0;++m<V&&!1!==$(h[m],m,h););}(ve||h,function(we,Te){ve&&(we=h[Te=we]),De(re,Te,Se(we,$,m,V,Te,h,Yt))}),re}function ze(h){var $=new h.constructor(h.byteLength);return new ee($).set(new ee(h)),$}function Qe(h,$,m,V){m||(m={});for(var Ct=-1,Bt=$.length;++Ct<Bt;){var Yt=$[Ct],re=V?V(m[Yt],h[Yt],Yt,m,h):void 0;De(m,Yt,void 0===re?h[Yt]:re)}return m}function Je(h,$){var m=h.__data__;return function Fe(h){var $=typeof h;return"string"==$||"number"==$||"symbol"==$||"boolean"==$?"__proto__"!==h:null===h}($)?m["string"==typeof $?"string":"hash"]:m.map}function Re(h,$){var m=function tt(h,$){return h?.[$]}(h,$);return function kr(h){return!(!Ge(h)||function yr(h){return!!M&&M in h}(h))&&(ar(h)||it(h)?Pt:X).test(Ae(h))}(m)?m:void 0}It.prototype.clear=function Ht(){this.__data__=be?be(null):{}},It.prototype.delete=function qt(h){return this.has(h)&&delete this.__data__[h]},It.prototype.get=function oe(h){var $=this.__data__;if(be){var m=$[h];return m===b?void 0:m}return wt.call($,h)?$[h]:void 0},It.prototype.has=function se(h){var $=this.__data__;return be?void 0!==$[h]:wt.call($,h)},It.prototype.set=function ue(h,$){return this.__data__[h]=be&&void 0===$?b:$,this},ae.prototype.clear=function Ee(){this.__data__=[]},ae.prototype.delete=function $e(h){var $=this.__data__,m=We($,h);return!(m<0||(m==$.length-1?$.pop():jt.call($,m,1),0))},ae.prototype.get=function Ye(h){var $=this.__data__,m=We($,h);return m<0?void 0:$[m][1]},ae.prototype.has=function vr(h){return We(this.__data__,h)>-1},ae.prototype.set=function lr(h,$){var m=this.__data__,V=We(m,h);return V<0?m.push([h,$]):m[V][1]=$,this},Ce.prototype.clear=function Mr(){this.__data__={hash:new It,map:new(Gt||ae),string:new It}},Ce.prototype.delete=function Vr(h){return Je(this,h).delete(h)},Ce.prototype.get=function wr(h){return Je(this,h).get(h)},Ce.prototype.has=function Br(h){return Je(this,h).has(h)},Ce.prototype.set=function mr(h,$){return Je(this,h).set(h,$),this},pe.prototype.clear=function Ar(){this.__data__=new ae},pe.prototype.delete=function Ze(h){return this.__data__.delete(h)},pe.prototype.get=function Or(h){return this.__data__.get(h)},pe.prototype.has=function xr(h){return this.__data__.has(h)},pe.prototype.set=function Dr(h,$){var m=this.__data__;if(m instanceof ae){var V=m.__data__;if(!Gt||V.length<199)return V.push([h,$]),this;m=this.__data__=new Ce(V)}return m.set(h,$),this};var Ke=kt?Ot(kt,Object):function Yr(){return[]},ur=function Xe(h){return Ft.call(h)};function fr(h,$){return!!($=$??O)&&("number"==typeof h||vt.test(h))&&h>-1&&h%1==0&&h<$}function He(h){var $=h&&h.constructor;return h===("function"==typeof $&&$.prototype||g)}function Ae(h){if(null!=h){try{return ut.call(h)}catch{}try{return h+""}catch{}}return""}function br(h,$){return h===$||h!=h&&$!=$}($t&&ur(new $t(new ArrayBuffer(1)))!=u||Gt&&ur(new Gt)!=P||le&&ur(le.resolve())!=w||fe&&ur(new fe)!=z||me&&ur(new me)!=_)&&(ur=function(h){var $=Ft.call(h),m=$==K?h.constructor:void 0,V=m?Ae(m):void 0;if(V)switch(V){case Le:return u;case ye:return P;case gt:return w;case At:return z;case Tt:return _}return $});var Tr=Array.isArray;function er(h){return null!=h&&function _r(h){return"number"==typeof h&&h>-1&&h%1==0&&h<=O}(h.length)&&!ar(h)}var rr=Wt||function $r(){return!1};function ar(h){var $=Ge(h)?Ft.call(h):"";return $==A||$==x}function Ge(h){var $=typeof h;return!!h&&("object"==$||"function"==$)}function hr(h){return er(h)?function ir(h,$){var m=Tr(h)||function Ve(h){return function Zr(h){return function Hr(h){return!!h&&"object"==typeof h}(h)&&er(h)}(h)&&wt.call(h,"callee")&&(!Nt.call(h,"callee")||Ft.call(h)==S)}(h)?function _t(h,$){for(var m=-1,V=Array(h);++m<h;)V[m]=$(m);return V}(h.length,String):[],V=m.length,Ct=!!V;for(var Bt in h)($||wt.call(h,Bt))&&(!Ct||"length"!=Bt&&!fr(Bt,V))&&m.push(Bt);return m}(h):function Er(h){if(!He(h))return Ut(h);var $=[];for(var m in Object(h))wt.call(h,m)&&"constructor"!=m&&$.push(m);return $}(h)}B.exports=function Sr(h){return Se(h,!0,!0)}},2722:(B,C,n)=>{B=n.nmd(B);var b="__lodash_hash_undefined__",O=1,S=2,U=9007199254740991,F="[object Arguments]",W="[object Array]",N="[object AsyncFunction]",A="[object Boolean]",x="[object Date]",P="[object Error]",I="[object Function]",K="[object GeneratorFunction]",w="[object Map]",Z="[object Number]",z="[object Null]",j="[object Object]",d="[object Promise]",_="[object Proxy]",o="[object RegExp]",u="[object Set]",f="[object String]",R="[object Undefined]",D="[object WeakMap]",q="[object ArrayBuffer]",et="[object DataView]",T=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,J={};J["[object Float32Array]"]=J["[object Float64Array]"]=J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0,J[F]=J[W]=J[q]=J[A]=J[et]=J[x]=J[P]=J[I]=J[w]=J[Z]=J[j]=J[o]=J[u]=J[f]=J[D]=!1;var k="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,lt="object"==typeof self&&self&&self.Object===Object&&self,mt=k||lt||Function("return this")(),Rt=C&&!C.nodeType&&C,rt=Rt&&B&&!B.nodeType&&B,Q=rt&&rt.exports===Rt,_t=Q&&k.process,tt=function(){try{return _t&&_t.binding&&_t.binding("util")}catch{}}(),it=tt&&tt.isTypedArray;function E(h,$){for(var m=-1,V=null==h?0:h.length;++m<V;)if($(h[m],m,h))return!0;return!1}function g(h,$){return h.has($)}function M(h){var $=-1,m=Array(h.size);return h.forEach(function(V,Ct){m[++$]=[Ct,V]}),m}function wt(h){var $=-1,m=Array(h.size);return h.forEach(function(V){m[++$]=V}),m}var h,Ft=Array.prototype,Kt=Object.prototype,Xt=mt["__core-js_shared__"],ee=Function.prototype.toString,bt=Kt.hasOwnProperty,xt=(h=/[^.]+$/.exec(Xt&&Xt.keys&&Xt.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",Nt=Kt.toString,jt=RegExp("^"+ee.call(bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=Q?mt.Buffer:void 0,Wt=mt.Symbol,Ut=mt.Uint8Array,$t=Kt.propertyIsEnumerable,Gt=Ft.splice,le=Wt?Wt.toStringTag:void 0,fe=Object.getOwnPropertySymbols,me=kt?kt.isBuffer:void 0,be=function ut(h,$){return function(m){return h($(m))}}(Object.keys,Object),Le=Ke(mt,"DataView"),ye=Ke(mt,"Map"),gt=Ke(mt,"Promise"),At=Ke(mt,"Set"),Tt=Ke(mt,"WeakMap"),Mt=Ke(Object,"create"),Lt=Ae(Le),It=Ae(ye),Ht=Ae(gt),qt=Ae(At),oe=Ae(Tt),se=Wt?Wt.prototype:void 0,ue=se?se.valueOf:void 0;function ae(h){var $=-1,m=null==h?0:h.length;for(this.clear();++$<m;){var V=h[$];this.set(V[0],V[1])}}function Ce(h){var $=-1,m=null==h?0:h.length;for(this.clear();++$<m;){var V=h[$];this.set(V[0],V[1])}}function pe(h){var $=-1,m=null==h?0:h.length;for(this.clear();++$<m;){var V=h[$];this.set(V[0],V[1])}}function ir(h){var $=-1,m=null==h?0:h.length;for(this.__data__=new pe;++$<m;)this.add(h[$])}function ke(h){var $=this.__data__=new Ce(h);this.size=$.size}function Cr(h,$){for(var m=h.length;m--;)if(Sr(h[m][0],$))return m;return-1}function sr(h){return null==h?void 0===h?R:z:le&&le in Object(h)?function ur(h){var $=bt.call(h,le),m=h[le];try{h[le]=void 0;var V=!0}catch{}var Ct=Nt.call(h);return V&&($?h[le]=m:delete h[le]),Ct}(h):function He(h){return Nt.call(h)}(h)}function jr(h){return Ge(h)&&sr(h)==F}function Fr(h,$,m,V,Ct){return h===$||(null==h||null==$||!Ge(h)&&!Ge($)?h!=h&&$!=$:function Ur(h,$,m,V,Ct,Bt){var Yt=Ve(h),re=Ve($),ce=Yt?W:tr(h),Jt=re?W:tr($),he=(ce=ce==F?j:ce)==j,ge=(Jt=Jt==F?j:Jt)==j,ve=ce==Jt;if(ve&&er(h)){if(!er($))return!1;Yt=!0,he=!1}if(ve&&!he)return Bt||(Bt=new ke),Yt||Hr(h)?Qe(h,$,m,V,Ct,Bt):function Ir(h,$,m,V,Ct,Bt,Yt){switch(m){case et:if(h.byteLength!=$.byteLength||h.byteOffset!=$.byteOffset)return!1;h=h.buffer,$=$.buffer;case q:return!(h.byteLength!=$.byteLength||!Bt(new Ut(h),new Ut($)));case A:case x:case Z:return Sr(+h,+$);case P:return h.name==$.name&&h.message==$.message;case o:case f:return h==$+"";case w:var re=M;case u:if(re||(re=wt),h.size!=$.size&&!(V&O))return!1;var Jt=Yt.get(h);if(Jt)return Jt==$;V|=S,Yt.set(h,$);var he=Qe(re(h),re($),V,Ct,Bt,Yt);return Yt.delete(h),he;case"[object Symbol]":if(ue)return ue.call(h)==ue.call($)}return!1}(h,$,ce,m,V,Ct,Bt);if(!(m&O)){var we=he&&bt.call(h,"__wrapped__"),Te=ge&&bt.call($,"__wrapped__");if(we||Te){var nr=we?h.value():h,qe=Te?$.value():$;return Bt||(Bt=new ke),Ct(nr,qe,m,V,Bt)}}return!!ve&&(Bt||(Bt=new ke),function qr(h,$,m,V,Ct,Bt){var Yt=m&O,re=Je(h),ce=re.length;if(ce!=Je($).length&&!Yt)return!1;for(var ge=ce;ge--;){var ve=re[ge];if(!(Yt?ve in $:bt.call($,ve)))return!1}var we=Bt.get(h);if(we&&Bt.get($))return we==$;var Te=!0;Bt.set(h,$),Bt.set($,h);for(var nr=Yt;++ge<ce;){var qe=h[ve=re[ge]],Nr=$[ve];if(V)var an=Yt?V(Nr,qe,ve,$,h,Bt):V(qe,Nr,ve,h,$,Bt);if(!(void 0===an?qe===Nr||Ct(qe,Nr,m,V,Bt):an)){Te=!1;break}nr||(nr="constructor"==ve)}if(Te&&!nr){var dr=h.constructor,Wr=$.constructor;dr!=Wr&&"constructor"in h&&"constructor"in $&&!("function"==typeof dr&&dr instanceof dr&&"function"==typeof Wr&&Wr instanceof Wr)&&(Te=!1)}return Bt.delete(h),Bt.delete($),Te}(h,$,m,V,Ct,Bt))}(h,$,m,V,Fr,Ct))}function Qe(h,$,m,V,Ct,Bt){var Yt=m&O,re=h.length,ce=$.length;if(re!=ce&&!(Yt&&ce>re))return!1;var Jt=Bt.get(h);if(Jt&&Bt.get($))return Jt==$;var he=-1,ge=!0,ve=m&S?new ir:void 0;for(Bt.set(h,$),Bt.set($,h);++he<re;){var we=h[he],Te=$[he];if(V)var nr=Yt?V(Te,we,he,$,h,Bt):V(we,Te,he,h,$,Bt);if(void 0!==nr){if(nr)continue;ge=!1;break}if(ve){if(!E($,function(qe,Nr){if(!g(ve,Nr)&&(we===qe||Ct(we,qe,m,V,Bt)))return ve.push(Nr)})){ge=!1;break}}else if(we!==Te&&!Ct(we,Te,m,V,Bt)){ge=!1;break}}return Bt.delete(h),Bt.delete($),ge}function Je(h){return function ze(h,$,m){var V=$(h);return Ve(h)?V:function Ot(h,$){for(var m=-1,V=$.length,Ct=h.length;++m<V;)h[Ct+m]=$[m];return h}(V,m(h))}(h,hr,cr)}function Re(h,$){var m=h.__data__;return function fr(h){var $=typeof h;return"string"==$||"number"==$||"symbol"==$||"boolean"==$?"__proto__"!==h:null===h}($)?m["string"==typeof $?"string":"hash"]:m.map}function Ke(h,$){var m=function p(h,$){return h?.[$]}(h,$);return function or(h){return!(!_r(h)||function Fe(h){return!!xt&&xt in h}(h))&&(rr(h)?jt:T).test(Ae(h))}(m)?m:void 0}ae.prototype.clear=function Ee(){this.__data__=Mt?Mt(null):{},this.size=0},ae.prototype.delete=function $e(h){var $=this.has(h)&&delete this.__data__[h];return this.size-=$?1:0,$},ae.prototype.get=function Ye(h){var $=this.__data__;if(Mt){var m=$[h];return m===b?void 0:m}return bt.call($,h)?$[h]:void 0},ae.prototype.has=function vr(h){var $=this.__data__;return Mt?void 0!==$[h]:bt.call($,h)},ae.prototype.set=function lr(h,$){var m=this.__data__;return this.size+=this.has(h)?0:1,m[h]=Mt&&void 0===$?b:$,this},Ce.prototype.clear=function Mr(){this.__data__=[],this.size=0},Ce.prototype.delete=function Vr(h){var $=this.__data__,m=Cr($,h);return!(m<0||(m==$.length-1?$.pop():Gt.call($,m,1),--this.size,0))},Ce.prototype.get=function wr(h){var $=this.__data__,m=Cr($,h);return m<0?void 0:$[m][1]},Ce.prototype.has=function Br(h){return Cr(this.__data__,h)>-1},Ce.prototype.set=function mr(h,$){var m=this.__data__,V=Cr(m,h);return V<0?(++this.size,m.push([h,$])):m[V][1]=$,this},pe.prototype.clear=function Ar(){this.size=0,this.__data__={hash:new ae,map:new(ye||Ce),string:new ae}},pe.prototype.delete=function Ze(h){var $=Re(this,h).delete(h);return this.size-=$?1:0,$},pe.prototype.get=function Or(h){return Re(this,h).get(h)},pe.prototype.has=function xr(h){return Re(this,h).has(h)},pe.prototype.set=function Dr(h,$){var m=Re(this,h),V=m.size;return m.set(h,$),this.size+=m.size==V?0:1,this},ir.prototype.add=ir.prototype.push=function De(h){return this.__data__.set(h,b),this},ir.prototype.has=function We(h){return this.__data__.has(h)},ke.prototype.clear=function Se(){this.__data__=new Ce,this.size=0},ke.prototype.delete=function je(h){var $=this.__data__,m=$.delete(h);return this.size=$.size,m},ke.prototype.get=function Rr(h){return this.__data__.get(h)},ke.prototype.has=function Xe(h){return this.__data__.has(h)},ke.prototype.set=function kr(h,$){var m=this.__data__;if(m instanceof Ce){var V=m.__data__;if(!ye||V.length<199)return V.push([h,$]),this.size=++m.size,this;m=this.__data__=new pe(V)}return m.set(h,$),this.size=m.size,this};var cr=fe?function(h){return null==h?[]:(h=Object(h),function ct(h,$){for(var m=-1,V=null==h?0:h.length,Ct=0,Bt=[];++m<V;){var Yt=h[m];$(Yt,m,h)&&(Bt[Ct++]=Yt)}return Bt}(fe(h),function($){return $t.call(h,$)}))}:function Yr(){return[]},tr=sr;function Lr(h,$){return!!($=$??U)&&("number"==typeof h||Y.test(h))&&h>-1&&h%1==0&&h<$}function Ae(h){if(null!=h){try{return ee.call(h)}catch{}try{return h+""}catch{}}return""}function Sr(h,$){return h===$||h!=h&&$!=$}(Le&&tr(new Le(new ArrayBuffer(1)))!=et||ye&&tr(new ye)!=w||gt&&tr(gt.resolve())!=d||At&&tr(new At)!=u||Tt&&tr(new Tt)!=D)&&(tr=function(h){var $=sr(h),m=$==j?h.constructor:void 0,V=m?Ae(m):"";if(V)switch(V){case Lt:return et;case It:return w;case Ht:return d;case qt:return u;case oe:return D}return $});var br=jr(function(){return arguments}())?jr:function(h){return Ge(h)&&bt.call(h,"callee")&&!$t.call(h,"callee")},Ve=Array.isArray,er=me||function $r(){return!1};function rr(h){if(!_r(h))return!1;var $=sr(h);return $==I||$==K||$==N||$==_}function ar(h){return"number"==typeof h&&h>-1&&h%1==0&&h<=U}function _r(h){var $=typeof h;return null!=h&&("object"==$||"function"==$)}function Ge(h){return null!=h&&"object"==typeof h}var Hr=it?function i(h){return function($){return h($)}}(it):function gr(h){return Ge(h)&&ar(h.length)&&!!J[sr(h)]};function hr(h){return function Tr(h){return null!=h&&ar(h.length)&&!rr(h)}(h)?function Er(h,$){var m=Ve(h),V=!m&&br(h),Ct=!m&&!V&&er(h),Bt=!m&&!V&&!Ct&&Hr(h),Yt=m||V||Ct||Bt,re=Yt?function l(h,$){for(var m=-1,V=Array(h);++m<h;)V[m]=$(m);return V}(h.length,String):[],ce=re.length;for(var Jt in h)($||bt.call(h,Jt))&&(!Yt||!("length"==Jt||Ct&&("offset"==Jt||"parent"==Jt)||Bt&&("buffer"==Jt||"byteLength"==Jt||"byteOffset"==Jt)||Lr(Jt,ce)))&&re.push(Jt);return re}(h):function Gr(h){if(!function yr(h){var $=h&&h.constructor;return h===("function"==typeof $&&$.prototype||Kt)}(h))return be(h);var $=[];for(var m in Object(h))bt.call(h,m)&&"constructor"!=m&&$.push(m);return $}(h)}B.exports=function Zr(h,$){return Fr(h,$)}},732:(B,C,n)=>{B=n.nmd(B);var b="__lodash_hash_undefined__",U=9007199254740991,F="[object Arguments]",N="[object AsyncFunction]",I="[object Function]",K="[object GeneratorFunction]",z="[object Null]",j="[object Object]",d="[object Proxy]",f="[object Undefined]",at=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,T={};T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T[F]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object Boolean]"]=T["[object DataView]"]=T["[object Date]"]=T["[object Error]"]=T[I]=T["[object Map]"]=T["[object Number]"]=T[j]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object WeakMap]"]=!1;var m,Y="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,J="object"==typeof self&&self&&self.Object===Object&&self,k=Y||J||Function("return this")(),lt=C&&!C.nodeType&&C,mt=lt&&B&&!B.nodeType&&B,Rt=mt&&mt.exports===lt,rt=Rt&&Y.process,Q=function(){try{return mt&&mt.require&&mt.require("util").types||rt&&rt.binding&&rt.binding("util")}catch{}}(),_t=Q&&Q.isTypedArray,l=Array.prototype,g=Object.prototype,p=k["__core-js_shared__"],M=Function.prototype.toString,ut=g.hasOwnProperty,wt=(m=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",Ft=g.toString,Pt=M.call(Object),Kt=RegExp("^"+M.call(ut).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xt=Rt?k.Buffer:void 0,ee=k.Symbol,bt=k.Uint8Array,xt=Xt?Xt.allocUnsafe:void 0,Nt=function E(m,V){return function(Ct){return m(V(Ct))}}(Object.getPrototypeOf,Object),jt=Object.create,kt=g.propertyIsEnumerable,Wt=l.splice,Ut=ee?ee.toStringTag:void 0,$t=function(){try{var m=gr(Object,"defineProperty");return m({},"",{}),m}catch{}}(),Gt=Xt?Xt.isBuffer:void 0,le=Math.max,fe=Date.now,me=gr(k,"Map"),be=gr(Object,"create"),Le=function(){function m(){}return function(V){if(!rr(V))return{};if(jt)return jt(V);m.prototype=V;var Ct=new m;return m.prototype=void 0,Ct}}();function ye(m){var V=-1,Ct=null==m?0:m.length;for(this.clear();++V<Ct;){var Bt=m[V];this.set(Bt[0],Bt[1])}}function It(m){var V=-1,Ct=null==m?0:m.length;for(this.clear();++V<Ct;){var Bt=m[V];this.set(Bt[0],Bt[1])}}function ae(m){var V=-1,Ct=null==m?0:m.length;for(this.clear();++V<Ct;){var Bt=m[V];this.set(Bt[0],Bt[1])}}function Ce(m){var V=this.__data__=new It(m);this.size=V.size}function Ar(m,V,Ct){(void 0!==Ct&&!He(m[V],Ct)||void 0===Ct&&!(V in m))&&xr(m,V,Ct)}function Ze(m,V,Ct){var Bt=m[V];(!ut.call(m,V)||!He(Bt,Ct)||void 0===Ct&&!(V in m))&&xr(m,V,Ct)}function Or(m,V){for(var Ct=m.length;Ct--;)if(He(m[Ct][0],V))return Ct;return-1}function xr(m,V,Ct){"__proto__"==V&&$t?$t(m,V,{configurable:!0,enumerable:!0,value:Ct,writable:!0}):m[V]=Ct}ye.prototype.clear=function gt(){this.__data__=be?be(null):{},this.size=0},ye.prototype.delete=function At(m){var V=this.has(m)&&delete this.__data__[m];return this.size-=V?1:0,V},ye.prototype.get=function Tt(m){var V=this.__data__;if(be){var Ct=V[m];return Ct===b?void 0:Ct}return ut.call(V,m)?V[m]:void 0},ye.prototype.has=function Mt(m){var V=this.__data__;return be?void 0!==V[m]:ut.call(V,m)},ye.prototype.set=function Lt(m,V){var Ct=this.__data__;return this.size+=this.has(m)?0:1,Ct[m]=be&&void 0===V?b:V,this},It.prototype.clear=function Ht(){this.__data__=[],this.size=0},It.prototype.delete=function qt(m){var V=this.__data__,Ct=Or(V,m);return!(Ct<0||(Ct==V.length-1?V.pop():Wt.call(V,Ct,1),--this.size,0))},It.prototype.get=function oe(m){var V=this.__data__,Ct=Or(V,m);return Ct<0?void 0:V[Ct][1]},It.prototype.has=function se(m){return Or(this.__data__,m)>-1},It.prototype.set=function ue(m,V){var Ct=this.__data__,Bt=Or(Ct,m);return Bt<0?(++this.size,Ct.push([m,V])):Ct[Bt][1]=V,this},ae.prototype.clear=function Ee(){this.size=0,this.__data__={hash:new ye,map:new(me||It),string:new ye}},ae.prototype.delete=function $e(m){var V=or(this,m).delete(m);return this.size-=V?1:0,V},ae.prototype.get=function Ye(m){return or(this,m).get(m)},ae.prototype.has=function vr(m){return or(this,m).has(m)},ae.prototype.set=function lr(m,V){var Ct=or(this,m),Bt=Ct.size;return Ct.set(m,V),this.size+=Ct.size==Bt?0:1,this},Ce.prototype.clear=function Mr(){this.__data__=new It,this.size=0},Ce.prototype.delete=function Vr(m){var V=this.__data__,Ct=V.delete(m);return this.size=V.size,Ct},Ce.prototype.get=function wr(m){return this.__data__.get(m)},Ce.prototype.has=function Br(m){return this.__data__.has(m)},Ce.prototype.set=function mr(m,V){var Ct=this.__data__;if(Ct instanceof It){var Bt=Ct.__data__;if(!me||Bt.length<199)return Bt.push([m,V]),this.size=++Ct.size,this;Ct=this.__data__=new ae(Bt)}return Ct.set(m,V),this.size=Ct.size,this};var Dr=function Ur(m){return function(V,Ct,Bt){for(var Yt=-1,re=Object(V),ce=Bt(V),Jt=ce.length;Jt--;){var he=ce[m?Jt:++Yt];if(!1===Ct(re[he],he,re))break}return V}}();function ir(m){return null==m?void 0===m?f:z:Ut&&Ut in Object(m)?function Gr(m){var V=ut.call(m,Ut),Ct=m[Ut];try{m[Ut]=void 0;var Bt=!0}catch{}var Yt=Ft.call(m);return Bt&&(V?m[Ut]=Ct:delete m[Ut]),Yt}(m):function cr(m){return Ft.call(m)}(m)}function De(m){return ar(m)&&ir(m)==F}function je(m,V,Ct,Bt,Yt){m!==V&&Dr(V,function(re,ce){if(Yt||(Yt=new Ce),rr(re))!function Rr(m,V,Ct,Bt,Yt,re,ce){var Jt=Lr(m,Ct),he=Lr(V,Ct),ge=ce.get(he);if(ge)Ar(m,Ct,ge);else{var ve=re?re(Jt,he,Ct+"",m,V,ce):void 0,we=void 0===ve;if(we){var Te=Sr(he),nr=!Te&&Tr(he),qe=!Te&&!nr&&Ge(he);ve=he,Te||nr||qe?Sr(Jt)?ve=Jt:function Ve(m){return ar(m)&&br(m)}(Jt)?ve=function sr(m,V){var Ct=-1,Bt=m.length;for(V||(V=Array(Bt));++Ct<Bt;)V[Ct]=m[Ct];return V}(Jt):nr?(we=!1,ve=function Er(m,V){if(V)return m.slice();var Ct=m.length,Bt=xt?xt(Ct):new m.constructor(Ct);return m.copy(Bt),Bt}(he,!0)):qe?(we=!1,ve=function ze(m,V){var Ct=V?function Cr(m){var V=new m.constructor(m.byteLength);return new bt(V).set(new bt(m)),V}(m.buffer):m.buffer;return new m.constructor(Ct,m.byteOffset,m.length)}(he,!0)):ve=[]:function _r(m){if(!ar(m)||ir(m)!=j)return!1;var V=Nt(m);if(null===V)return!0;var Ct=ut.call(V,"constructor")&&V.constructor;return"function"==typeof Ct&&Ct instanceof Ct&&M.call(Ct)==Pt}(he)||Ae(he)?(ve=Jt,Ae(Jt)?ve=function Hr(m){return function jr(m,V,Ct,Bt){var Yt=!Ct;Ct||(Ct={});for(var re=-1,ce=V.length;++re<ce;){var Jt=V[re],he=Bt?Bt(Ct[Jt],m[Jt],Jt,Ct,m):void 0;void 0===he&&(he=m[Jt]),Yt?xr(Ct,Jt,he):Ze(Ct,Jt,he)}return Ct}(m,hr(m))}(Jt):(!rr(Jt)||er(Jt))&&(ve=function Qe(m){return"function"!=typeof m.constructor||Ke(m)?{}:Le(Nt(m))}(he))):we=!1}we&&(ce.set(he,ve),Yt(ve,he,Bt,re,ce),ce.delete(he)),Ar(m,Ct,ve)}}(m,V,ce,Ct,je,Bt,Yt);else{var Jt=Bt?Bt(Lr(m,ce),re,ce+"",m,V,Yt):void 0;void 0===Jt&&(Jt=re),Ar(m,ce,Jt)}},hr)}var kr=$t?function(m,V){return $t(m,"toString",{configurable:!0,enumerable:!1,value:$r(V),writable:!0})}:h;function or(m,V){var Ct=m.__data__;return function Je(m){var V=typeof m;return"string"==V||"number"==V||"symbol"==V||"boolean"==V?"__proto__"!==m:null===m}(V)?Ct["string"==typeof V?"string":"hash"]:Ct.map}function gr(m,V){var Ct=function Ot(m,V){return m?.[V]}(m,V);return function We(m){return!(!rr(m)||function Re(m){return!!wt&&wt in m}(m))&&(er(m)?Kt:at).test(function yr(m){if(null!=m){try{return M.call(m)}catch{}try{return m+""}catch{}}return""}(m))}(Ct)?Ct:void 0}function Ir(m,V){var Ct=typeof m;return!!(V=V??U)&&("number"==Ct||"symbol"!=Ct&&H.test(m))&&m>-1&&m%1==0&&m<V}function Ke(m){var V=m&&m.constructor;return m===("function"==typeof V&&V.prototype||g)}function Lr(m,V){if(("constructor"!==V||"function"!=typeof m[V])&&"__proto__"!=V)return m[V]}var fr=function Fe(m){var V=0,Ct=0;return function(){var Bt=fe(),Yt=16-(Bt-Ct);if(Ct=Bt,Yt>0){if(++V>=800)return arguments[0]}else V=0;return m.apply(void 0,arguments)}}(kr);function He(m,V){return m===V||m!=m&&V!=V}var Ae=De(function(){return arguments}())?De:function(m){return ar(m)&&ut.call(m,"callee")&&!kt.call(m,"callee")},Sr=Array.isArray;function br(m){return null!=m&&Zr(m.length)&&!er(m)}var Tr=Gt||function $(){return!1};function er(m){if(!rr(m))return!1;var V=ir(m);return V==I||V==K||V==N||V==d}function Zr(m){return"number"==typeof m&&m>-1&&m%1==0&&m<=U}function rr(m){var V=typeof m;return null!=m&&("object"==V||"function"==V)}function ar(m){return null!=m&&"object"==typeof m}var Ge=_t?function ct(m){return function(V){return m(V)}}(_t):function ke(m){return ar(m)&&Zr(m.length)&&!!T[ir(m)]};function hr(m){return br(m)?function pe(m,V){var Ct=Sr(m),Bt=!Ct&&Ae(m),Yt=!Ct&&!Bt&&Tr(m),re=!Ct&&!Bt&&!Yt&&Ge(m),ce=Ct||Bt||Yt||re,Jt=ce?function it(m,V){for(var Ct=-1,Bt=Array(m);++Ct<m;)Bt[Ct]=V(Ct);return Bt}(m.length,String):[],he=Jt.length;for(var ge in m)(V||ut.call(m,ge))&&(!ce||!("length"==ge||Yt&&("offset"==ge||"parent"==ge)||re&&("buffer"==ge||"byteLength"==ge||"byteOffset"==ge)||Ir(ge,he)))&&Jt.push(ge);return Jt}(m,!0):function Se(m){if(!rr(m))return function ur(m){var V=[];if(null!=m)for(var Ct in Object(m))V.push(Ct);return V}(m);var V=Ke(m),Ct=[];for(var Bt in m)"constructor"==Bt&&(V||!ut.call(m,Bt))||Ct.push(Bt);return Ct}(m)}var Yr=function Fr(m){return function Xe(m,V){return fr(function tr(m,V,Ct){return V=le(void 0===V?m.length-1:V,0),function(){for(var Bt=arguments,Yt=-1,re=le(Bt.length-V,0),ce=Array(re);++Yt<re;)ce[Yt]=Bt[V+Yt];Yt=-1;for(var Jt=Array(V+1);++Yt<V;)Jt[Yt]=Bt[Yt];return Jt[V]=Ct(ce),function tt(m,V,Ct){switch(Ct.length){case 0:return m.call(V);case 1:return m.call(V,Ct[0]);case 2:return m.call(V,Ct[0],Ct[1]);case 3:return m.call(V,Ct[0],Ct[1],Ct[2])}return m.apply(V,Ct)}(m,this,Jt)}}(m,V,h),m+"")}(function(V,Ct){var Bt=-1,Yt=Ct.length,re=Yt>1?Ct[Yt-1]:void 0,ce=Yt>2?Ct[2]:void 0;for(re=m.length>3&&"function"==typeof re?(Yt--,re):void 0,ce&&function qr(m,V,Ct){if(!rr(Ct))return!1;var Bt=typeof V;return!!("number"==Bt?br(Ct)&&Ir(V,Ct.length):"string"==Bt&&V in Ct)&&He(Ct[V],m)}(Ct[0],Ct[1],ce)&&(re=Yt<3?void 0:re,Yt=1),V=Object(V);++Bt<Yt;){var Jt=Ct[Bt];Jt&&m(V,Jt,Bt,re)}return V})}(function(m,V,Ct){je(m,V,Ct)});function $r(m){return function(){return m}}function h(m){return m}B.exports=Yr},5143:(B,C,n)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});const v=n(8805),b=n(2722);var O,S;(S=O||(O={})).compose=function U(A={},x={},P=!1){"object"!=typeof A&&(A={}),"object"!=typeof x&&(x={});let I=v(x);P||(I=Object.keys(I).reduce((K,w)=>(null!=I[w]&&(K[w]=I[w]),K),{}));for(const K in A)void 0!==A[K]&&void 0===x[K]&&(I[K]=A[K]);return Object.keys(I).length>0?I:void 0},S.diff=function F(A={},x={}){"object"!=typeof A&&(A={}),"object"!=typeof x&&(x={});const P=Object.keys(A).concat(Object.keys(x)).reduce((I,K)=>(b(A[K],x[K])||(I[K]=void 0===x[K]?null:x[K]),I),{});return Object.keys(P).length>0?P:void 0},S.invert=function W(A={},x={}){A=A||{};const P=Object.keys(x).reduce((I,K)=>(x[K]!==A[K]&&void 0!==A[K]&&(I[K]=x[K]),I),{});return Object.keys(A).reduce((I,K)=>(A[K]!==x[K]&&void 0===x[K]&&(I[K]=null),I),P)},S.transform=function N(A,x,P=!1){if("object"!=typeof A)return x;if("object"!=typeof x)return;if(!P)return x;const I=Object.keys(x).reduce((K,w)=>(void 0===A[w]&&(K[w]=x[w]),K),{});return Object.keys(I).length>0?I:void 0},C.default=O},9098:(B,C,n)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.AttributeMap=C.OpIterator=C.Op=void 0;const v=n(1456),b=n(8805),O=n(2722),S=n(5143);C.AttributeMap=S.default;const U=n(6237);C.Op=U.default;const F=n(2849);C.OpIterator=F.default;const W=String.fromCharCode(0),N=(x,P)=>{if("object"!=typeof x||null===x)throw new Error("cannot retain a "+typeof x);if("object"!=typeof P||null===P)throw new Error("cannot retain a "+typeof P);const I=Object.keys(x)[0];if(!I||I!==Object.keys(P)[0])throw new Error(`embed types not matched: ${I} != ${Object.keys(P)[0]}`);return[I,x[I],P[I]]};class A{constructor(P){this.ops=Array.isArray(P)?P:null!=P&&Array.isArray(P.ops)?P.ops:[]}static registerEmbed(P,I){this.handlers[P]=I}static unregisterEmbed(P){delete this.handlers[P]}static getHandler(P){const I=this.handlers[P];if(!I)throw new Error(`no handlers for embed type "${P}"`);return I}insert(P,I){const K={};return"string"==typeof P&&0===P.length?this:(K.insert=P,null!=I&&"object"==typeof I&&Object.keys(I).length>0&&(K.attributes=I),this.push(K))}delete(P){return P<=0?this:this.push({delete:P})}retain(P,I){if("number"==typeof P&&P<=0)return this;const K={retain:P};return null!=I&&"object"==typeof I&&Object.keys(I).length>0&&(K.attributes=I),this.push(K)}push(P){let I=this.ops.length,K=this.ops[I-1];if(P=b(P),"object"==typeof K){if("number"==typeof P.delete&&"number"==typeof K.delete)return this.ops[I-1]={delete:K.delete+P.delete},this;if("number"==typeof K.delete&&null!=P.insert&&(I-=1,K=this.ops[I-1],"object"!=typeof K))return this.ops.unshift(P),this;if(O(P.attributes,K.attributes)){if("string"==typeof P.insert&&"string"==typeof K.insert)return this.ops[I-1]={insert:K.insert+P.insert},"object"==typeof P.attributes&&(this.ops[I-1].attributes=P.attributes),this;if("number"==typeof P.retain&&"number"==typeof K.retain)return this.ops[I-1]={retain:K.retain+P.retain},"object"==typeof P.attributes&&(this.ops[I-1].attributes=P.attributes),this}}return I===this.ops.length?this.ops.push(P):this.ops.splice(I,0,P),this}chop(){const P=this.ops[this.ops.length-1];return P&&"number"==typeof P.retain&&!P.attributes&&this.ops.pop(),this}filter(P){return this.ops.filter(P)}forEach(P){this.ops.forEach(P)}map(P){return this.ops.map(P)}partition(P){const I=[],K=[];return this.forEach(w=>{(P(w)?I:K).push(w)}),[I,K]}reduce(P,I){return this.ops.reduce(P,I)}changeLength(){return this.reduce((P,I)=>I.insert?P+U.default.length(I):I.delete?P-I.delete:P,0)}length(){return this.reduce((P,I)=>P+U.default.length(I),0)}slice(P=0,I=1/0){const K=[],w=new F.default(this.ops);let Z=0;for(;Z<I&&w.hasNext();){let z;Z<P?z=w.next(P-Z):(z=w.next(I-Z),K.push(z)),Z+=U.default.length(z)}return new A(K)}compose(P){const I=new F.default(this.ops),K=new F.default(P.ops),w=[],Z=K.peek();if(null!=Z&&"number"==typeof Z.retain&&null==Z.attributes){let j=Z.retain;for(;"insert"===I.peekType()&&I.peekLength()<=j;)j-=I.peekLength(),w.push(I.next());Z.retain-j>0&&K.next(Z.retain-j)}const z=new A(w);for(;I.hasNext()||K.hasNext();)if("insert"===K.peekType())z.push(K.next());else if("delete"===I.peekType())z.push(I.next());else{const j=Math.min(I.peekLength(),K.peekLength()),d=I.next(j),_=K.next(j);if(_.retain){const o={};if("number"==typeof d.retain)o.retain="number"==typeof _.retain?j:_.retain;else if("number"==typeof _.retain)null==d.retain?o.insert=d.insert:o.retain=d.retain;else{const f=null==d.retain?"insert":"retain",[y,R,D]=N(d[f],_.retain),q=A.getHandler(y);o[f]={[y]:q.compose(R,D,"retain"===f)}}const u=S.default.compose(d.attributes,_.attributes,"number"==typeof d.retain);if(u&&(o.attributes=u),z.push(o),!K.hasNext()&&O(z.ops[z.ops.length-1],o)){const f=new A(I.rest());return z.concat(f).chop()}}else"number"==typeof _.delete&&("number"==typeof d.retain||"object"==typeof d.retain&&null!==d.retain)&&z.push(_)}return z.chop()}concat(P){const I=new A(this.ops.slice());return P.ops.length>0&&(I.push(P.ops[0]),I.ops=I.ops.concat(P.ops.slice(1))),I}diff(P,I){if(this.ops===P.ops)return new A;const K=[this,P].map(d=>d.map(_=>{if(null!=_.insert)return"string"==typeof _.insert?_.insert:W;throw new Error("diff() called "+(d===P?"on":"with")+" non-document")}).join("")),w=new A,Z=v(K[0],K[1],I),z=new F.default(this.ops),j=new F.default(P.ops);return Z.forEach(d=>{let _=d[1].length;for(;_>0;){let o=0;switch(d[0]){case v.INSERT:o=Math.min(j.peekLength(),_),w.push(j.next(o));break;case v.DELETE:o=Math.min(_,z.peekLength()),z.next(o),w.delete(o);break;case v.EQUAL:o=Math.min(z.peekLength(),j.peekLength(),_);const u=z.next(o),f=j.next(o);O(u.insert,f.insert)?w.retain(o,S.default.diff(u.attributes,f.attributes)):w.push(f).delete(o)}_-=o}}),w.chop()}eachLine(P,I="\n"){const K=new F.default(this.ops);let w=new A,Z=0;for(;K.hasNext();){if("insert"!==K.peekType())return;const z=K.peek(),j=U.default.length(z)-K.peekLength(),d="string"==typeof z.insert?z.insert.indexOf(I,j)-j:-1;if(d<0)w.push(K.next());else if(d>0)w.push(K.next(d));else{if(!1===P(w,K.next(1).attributes||{},Z))return;Z+=1,w=new A}}w.length()>0&&P(w,{},Z)}invert(P){const I=new A;return this.reduce((K,w)=>{if(w.insert)I.delete(U.default.length(w));else{if("number"==typeof w.retain&&null==w.attributes)return I.retain(w.retain),K+w.retain;if(w.delete||"number"==typeof w.retain){const Z=w.delete||w.retain;return P.slice(K,K+Z).forEach(j=>{w.delete?I.push(j):w.retain&&w.attributes&&I.retain(U.default.length(j),S.default.invert(w.attributes,j.attributes))}),K+Z}if("object"==typeof w.retain&&null!==w.retain){const Z=P.slice(K,K+1),z=new F.default(Z.ops).next(),[j,d,_]=N(w.retain,z.insert),o=A.getHandler(j);return I.retain({[j]:o.invert(d,_)},S.default.invert(w.attributes,z.attributes)),K+1}}return K},0),I.chop()}transform(P,I=!1){if(I=!!I,"number"==typeof P)return this.transformPosition(P,I);const K=P,w=new F.default(this.ops),Z=new F.default(K.ops),z=new A;for(;w.hasNext()||Z.hasNext();)if("insert"!==w.peekType()||!I&&"insert"===Z.peekType())if("insert"===Z.peekType())z.push(Z.next());else{const j=Math.min(w.peekLength(),Z.peekLength()),d=w.next(j),_=Z.next(j);if(d.delete)continue;if(_.delete)z.push(_);else{const o=d.retain,u=_.retain;let f="object"==typeof u&&null!==u?u:j;if("object"==typeof o&&null!==o&&"object"==typeof u&&null!==u){const y=Object.keys(o)[0];if(y===Object.keys(u)[0]){const R=A.getHandler(y);R&&(f={[y]:R.transform(o[y],u[y],I)})}}z.retain(f,S.default.transform(d.attributes,_.attributes,I))}}else z.retain(U.default.length(w.next()));return z.chop()}transformPosition(P,I=!1){I=!!I;const K=new F.default(this.ops);let w=0;for(;K.hasNext()&&w<=P;){const Z=K.peekLength(),z=K.peekType();K.next(),"delete"!==z?("insert"===z&&(w<P||!I)&&(P+=Z),w+=Z):P-=Math.min(Z,P-w)}return P}}A.Op=U.default,A.OpIterator=F.default,A.AttributeMap=S.default,A.handlers={},C.default=A,B.exports=A,B.exports.default=A},6237:(B,C)=>{"use strict";var n;Object.defineProperty(C,"__esModule",{value:!0}),(n||(n={})).length=function b(O){return"number"==typeof O.delete?O.delete:"number"==typeof O.retain?O.retain:"object"==typeof O.retain&&null!==O.retain?1:"string"==typeof O.insert?O.insert.length:1},C.default=n},2849:(B,C,n)=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});const v=n(6237);C.default=class b{constructor(S){this.ops=S,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(S){S||(S=1/0);const U=this.ops[this.index];if(U){const F=this.offset,W=v.default.length(U);if(S>=W-F?(S=W-F,this.index+=1,this.offset=0):this.offset+=S,"number"==typeof U.delete)return{delete:S};{const N={};return U.attributes&&(N.attributes=U.attributes),"number"==typeof U.retain?N.retain=S:"object"==typeof U.retain&&null!==U.retain?N.retain=U.retain:N.insert="string"==typeof U.insert?U.insert.substr(F,S):U.insert,N}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?v.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const S=this.ops[this.index];return S?"number"==typeof S.delete?"delete":"number"==typeof S.retain||"object"==typeof S.retain&&null!==S.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const S=this.offset,U=this.index,F=this.next(),W=this.ops.slice(this.index);return this.offset=S,this.index=U,[F].concat(W)}}return[]}}},1863:(B,C,n)=>{"use strict";var v=n(9731);B.exports=v},6572:(B,C,n)=>{"use strict";var v=n(4401);B.exports=v},2318:(B,C,n)=>{"use strict";var v=n(3661);B.exports=v},576:(B,C,n)=>{"use strict";var v=n(5606);B.exports=v},2327:(B,C,n)=>{"use strict";n(5445);var v=n(6731);B.exports=v("Array","fill")},3274:(B,C,n)=>{"use strict";n(9477),n(6272);var v=n(577);B.exports=v.Array.from},5339:(B,C,n)=>{"use strict";n(2947);var v=n(577);B.exports=v.Object.values},1189:(B,C,n)=>{"use strict";n(538);var v=n(6731);B.exports=v("String","endsWith")},5142:(B,C,n)=>{"use strict";n(297)},1019:(B,C,n)=>{"use strict";n(4660)},1183:(B,C,n)=>{"use strict";n(5275)},2570:(B,C,n)=>{"use strict";n(2839)},297:(B,C,n)=>{"use strict";var v=n(1863);B.exports=v},4660:(B,C,n)=>{"use strict";var v=n(6572);B.exports=v},5275:(B,C,n)=>{"use strict";var v=n(2318);B.exports=v},2839:(B,C,n)=>{"use strict";var v=n(576);B.exports=v},6324:(B,C,n)=>{"use strict";var v=n(2539),b=n(7471),O=TypeError;B.exports=function(S){if(v(S))return S;throw new O(b(S)+" is not a function")}},2162:(B,C,n)=>{"use strict";var v=n(2539),b=String,O=TypeError;B.exports=function(S){if("object"==typeof S||v(S))return S;throw new O("Can't set "+b(S)+" as a prototype")}},2572:(B,C,n)=>{"use strict";var v=n(5485),b=n(3830),O=n(8503).f,S=v("unscopables"),U=Array.prototype;void 0===U[S]&&O(U,S,{configurable:!0,value:b(null)}),B.exports=function(F){U[S][F]=!0}},8874:(B,C,n)=>{"use strict";var v=n(3988),b=String,O=TypeError;B.exports=function(S){if(v(S))return S;throw new O(b(S)+" is not an object")}},9236:(B,C,n)=>{"use strict";var v=n(6015),b=n(7234),O=n(3235);B.exports=function(U){for(var F=v(this),W=O(F),N=arguments.length,A=b(N>1?arguments[1]:void 0,W),x=N>2?arguments[2]:void 0,P=void 0===x?W:b(x,W);P>A;)F[A++]=U;return F}},8459:(B,C,n)=>{"use strict";var v=n(9794),b=n(2977),O=n(6015),S=n(9154),U=n(7024),F=n(6467),W=n(3235),N=n(3003),A=n(2387),x=n(7874),P=Array;B.exports=function(K){var w=O(K),Z=F(this),z=arguments.length,j=z>1?arguments[1]:void 0,d=void 0!==j;d&&(j=v(j,z>2?arguments[2]:void 0));var u,f,y,R,D,q,_=x(w),o=0;if(!_||this===P&&U(_))for(u=W(w),f=Z?new this(u):P(u);u>o;o++)q=d?j(w[o],o):w[o],N(f,o,q);else for(D=(R=A(w,_)).next,f=Z?new this:[];!(y=b(D,R)).done;o++)q=d?S(R,j,[y.value,o],!0):y.value,N(f,o,q);return f.length=o,f}},5644:(B,C,n)=>{"use strict";var v=n(7625),b=n(7234),O=n(3235),S=function(U){return function(F,W,N){var I,A=v(F),x=O(A),P=b(N,x);if(U&&W!=W){for(;x>P;)if((I=A[P++])!=I)return!0}else for(;x>P;P++)if((U||P in A)&&A[P]===W)return U||P||0;return!U&&-1}};B.exports={includes:S(!0),indexOf:S(!1)}},9154:(B,C,n)=>{"use strict";var v=n(8874),b=n(8880);B.exports=function(O,S,U,F){try{return F?S(v(U)[0],U[1]):S(U)}catch(W){b(O,"throw",W)}}},3346:(B,C,n)=>{"use strict";var b=n(5485)("iterator"),O=!1;try{var S=0,U={next:function(){return{done:!!S++}},return:function(){O=!0}};U[b]=function(){return this},Array.from(U,function(){throw 2})}catch{}B.exports=function(F,W){try{if(!W&&!O)return!1}catch{return!1}var N=!1;try{var A={};A[b]=function(){return{next:function(){return{done:N=!0}}}},F(A)}catch{}return N}},4545:(B,C,n)=>{"use strict";var v=n(4038),b=v({}.toString),O=v("".slice);B.exports=function(S){return O(b(S),8,-1)}},2702:(B,C,n)=>{"use strict";var v=n(1923),b=n(2539),O=n(4545),U=n(5485)("toStringTag"),F=Object,W="Arguments"===O(function(){return arguments}());B.exports=v?O:function(A){var x,P,I;return void 0===A?"Undefined":null===A?"Null":"string"==typeof(P=function(A,x){try{return A[x]}catch{}}(x=F(A),U))?P:W?O(x):"Object"===(I=O(x))&&b(x.callee)?"Arguments":I}},1358:(B,C,n)=>{"use strict";var v=n(2623),b=n(3054),O=n(3037),S=n(8503);B.exports=function(U,F,W){for(var N=b(F),A=S.f,x=O.f,P=0;P<N.length;P++){var I=N[P];!v(U,I)&&(!W||!v(W,I))&&A(U,I,x(F,I))}}},6775:(B,C,n)=>{"use strict";var b=n(5485)("match");B.exports=function(O){var S=/./;try{"/./"[O](S)}catch{try{return S[b]=!1,"/./"[O](S)}catch{}}return!1}},6141:(B,C,n)=>{"use strict";var v=n(5202);B.exports=!v(function(){function b(){}return b.prototype.constructor=null,Object.getPrototypeOf(new b)!==b.prototype})},3585:B=>{"use strict";B.exports=function(C,n){return{value:C,done:n}}},8868:(B,C,n)=>{"use strict";var v=n(5007),b=n(8503),O=n(4238);B.exports=v?function(S,U,F){return b.f(S,U,O(1,F))}:function(S,U,F){return S[U]=F,S}},4238:B=>{"use strict";B.exports=function(C,n){return{enumerable:!(1&C),configurable:!(2&C),writable:!(4&C),value:n}}},3003:(B,C,n)=>{"use strict";var v=n(3164),b=n(8503),O=n(4238);B.exports=function(S,U,F){var W=v(U);W in S?b.f(S,W,O(0,F)):S[W]=F}},916:(B,C,n)=>{"use strict";var v=n(2539),b=n(8503),O=n(6614),S=n(2136);B.exports=function(U,F,W,N){N||(N={});var A=N.enumerable,x=void 0!==N.name?N.name:F;if(v(W)&&O(W,x,N),N.global)A?U[F]=W:S(F,W);else{try{N.unsafe?U[F]&&(A=!0):delete U[F]}catch{}A?U[F]=W:b.f(U,F,{value:W,enumerable:!1,configurable:!N.nonConfigurable,writable:!N.nonWritable})}return U}},2136:(B,C,n)=>{"use strict";var v=n(730),b=Object.defineProperty;B.exports=function(O,S){try{b(v,O,{value:S,configurable:!0,writable:!0})}catch{v[O]=S}return S}},5007:(B,C,n)=>{"use strict";var v=n(5202);B.exports=!v(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},8629:B=>{"use strict";var C="object"==typeof document&&document.all;B.exports={all:C,IS_HTMLDDA:typeof C>"u"&&void 0!==C}},2215:(B,C,n)=>{"use strict";var v=n(730),b=n(3988),O=v.document,S=b(O)&&b(O.createElement);B.exports=function(U){return S?O.createElement(U):{}}},932:B=>{"use strict";B.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7626:(B,C,n)=>{"use strict";var W,N,v=n(730),b=n(932),O=v.process,S=v.Deno,U=O&&O.versions||S&&S.version,F=U&&U.v8;F&&(N=(W=F.split("."))[0]>0&&W[0]<4?1:+(W[0]+W[1])),!N&&b&&(!(W=b.match(/Edge\/(\d+)/))||W[1]>=74)&&(W=b.match(/Chrome\/(\d+)/))&&(N=+W[1]),B.exports=N},6731:(B,C,n)=>{"use strict";var v=n(730),b=n(4038);B.exports=function(O,S){return b(v[O].prototype[S])}},8552:B=>{"use strict";B.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2189:(B,C,n)=>{"use strict";var v=n(730),b=n(3037).f,O=n(8868),S=n(916),U=n(2136),F=n(1358),W=n(3455);B.exports=function(N,A){var w,Z,z,j,d,x=N.target,P=N.global,I=N.stat;if(w=P?v:I?v[x]||U(x,{}):(v[x]||{}).prototype)for(Z in A){if(j=A[Z],z=N.dontCallGetSet?(d=b(w,Z))&&d.value:w[Z],!W(P?Z:x+(I?".":"#")+Z,N.forced)&&void 0!==z){if(typeof j==typeof z)continue;F(j,z)}(N.sham||z&&z.sham)&&O(j,"sham",!0),S(w,Z,j,N)}}},5202:B=>{"use strict";B.exports=function(C){try{return!!C()}catch{return!0}}},9794:(B,C,n)=>{"use strict";var v=n(6192),b=n(6324),O=n(2865),S=v(v.bind);B.exports=function(U,F){return b(U),void 0===F?U:O?S(U,F):function(){return U.apply(F,arguments)}}},2865:(B,C,n)=>{"use strict";var v=n(5202);B.exports=!v(function(){var b=function(){}.bind();return"function"!=typeof b||b.hasOwnProperty("prototype")})},2977:(B,C,n)=>{"use strict";var v=n(2865),b=Function.prototype.call;B.exports=v?b.bind(b):function(){return b.apply(b,arguments)}},9895:(B,C,n)=>{"use strict";var v=n(5007),b=n(2623),O=Function.prototype,S=v&&Object.getOwnPropertyDescriptor,U=b(O,"name"),F=U&&"something"===function(){}.name,W=U&&(!v||v&&S(O,"name").configurable);B.exports={EXISTS:U,PROPER:F,CONFIGURABLE:W}},6589:(B,C,n)=>{"use strict";var v=n(4038),b=n(6324);B.exports=function(O,S,U){try{return v(b(Object.getOwnPropertyDescriptor(O,S)[U]))}catch{}}},6192:(B,C,n)=>{"use strict";var v=n(4545),b=n(4038);B.exports=function(O){if("Function"===v(O))return b(O)}},4038:(B,C,n)=>{"use strict";var v=n(2865),b=Function.prototype,O=b.call,S=v&&b.bind.bind(O,O);B.exports=v?S:function(U){return function(){return O.apply(U,arguments)}}},7300:(B,C,n)=>{"use strict";var v=n(730),b=n(2539);B.exports=function(S,U){return arguments.length<2?function(S){return b(S)?S:void 0}(v[S]):v[S]&&v[S][U]}},7874:(B,C,n)=>{"use strict";var v=n(2702),b=n(3923),O=n(2219),S=n(7817),F=n(5485)("iterator");B.exports=function(W){if(!O(W))return b(W,F)||b(W,"@@iterator")||S[v(W)]}},2387:(B,C,n)=>{"use strict";var v=n(2977),b=n(6324),O=n(8874),S=n(7471),U=n(7874),F=TypeError;B.exports=function(W,N){var A=arguments.length<2?U(W):N;if(b(A))return O(v(A,W));throw new F(S(W)+" is not iterable")}},3923:(B,C,n)=>{"use strict";var v=n(6324),b=n(2219);B.exports=function(O,S){var U=O[S];return b(U)?void 0:v(U)}},730:function(B,C,n){"use strict";var v=function(b){return b&&b.Math===Math&&b};B.exports=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof n.g&&n.g)||v("object"==typeof this&&this)||function(){return this}()||Function("return this")()},2623:(B,C,n)=>{"use strict";var v=n(4038),b=n(6015),O=v({}.hasOwnProperty);B.exports=Object.hasOwn||function(U,F){return O(b(U),F)}},7467:B=>{"use strict";B.exports={}},845:(B,C,n)=>{"use strict";var v=n(7300);B.exports=v("document","documentElement")},2470:(B,C,n)=>{"use strict";var v=n(5007),b=n(5202),O=n(2215);B.exports=!v&&!b(function(){return 7!==Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})},6854:(B,C,n)=>{"use strict";var v=n(4038),b=n(5202),O=n(4545),S=Object,U=v("".split);B.exports=b(function(){return!S("z").propertyIsEnumerable(0)})?function(F){return"String"===O(F)?U(F,""):S(F)}:S},7821:(B,C,n)=>{"use strict";var v=n(4038),b=n(2539),O=n(6838),S=v(Function.toString);b(O.inspectSource)||(O.inspectSource=function(U){return S(U)}),B.exports=O.inspectSource},5378:(B,C,n)=>{"use strict";var I,K,w,v=n(2543),b=n(730),O=n(3988),S=n(8868),U=n(2623),F=n(6838),W=n(3511),N=n(7467),A="Object already initialized",x=b.TypeError;if(v||F.state){var j=F.state||(F.state=new(0,b.WeakMap));j.get=j.get,j.has=j.has,j.set=j.set,I=function(_,o){if(j.has(_))throw new x(A);return o.facade=_,j.set(_,o),o},K=function(_){return j.get(_)||{}},w=function(_){return j.has(_)}}else{var d=W("state");N[d]=!0,I=function(_,o){if(U(_,d))throw new x(A);return o.facade=_,S(_,d,o),o},K=function(_){return U(_,d)?_[d]:{}},w=function(_){return U(_,d)}}B.exports={set:I,get:K,has:w,enforce:function(_){return w(_)?K(_):I(_,{})},getterFor:function(_){return function(o){var u;if(!O(o)||(u=K(o)).type!==_)throw new x("Incompatible receiver, "+_+" required");return u}}}},7024:(B,C,n)=>{"use strict";var v=n(5485),b=n(7817),O=v("iterator"),S=Array.prototype;B.exports=function(U){return void 0!==U&&(b.Array===U||S[O]===U)}},2539:(B,C,n)=>{"use strict";var v=n(8629),b=v.all;B.exports=v.IS_HTMLDDA?function(O){return"function"==typeof O||O===b}:function(O){return"function"==typeof O}},6467:(B,C,n)=>{"use strict";var v=n(4038),b=n(5202),O=n(2539),S=n(2702),U=n(7300),F=n(7821),W=function(){},N=[],A=U("Reflect","construct"),x=/^\s*(?:class|function)\b/,P=v(x.exec),I=!x.test(W),K=function(z){if(!O(z))return!1;try{return A(W,N,z),!0}catch{return!1}},w=function(z){if(!O(z))return!1;switch(S(z)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return I||!!P(x,F(z))}catch{return!0}};w.sham=!0,B.exports=!A||b(function(){var Z;return K(K.call)||!K(Object)||!K(function(){Z=!0})||Z})?w:K},3455:(B,C,n)=>{"use strict";var v=n(5202),b=n(2539),O=/#|\.prototype\./,S=function(A,x){var P=F[U(A)];return P===N||P!==W&&(b(x)?v(x):!!x)},U=S.normalize=function(A){return String(A).replace(O,".").toLowerCase()},F=S.data={},W=S.NATIVE="N",N=S.POLYFILL="P";B.exports=S},2219:B=>{"use strict";B.exports=function(C){return null==C}},3988:(B,C,n)=>{"use strict";var v=n(2539),b=n(8629),O=b.all;B.exports=b.IS_HTMLDDA?function(S){return"object"==typeof S?null!==S:v(S)||S===O}:function(S){return"object"==typeof S?null!==S:v(S)}},4708:B=>{"use strict";B.exports=!1},184:(B,C,n)=>{"use strict";var v=n(3988),b=n(4545),S=n(5485)("match");B.exports=function(U){var F;return v(U)&&(void 0!==(F=U[S])?!!F:"RegExp"===b(U))}},8820:(B,C,n)=>{"use strict";var v=n(7300),b=n(2539),O=n(7676),S=n(3713),U=Object;B.exports=S?function(F){return"symbol"==typeof F}:function(F){var W=v("Symbol");return b(W)&&O(W.prototype,U(F))}},8880:(B,C,n)=>{"use strict";var v=n(2977),b=n(8874),O=n(3923);B.exports=function(S,U,F){var W,N;b(S);try{if(!(W=O(S,"return"))){if("throw"===U)throw F;return F}W=v(W,S)}catch(A){N=!0,W=A}if("throw"===U)throw F;if(N)throw W;return b(W),F}},3450:(B,C,n)=>{"use strict";var v=n(344).IteratorPrototype,b=n(3830),O=n(4238),S=n(3506),U=n(7817),F=function(){return this};B.exports=function(W,N,A,x){var P=N+" Iterator";return W.prototype=b(v,{next:O(+!x,A)}),S(W,P,!1,!0),U[P]=F,W}},3174:(B,C,n)=>{"use strict";var v=n(2189),b=n(2977),O=n(4708),S=n(9895),U=n(2539),F=n(3450),W=n(8059),N=n(5502),A=n(3506),x=n(8868),P=n(916),I=n(5485),K=n(7817),w=n(344),Z=S.PROPER,z=S.CONFIGURABLE,j=w.IteratorPrototype,d=w.BUGGY_SAFARI_ITERATORS,_=I("iterator"),o="keys",u="values",f="entries",y=function(){return this};B.exports=function(R,D,q,et,ft,ht,dt){F(q,D,et);var T,Y,J,ot=function(k){if(k===ft&&at)return at;if(!d&&k&&k in vt)return vt[k];switch(k){case o:case u:case f:return function(){return new q(this,k)}}return function(){return new q(this)}},Et=D+" Iterator",X=!1,vt=R.prototype,st=vt[_]||vt["@@iterator"]||ft&&vt[ft],at=!d&&st||ot(ft),H="Array"===D&&vt.entries||st;if(H&&(T=W(H.call(new R)))!==Object.prototype&&T.next&&(!O&&W(T)!==j&&(N?N(T,j):U(T[_])||P(T,_,y)),A(T,Et,!0,!0),O&&(K[Et]=y)),Z&&ft===u&&st&&st.name!==u&&(!O&&z?x(vt,"name",u):(X=!0,at=function(){return b(st,this)})),ft)if(Y={values:ot(u),keys:ht?at:ot(o),entries:ot(f)},dt)for(J in Y)(d||X||!(J in vt))&&P(vt,J,Y[J]);else v({target:D,proto:!0,forced:d||X},Y);return(!O||dt)&&vt[_]!==at&&P(vt,_,at,{name:ft}),K[D]=at,Y}},344:(B,C,n)=>{"use strict";var P,I,K,v=n(5202),b=n(2539),O=n(3988),S=n(3830),U=n(8059),F=n(916),W=n(5485),N=n(4708),A=W("iterator"),x=!1;[].keys&&("next"in(K=[].keys())?(I=U(U(K)))!==Object.prototype&&(P=I):x=!0),!O(P)||v(function(){var Z={};return P[A].call(Z)!==Z})?P={}:N&&(P=S(P)),b(P[A])||F(P,A,function(){return this}),B.exports={IteratorPrototype:P,BUGGY_SAFARI_ITERATORS:x}},7817:B=>{"use strict";B.exports={}},3235:(B,C,n)=>{"use strict";var v=n(3627);B.exports=function(b){return v(b.length)}},6614:(B,C,n)=>{"use strict";var v=n(4038),b=n(5202),O=n(2539),S=n(2623),U=n(5007),F=n(9895).CONFIGURABLE,W=n(7821),N=n(5378),A=N.enforce,x=N.get,P=String,I=Object.defineProperty,K=v("".slice),w=v("".replace),Z=v([].join),z=U&&!b(function(){return 8!==I(function(){},"length",{value:8}).length}),j=String(String).split("String"),d=B.exports=function(_,o,u){"Symbol("===K(P(o),0,7)&&(o="["+w(P(o),/^Symbol\(([^)]*)\)/,"$1")+"]"),u&&u.getter&&(o="get "+o),u&&u.setter&&(o="set "+o),(!S(_,"name")||F&&_.name!==o)&&(U?I(_,"name",{value:o,configurable:!0}):_.name=o),z&&u&&S(u,"arity")&&_.length!==u.arity&&I(_,"length",{value:u.arity});try{u&&S(u,"constructor")&&u.constructor?U&&I(_,"prototype",{writable:!1}):_.prototype&&(_.prototype=void 0)}catch{}var f=A(_);return S(f,"source")||(f.source=Z(j,"string"==typeof o?o:"")),_};Function.prototype.toString=d(function(){return O(this)&&x(this).source||W(this)},"toString")},3041:B=>{"use strict";var C=Math.ceil,n=Math.floor;B.exports=Math.trunc||function(b){var O=+b;return(O>0?n:C)(O)}},50:(B,C,n)=>{"use strict";var v=n(184),b=TypeError;B.exports=function(O){if(v(O))throw new b("The method doesn't accept regular expressions");return O}},3830:(B,C,n)=>{"use strict";var j,v=n(8874),b=n(3944),O=n(8552),S=n(7467),U=n(845),F=n(2215),W=n(3511),x="prototype",P="script",I=W("IE_PROTO"),K=function(){},w=function(_){return"<"+P+">"+_+"</"+P+">"},Z=function(_){_.write(w("")),_.close();var o=_.parentWindow.Object;return _=null,o},d=function(){try{j=new ActiveXObject("htmlfile")}catch{}d=typeof document<"u"?document.domain&&j?Z(j):function(){var u,_=F("iframe"),o="java"+P+":";return _.style.display="none",U.appendChild(_),_.src=String(o),(u=_.contentWindow.document).open(),u.write(w("document.F=Object")),u.close(),u.F}():Z(j);for(var _=O.length;_--;)delete d[x][O[_]];return d()};S[I]=!0,B.exports=Object.create||function(o,u){var f;return null!==o?(K[x]=v(o),f=new K,K[x]=null,f[I]=o):f=d(),void 0===u?f:b.f(f,u)}},3944:(B,C,n)=>{"use strict";var v=n(5007),b=n(2268),O=n(8503),S=n(8874),U=n(7625),F=n(4254);C.f=v&&!b?Object.defineProperties:function(N,A){S(N);for(var w,x=U(A),P=F(A),I=P.length,K=0;I>K;)O.f(N,w=P[K++],x[w]);return N}},8503:(B,C,n)=>{"use strict";var v=n(5007),b=n(2470),O=n(2268),S=n(8874),U=n(3164),F=TypeError,W=Object.defineProperty,N=Object.getOwnPropertyDescriptor,A="enumerable",x="configurable",P="writable";C.f=v?O?function(K,w,Z){if(S(K),w=U(w),S(Z),"function"==typeof K&&"prototype"===w&&"value"in Z&&P in Z&&!Z[P]){var z=N(K,w);z&&z[P]&&(K[w]=Z.value,Z={configurable:x in Z?Z[x]:z[x],enumerable:A in Z?Z[A]:z[A],writable:!1})}return W(K,w,Z)}:W:function(K,w,Z){if(S(K),w=U(w),S(Z),b)try{return W(K,w,Z)}catch{}if("get"in Z||"set"in Z)throw new F("Accessors not supported");return"value"in Z&&(K[w]=Z.value),K}},3037:(B,C,n)=>{"use strict";var v=n(5007),b=n(2977),O=n(6251),S=n(4238),U=n(7625),F=n(3164),W=n(2623),N=n(2470),A=Object.getOwnPropertyDescriptor;C.f=v?A:function(P,I){if(P=U(P),I=F(I),N)try{return A(P,I)}catch{}if(W(P,I))return S(!b(O.f,P,I),P[I])}},5974:(B,C,n)=>{"use strict";var v=n(7862),O=n(8552).concat("length","prototype");C.f=Object.getOwnPropertyNames||function(U){return v(U,O)}},1526:(B,C)=>{"use strict";C.f=Object.getOwnPropertySymbols},8059:(B,C,n)=>{"use strict";var v=n(2623),b=n(2539),O=n(6015),S=n(3511),U=n(6141),F=S("IE_PROTO"),W=Object,N=W.prototype;B.exports=U?W.getPrototypeOf:function(A){var x=O(A);if(v(x,F))return x[F];var P=x.constructor;return b(P)&&x instanceof P?P.prototype:x instanceof W?N:null}},7676:(B,C,n)=>{"use strict";var v=n(4038);B.exports=v({}.isPrototypeOf)},7862:(B,C,n)=>{"use strict";var v=n(4038),b=n(2623),O=n(7625),S=n(5644).indexOf,U=n(7467),F=v([].push);B.exports=function(W,N){var I,A=O(W),x=0,P=[];for(I in A)!b(U,I)&&b(A,I)&&F(P,I);for(;N.length>x;)b(A,I=N[x++])&&(~S(P,I)||F(P,I));return P}},4254:(B,C,n)=>{"use strict";var v=n(7862),b=n(8552);B.exports=Object.keys||function(S){return v(S,b)}},6251:(B,C)=>{"use strict";var n={}.propertyIsEnumerable,v=Object.getOwnPropertyDescriptor,b=v&&!n.call({1:2},1);C.f=b?function(S){var U=v(this,S);return!!U&&U.enumerable}:n},5502:(B,C,n)=>{"use strict";var v=n(6589),b=n(8874),O=n(2162);B.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var F,S=!1,U={};try{(F=v(Object.prototype,"__proto__","set"))(U,[]),S=U instanceof Array}catch{}return function(N,A){return b(N),O(A),S?F(N,A):N.__proto__=A,N}}():void 0)},7830:(B,C,n)=>{"use strict";var v=n(5007),b=n(5202),O=n(4038),S=n(8059),U=n(4254),F=n(7625),N=O(n(6251).f),A=O([].push),x=v&&b(function(){var I=Object.create(null);return I[2]=2,!N(I,2)}),P=function(I){return function(K){for(var o,w=F(K),Z=U(w),z=x&&null===S(w),j=Z.length,d=0,_=[];j>d;)o=Z[d++],(!v||(z?o in w:N(w,o)))&&A(_,I?[o,w[o]]:w[o]);return _}};B.exports={entries:P(!0),values:P(!1)}},532:(B,C,n)=>{"use strict";var v=n(2977),b=n(2539),O=n(3988),S=TypeError;B.exports=function(U,F){var W,N;if("string"===F&&b(W=U.toString)&&!O(N=v(W,U))||b(W=U.valueOf)&&!O(N=v(W,U))||"string"!==F&&b(W=U.toString)&&!O(N=v(W,U)))return N;throw new S("Can't convert object to primitive value")}},3054:(B,C,n)=>{"use strict";var v=n(7300),b=n(4038),O=n(5974),S=n(1526),U=n(8874),F=b([].concat);B.exports=v("Reflect","ownKeys")||function(N){var A=O.f(U(N)),x=S.f;return x?F(A,x(N)):A}},577:(B,C,n)=>{"use strict";var v=n(730);B.exports=v},6373:(B,C,n)=>{"use strict";var v=n(2219),b=TypeError;B.exports=function(O){if(v(O))throw new b("Can't call method on "+O);return O}},3506:(B,C,n)=>{"use strict";var v=n(8503).f,b=n(2623),S=n(5485)("toStringTag");B.exports=function(U,F,W){U&&!W&&(U=U.prototype),U&&!b(U,S)&&v(U,S,{configurable:!0,value:F})}},3511:(B,C,n)=>{"use strict";var v=n(6568),b=n(2858),O=v("keys");B.exports=function(S){return O[S]||(O[S]=b(S))}},6838:(B,C,n)=>{"use strict";var v=n(730),b=n(2136),O="__core-js_shared__",S=v[O]||b(O,{});B.exports=S},6568:(B,C,n)=>{"use strict";var v=n(4708),b=n(6838);(B.exports=function(O,S){return b[O]||(b[O]=void 0!==S?S:{})})("versions",[]).push({version:"3.34.0",mode:v?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6365:(B,C,n)=>{"use strict";var v=n(4038),b=n(3550),O=n(2532),S=n(6373),U=v("".charAt),F=v("".charCodeAt),W=v("".slice),N=function(A){return function(x,P){var Z,z,I=O(S(x)),K=b(P),w=I.length;return K<0||K>=w?A?"":void 0:(Z=F(I,K))<55296||Z>56319||K+1===w||(z=F(I,K+1))<56320||z>57343?A?U(I,K):Z:A?W(I,K,K+2):z-56320+(Z-55296<<10)+65536}};B.exports={codeAt:N(!1),charAt:N(!0)}},3370:(B,C,n)=>{"use strict";var v=n(7626),b=n(5202),S=n(730).String;B.exports=!!Object.getOwnPropertySymbols&&!b(function(){var U=Symbol("symbol detection");return!S(U)||!(Object(U)instanceof Symbol)||!Symbol.sham&&v&&v<41})},7234:(B,C,n)=>{"use strict";var v=n(3550),b=Math.max,O=Math.min;B.exports=function(S,U){var F=v(S);return F<0?b(F+U,0):O(F,U)}},7625:(B,C,n)=>{"use strict";var v=n(6854),b=n(6373);B.exports=function(O){return v(b(O))}},3550:(B,C,n)=>{"use strict";var v=n(3041);B.exports=function(b){var O=+b;return O!=O||0===O?0:v(O)}},3627:(B,C,n)=>{"use strict";var v=n(3550),b=Math.min;B.exports=function(O){return O>0?b(v(O),9007199254740991):0}},6015:(B,C,n)=>{"use strict";var v=n(6373),b=Object;B.exports=function(O){return b(v(O))}},634:(B,C,n)=>{"use strict";var v=n(2977),b=n(3988),O=n(8820),S=n(3923),U=n(532),F=n(5485),W=TypeError,N=F("toPrimitive");B.exports=function(A,x){if(!b(A)||O(A))return A;var I,P=S(A,N);if(P){if(void 0===x&&(x="default"),I=v(P,A,x),!b(I)||O(I))return I;throw new W("Can't convert object to primitive value")}return void 0===x&&(x="number"),U(A,x)}},3164:(B,C,n)=>{"use strict";var v=n(634),b=n(8820);B.exports=function(O){var S=v(O,"string");return b(S)?S:S+""}},1923:(B,C,n)=>{"use strict";var O={};O[n(5485)("toStringTag")]="z",B.exports="[object z]"===String(O)},2532:(B,C,n)=>{"use strict";var v=n(2702),b=String;B.exports=function(O){if("Symbol"===v(O))throw new TypeError("Cannot convert a Symbol value to a string");return b(O)}},7471:B=>{"use strict";var C=String;B.exports=function(n){try{return C(n)}catch{return"Object"}}},2858:(B,C,n)=>{"use strict";var v=n(4038),b=0,O=Math.random(),S=v(1..toString);B.exports=function(U){return"Symbol("+(void 0===U?"":U)+")_"+S(++b+O,36)}},3713:(B,C,n)=>{"use strict";var v=n(3370);B.exports=v&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2268:(B,C,n)=>{"use strict";var v=n(5007),b=n(5202);B.exports=v&&b(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},2543:(B,C,n)=>{"use strict";var v=n(730),b=n(2539),O=v.WeakMap;B.exports=b(O)&&/native code/.test(String(O))},5485:(B,C,n)=>{"use strict";var v=n(730),b=n(6568),O=n(2623),S=n(2858),U=n(3370),F=n(3713),W=v.Symbol,N=b("wks"),A=F?W.for||W:W&&W.withoutSetter||S;B.exports=function(x){return O(N,x)||(N[x]=U&&O(W,x)?W[x]:A("Symbol."+x)),N[x]}},5445:(B,C,n)=>{"use strict";var v=n(2189),b=n(9236),O=n(2572);v({target:"Array",proto:!0},{fill:b}),O("fill")},6272:(B,C,n)=>{"use strict";var v=n(2189),b=n(8459);v({target:"Array",stat:!0,forced:!n(3346)(function(U){Array.from(U)})},{from:b})},2947:(B,C,n)=>{"use strict";var v=n(2189),b=n(7830).values;v({target:"Object",stat:!0},{values:function(S){return b(S)}})},538:(B,C,n)=>{"use strict";var Z,v=n(2189),b=n(6192),O=n(3037).f,S=n(3627),U=n(2532),F=n(50),W=n(6373),N=n(6775),A=n(4708),x=b("".endsWith),P=b("".slice),I=Math.min,K=N("endsWith");v({target:"String",proto:!0,forced:!(!A&&!K&&(Z=O(String.prototype,"endsWith"),Z&&!Z.writable)||K)},{endsWith:function(z){var j=U(W(this));F(z);var d=arguments.length>1?arguments[1]:void 0,_=j.length,o=void 0===d?_:I(S(d),_),u=U(z);return x?x(j,u,o):P(j,o-u.length,o)===u}})},9477:(B,C,n)=>{"use strict";var v=n(6365).charAt,b=n(2532),O=n(5378),S=n(3174),U=n(3585),F="String Iterator",W=O.set,N=O.getterFor(F);S(String,"String",function(A){W(this,{type:F,string:b(A),index:0})},function(){var K,x=N(this),P=x.string,I=x.index;return I>=P.length?U(void 0,!0):(K=v(P,I),x.index+=K.length,U(K,!1))})},9731:(B,C,n)=>{"use strict";var v=n(2327);B.exports=v},4401:(B,C,n)=>{"use strict";var v=n(3274);B.exports=v},3661:(B,C,n)=>{"use strict";var v=n(5339);B.exports=v},5606:(B,C,n)=>{"use strict";var v=n(1189);B.exports=v}},ie={};function de(B){var C=ie[B];if(void 0!==C)return C.exports;var n=ie[B]={id:B,loaded:!1,exports:{}};return xn[B].call(n.exports,n,n.exports,de),n.loaded=!0,n.exports}de.n=B=>{var C=B&&B.__esModule?()=>B.default:()=>B;return de.d(C,{a:C}),C},de.d=(B,C)=>{for(var n in C)de.o(C,n)&&!de.o(B,n)&&Object.defineProperty(B,n,{enumerable:!0,get:C[n]})},de.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),de.o=(B,C)=>Object.prototype.hasOwnProperty.call(B,C),de.r=B=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(B,"__esModule",{value:!0})},de.nmd=B=>(B.paths=[],B.children||(B.children=[]),B);var _e={};return(()=>{"use strict";de.d(_e,{default:()=>Si}),de(1019),de(5142),de(1183),de(2570);var b=de(2432),O=de(715),S=de(4048),U=de(1233);function F(s){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function N(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,x(nt.key),nt)}}function x(s){var a=function P(s,a){if("object"!==F(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==F(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===F(a)?a:String(a)}function I(){return I=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,G,nt){var St=function K(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=o(s)););return s}(a,G);if(St){var Zt=Object.getOwnPropertyDescriptor(St,G);return Zt.get?Zt.get.call(arguments.length<3?a:nt):Zt.value}},I.apply(this,arguments)}function Z(s,a){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function o(s){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var u=function(s){!function w(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&Z(s,a)}(G,s);var a=function z(s){var a=function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=o(s);if(a){var Zt=o(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function j(s,a){if(a&&("object"===F(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function d(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}(G);function G(){return function W(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),a.apply(this,arguments)}return function A(s,a,G){a&&N(s.prototype,a),G&&N(s,G),Object.defineProperty(s,"prototype",{writable:!1})}(G,[{key:"add",value:function(St,Zt){if("+1"===Zt||"-1"===Zt){var xe=this.value(St)||0;Zt="+1"===Zt?xe+1:xe-1}return 0===Zt?(this.remove(St),!0):I(o(G.prototype),"add",this).call(this,St,Zt)}},{key:"canAdd",value:function(St,Zt){return I(o(G.prototype),"canAdd",this).call(this,St,Zt)||I(o(G.prototype),"canAdd",this).call(this,St,parseInt(Zt,10))}},{key:"value",value:function(St){return parseInt(I(o(G.prototype),"value",this).call(this,St),10)||void 0}}]),G}(U.ClassAttributor);const y=new u("indent","ql-indent",{scope:U.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});var R=de(6446);function D(s){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function q(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,ft(nt.key),nt)}}function ft(s){var a=function ht(s,a){if("object"!==D(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==D(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===D(a)?a:String(a)}function Et(s,a){return(Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function H(s){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var T=function(s){!function ot(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&Et(s,a)}(G,s);var a=function X(s){var a=function at(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=H(s);if(a){var Zt=H(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function vt(s,a){if(a&&("object"===D(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function st(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}(G);function G(){return function dt(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),a.apply(this,arguments)}return function et(s,a,G){return a&&q(s.prototype,a),G&&q(s,G),Object.defineProperty(s,"prototype",{writable:!1}),s}(G)}(R.ZP);T.blotName="blockquote",T.tagName="blockquote";const Y=T;function J(s){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function lt(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,Rt(nt.key),nt)}}function Rt(s){var a=function rt(s,a){if("object"!==J(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==J(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===J(a)?a:String(a)}function _t(s,a){return(_t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function E(s){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var l=function(s){!function Q(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&_t(s,a)}(G,s);var a=function tt(s){var a=function Ot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=E(s);if(a){var Zt=E(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function it(s,a){if(a&&("object"===J(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function ct(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}(G);function G(){return function k(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),a.apply(this,arguments)}return function mt(s,a,G){a&&lt(s.prototype,a),G&&lt(s,G),Object.defineProperty(s,"prototype",{writable:!1})}(G,null,[{key:"formats",value:function(St){return this.tagName.indexOf(St.tagName)+1}}]),G}(R.ZP);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"];const i=l;var g=de(3553),p=de(281);function M(s){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function ut(){return ut=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,G,nt){var St=function wt(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=Ut(s)););return s}(a,G);if(St){var Zt=Object.getOwnPropertyDescriptor(St,G);return Zt.get?Zt.get.call(arguments.length<3?a:nt):Zt.value}},ut.apply(this,arguments)}function Ft(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,Kt(nt.key),nt)}}function Pt(s,a,G){return a&&Ft(s.prototype,a),G&&Ft(s,G),Object.defineProperty(s,"prototype",{writable:!1}),s}function Kt(s){var a=function Xt(s,a){if("object"!==M(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==M(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===M(a)?a:String(a)}function ee(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function bt(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&xt(s,a)}function xt(s,a){return(xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function Nt(s){var a=function Wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=Ut(s);if(a){var Zt=Ut(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function jt(s,a){if(a&&("object"===M(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function kt(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}function Ut(s){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var $t=function(s){bt(G,s);var a=Nt(G);function G(){return ee(this,G),a.apply(this,arguments)}return Pt(G)}(g.Z);$t.blotName="list-container",$t.tagName="OL";var Gt=function(s){bt(G,s);var a=Nt(G);function G(nt,St){var Zt;ee(this,G),Zt=a.call(this,nt,St);var xe=St.ownerDocument.createElement("span"),Tn=function(Vn){if(nt.isEnabled()){var Gn=Zt.statics.formats(St,nt);"checked"===Gn?(Zt.format("list","unchecked"),Vn.preventDefault()):"unchecked"===Gn&&(Zt.format("list","checked"),Vn.preventDefault())}};return xe.addEventListener("mousedown",Tn),xe.addEventListener("touchstart",Tn),Zt.attachUI(xe),Zt}return Pt(G,[{key:"format",value:function(St,Zt){St===this.statics.blotName&&Zt?this.domNode.setAttribute("data-list",Zt):ut(Ut(G.prototype),"format",this).call(this,St,Zt)}}],[{key:"create",value:function(St){var Zt=ut(Ut(G),"create",this).call(this);return Zt.setAttribute("data-list",St),Zt}},{key:"formats",value:function(St){return St.getAttribute("data-list")||void 0}},{key:"register",value:function(){p.ZP.register($t)}}]),G}(R.ZP);Gt.blotName="list",Gt.tagName="LI",$t.allowedChildren=[Gt],Gt.requiredContainer=$t;var le=de(7898),fe=de(6039),me=de(5832),be=de(1629),Le=de(3991);function ye(s){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function gt(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,Tt(nt.key),nt)}}function Tt(s){var a=function Mt(s,a){if("object"!==ye(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==ye(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===ye(a)?a:String(a)}function Ht(s,a){return(Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function ae(s){return(ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var Ee=function(s){!function It(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&Ht(s,a)}(G,s);var a=function qt(s){var a=function ue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=ae(s);if(a){var Zt=ae(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function oe(s,a){if(a&&("object"===ye(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function se(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}(G);function G(){return function Lt(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),a.apply(this,arguments)}return function At(s,a,G){return a&&gt(s.prototype,a),G&&gt(s,G),Object.defineProperty(s,"prototype",{writable:!1}),s}(G)}(Le.Z);Ee.blotName="italic",Ee.tagName=["EM","I"];const $e=Ee;var Ye=de(7256),vr=de(6603);function lr(s){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function Mr(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,wr(nt.key),nt)}}function wr(s){var a=function Br(s,a){if("object"!==lr(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==lr(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===lr(a)?a:String(a)}function mr(){return mr=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,G,nt){var St=function pe(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=De(s)););return s}(a,G);if(St){var Zt=Object.getOwnPropertyDescriptor(St,G);return Zt.get?Zt.get.call(arguments.length<3?a:nt):Zt.value}},mr.apply(this,arguments)}function Ze(s,a){return(Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function De(s){return(De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var We=function(s){!function Ar(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&Ze(s,a)}(G,s);var a=function Or(s){var a=function ir(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=De(s);if(a){var Zt=De(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function xr(s,a){if(a&&("object"===lr(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function Dr(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}(G);function G(){return function Ce(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),a.apply(this,arguments)}return function Vr(s,a,G){a&&Mr(s.prototype,a),G&&Mr(s,G),Object.defineProperty(s,"prototype",{writable:!1})}(G,null,[{key:"create",value:function(St){return"super"===St?document.createElement("sup"):"sub"===St?document.createElement("sub"):mr(De(G),"create",this).call(this,St)}},{key:"formats",value:function(St){return"SUB"===St.tagName?"sub":"SUP"===St.tagName?"super":void 0}}]),G}(vr.Z);We.blotName="script",We.tagName=["SUB","SUP"];const ke=We;function Se(s){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function je(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,Xe(nt.key),nt)}}function Xe(s){var a=function kr(s,a){if("object"!==Se(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==Se(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===Se(a)?a:String(a)}function ze(s,a){return(ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function or(s){return(or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var gr=function(s){!function Cr(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&ze(s,a)}(G,s);var a=function sr(s){var a=function Ur(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=or(s);if(a){var Zt=or(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function jr(s,a){if(a&&("object"===Se(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function Fr(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}(G);function G(){return function Er(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),a.apply(this,arguments)}return function Rr(s,a,G){return a&&je(s.prototype,a),G&&je(s,G),Object.defineProperty(s,"prototype",{writable:!1}),s}(G)}(Le.Z);gr.blotName="strike",gr.tagName=["S","STRIKE"];const Gr=gr;function Qe(s){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function Ir(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,Je(nt.key),nt)}}function Je(s){var a=function Re(s,a){if("object"!==Qe(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==Qe(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===Qe(a)?a:String(a)}function cr(s,a){return(cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function yr(s){return(yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var He=function(s){!function ur(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&cr(s,a)}(G,s);var a=function tr(s){var a=function Fe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=yr(s);if(a){var Zt=yr(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function Lr(s,a){if(a&&("object"===Qe(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function fr(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}(G);function G(){return function Ke(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),a.apply(this,arguments)}return function qr(s,a,G){return a&&Ir(s.prototype,a),G&&Ir(s,G),Object.defineProperty(s,"prototype",{writable:!1}),s}(G)}(vr.Z);He.blotName="underline",He.tagName="U";const Ae=He;var Sr=de(7452),br=de(8034);function Ve(s){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function er(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,rr(nt.key),nt)}}function rr(s){var a=function ar(s,a){if("object"!==Ve(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==Ve(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===Ve(a)?a:String(a)}function _r(){return _r=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,G,nt){var St=function Ge(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=m(s)););return s}(a,G);if(St){var Zt=Object.getOwnPropertyDescriptor(St,G);return Zt.get?Zt.get.call(arguments.length<3?a:nt):Zt.value}},_r.apply(this,arguments)}function hr(s,a){return(hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function m(s){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var V=function(s){!function Hr(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&hr(s,a)}(G,s);var a=function Yr(s){var a=function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=m(s);if(a){var Zt=m(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function $r(s,a){if(a&&("object"===Ve(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function h(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}(G);function G(){return function Tr(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),a.apply(this,arguments)}return function Zr(s,a,G){a&&er(s.prototype,a),G&&er(s,G),Object.defineProperty(s,"prototype",{writable:!1})}(G,[{key:"html",value:function(){var St=this.value();return"<span>".concat(St.formula,"</span>")}}],[{key:"create",value:function(St){var Zt=null;if((0,br.Z)()&&(Zt=window.katex),null==Zt)throw new Error("Formula module requires KaTeX.");var xe=_r(m(G),"create",this).call(this,St);return"string"==typeof St&&(Zt.render(St,xe,{throwOnError:!1,errorColor:"#f00"}),xe.setAttribute("data-value",St)),xe}},{key:"value",value:function(St){return St.getAttribute("data-value")}}]),G}(Sr.Z);V.blotName="formula",V.className="ql-formula",V.tagName="SPAN";const Ct=V;function Bt(s){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function re(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,Jt(nt.key),nt)}}function Jt(s){var a=function he(s,a){if("object"!==Bt(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==Bt(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===Bt(a)?a:String(a)}function ge(){return ge=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,G,nt){var St=function ve(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=dr(s)););return s}(a,G);if(St){var Zt=Object.getOwnPropertyDescriptor(St,G);return Zt.get?Zt.get.call(arguments.length<3?a:nt):Zt.value}},ge.apply(this,arguments)}function Te(s,a){return(Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function dr(s){return(dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var Wr=["alt","height","width"],ln=function(s){!function we(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&Te(s,a)}(G,s);var a=function nr(s){var a=function an(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=dr(s);if(a){var Zt=dr(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function qe(s,a){if(a&&("object"===Bt(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function Nr(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}(G);function G(){return function Yt(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),a.apply(this,arguments)}return function ce(s,a,G){a&&re(s.prototype,a),G&&re(s,G),Object.defineProperty(s,"prototype",{writable:!1})}(G,[{key:"format",value:function(St,Zt){Wr.indexOf(St)>-1?Zt?this.domNode.setAttribute(St,Zt):this.domNode.removeAttribute(St):ge(dr(G.prototype),"format",this).call(this,St,Zt)}}],[{key:"create",value:function(St){var Zt=ge(dr(G),"create",this).call(this,St);return"string"==typeof St&&Zt.setAttribute("src",this.sanitize(St)),Zt}},{key:"formats",value:function(St){return Wr.reduce(function(Zt,xe){return St.hasAttribute(xe)&&(Zt[xe]=St.getAttribute(xe)),Zt},{})}},{key:"match",value:function(St){return/\.(jpe?g|gif|png)$/.test(St)||/^data:image\/.+;base64/.test(St)}},{key:"register",value:function(){(0,br.Z)()&&/Firefox/i.test(navigator.userAgent)&&setTimeout(function(){document.execCommand("enableObjectResizing",!1,!1)},1)}},{key:"sanitize",value:function(St){return(0,Ye.N)(St,["http","https","data"])?St:"//:0"}},{key:"value",value:function(St){return St.getAttribute("src")}}]),G}(U.EmbedBlot);ln.blotName="image",ln.tagName="IMG";const nn=ln;function zr(s){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function gn(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,Rn(nt.key),nt)}}function Rn(s){var a=function Jn(s,a){if("object"!==zr(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==zr(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===zr(a)?a:String(a)}function Qr(){return Qr=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,G,nt){var St=function ti(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=Xr(s)););return s}(a,G);if(St){var Zt=Object.getOwnPropertyDescriptor(St,G);return Zt.get?Zt.get.call(arguments.length<3?a:nt):Zt.value}},Qr.apply(this,arguments)}function sn(s,a){return(sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function Xr(s){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var bn=["height","width"],un=function(s){!function yn(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&sn(s,a)}(G,s);var a=function ei(s){var a=function ri(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=Xr(s);if(a){var Zt=Xr(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function In(s,a){if(a&&("object"===zr(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function Ln(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}(G);function G(){return function Xn(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),a.apply(this,arguments)}return function Qn(s,a,G){a&&gn(s.prototype,a),G&&gn(s,G),Object.defineProperty(s,"prototype",{writable:!1})}(G,[{key:"format",value:function(St,Zt){bn.indexOf(St)>-1?Zt?this.domNode.setAttribute(St,Zt):this.domNode.removeAttribute(St):Qr(Xr(G.prototype),"format",this).call(this,St,Zt)}},{key:"html",value:function(){var Zt=this.value().video;return'<a href="'.concat(Zt,'">').concat(Zt,"</a>")}}],[{key:"create",value:function(St){var Zt=Qr(Xr(G),"create",this).call(this,St);return Zt.setAttribute("frameborder","0"),Zt.setAttribute("allowfullscreen",!0),Zt.setAttribute("src",this.sanitize(St)),Zt}},{key:"formats",value:function(St){return bn.reduce(function(Zt,xe){return St.hasAttribute(xe)&&(Zt[xe]=St.getAttribute(xe)),Zt},{})}},{key:"sanitize",value:function(St){return Ye.Z.sanitize(St)}},{key:"value",value:function(St){return St.getAttribute("src")}}]),G}(R.i2);un.blotName="video",un.className="ql-video",un.tagName="IFRAME";const ni=un;var _n=de(7309),ii=de(9072),Nn=de(867),oi=de(9098),Mn=de.n(oi);function Jr(s){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function Bn(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,si(nt.key),nt)}}function si(s){var a=function ui(s,a){if("object"!==Jr(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==Jr(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===Jr(a)?a:String(a)}function On(s,a){return(On=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function cn(s){return(cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}var fn=function(s){!function ci(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&On(s,a)}(G,s);var a=function fi(s){var a=function pi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=cn(s);if(a){var Zt=cn(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function hi(s,a){if(a&&("object"===Jr(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function di(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,St)}}(G);function G(){return function ai(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),a.apply(this,arguments)}return function li(s,a,G){a&&Bn(s.prototype,a),G&&Bn(s,G),Object.defineProperty(s,"prototype",{writable:!1})}(G,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return"\n"}},{key:"optimize",value:function(){!this.prev&&!this.next&&this.remove()}}],[{key:"value",value:function(){return"\n"}}]),G}(U.EmbedBlot);fn.blotName="multilineBreak",fn.tagName="BR";const Dn=fn;function tn(s){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function Fn(s,a){for(var G=0;G<a.length;G++){var nt=a[G];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,En(nt.key),nt)}}function En(s){var a=function Un(s,a){if("object"!==tn(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==tn(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===tn(a)?a:String(a)}function Cn(s,a){return(Cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,St){return nt.__proto__=St,nt})(s,a)}function Sn(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function hn(s){return(hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)})(s)}function bi(s){return s.nextSibling||s.previousSibling?(new(Mn())).insert({multilineBreak:""}):(new(Mn())).insert("\n")}const Kr=function(s){!function gi(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&Cn(s,a)}(G,s);var a=function yi(s){var a=function Hn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var St,nt=hn(s);if(a){var Zt=hn(this).constructor;St=Reflect.construct(nt,arguments,Zt)}else St=nt.apply(this,arguments);return function Zn(s,a){if(a&&("object"===tn(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return Sn(s)}(this,St)}}(G);function G(nt,St){var Zt;return function jn(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,G),Zt=a.call(this,nt,St),p.ZP.register(function vi(s,a,G){return(a=En(a))in s?Object.defineProperty(s,a,{value:G,enumerable:!0,configurable:!0,writable:!0}):s[a]=G,s}({},"blots/multilineBreak",Dn),!0),nt.keyboard.addBinding({key:"enter",shiftKey:!0},Zt.enterHandler.bind(Sn(Zt))),nt.keyboard.bindings.enter.unshift(nt.keyboard.bindings.enter.pop()),nt.clipboard.addMatcher("BR",bi),Zt}return function mi(s,a,G){a&&Fn(s.prototype,a),G&&Fn(s,G),Object.defineProperty(s,"prototype",{writable:!1})}(G,[{key:"enterHandler",value:function(St){var Zt=this.quill.getLeaf(St.index)[0],xe=this.quill.getLeaf(St.index+1)[0];this.quill.insertEmbed(St.index,"multilineBreak",!0,"user"),(null===xe||Zt.parent!==xe.parent)&&this.quill.insertEmbed(St.index,"multilineBreak",!0,"user"),this.quill.setSelection(St.index+1,p.ZP.sources.SILENT)}}]),G}(de(7094).Z);var _i=de(6054),Wn=de(1342),zn=de(319);function on(s){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function Kn(s,a){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(s);a&&(nt=nt.filter(function(St){return Object.getOwnPropertyDescriptor(s,St).enumerable})),G.push.apply(G,nt)}return G}function dn(s){for(var a=1;a<arguments.length;a++){var G=null!=arguments[a]?arguments[a]:{};a%2?Kn(Object(G),!0).forEach(function(nt){Oi(s,nt,G[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(G)):Kn(Object(G)).forEach(function(nt){Object.defineProperty(s,nt,Object.getOwnPropertyDescriptor(G,nt))})}return s}function Oi(s,a,G){return a=function Ei(s){var a=function Ci(s,a){if("object"!==on(s)||null===s)return s;var G=s[Symbol.toPrimitive];if(void 0!==G){var nt=G.call(s,a||"default");if("object"!==on(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===on(a)?a:String(a)}(a),a in s?Object.defineProperty(s,a,{value:G,enumerable:!0,configurable:!0,writable:!0}):s[a]=G,s}function pn(s,a){return a.reduce(function(G,nt){return G["".concat(s).concat(nt.attrName)]=nt,G},{})}b.default.register(dn(dn(dn(dn({"attributors/attribute/direction":S.IF},pn("attributors/attribute/",zn.Qu)),pn("attributors/attribute/",Wn.yA)),{},{"attributors/class/align":O.dk,"attributors/class/background":le.Y,"attributors/class/color":fe.Hn,"attributors/class/direction":S.hY,"attributors/class/font":me._,"attributors/class/size":be.m,"attributors/style/align":O.HE,"attributors/style/background":le.w,"attributors/style/color":fe.HQ,"attributors/style/direction":S.H8,"attributors/style/font":me.H,"attributors/style/size":be.Z},pn("attributors/style/",zn.VT)),pn("attributors/style/",Wn.kk)),!0),b.default.register({"formats/align":O.dk,"formats/direction":S.hY,"formats/indent":y,"formats/background":le.w,"formats/color":fe.HQ,"formats/font":me._,"formats/size":be.m,"formats/blockquote":Y,"formats/code-block":_n.ZP,"formats/header":i,"formats/list":Gt,"formats/bold":Le.Z,"formats/code":_n.EK,"formats/italic":$e,"formats/link":Ye.Z,"formats/script":ke,"formats/strike":Gr,"formats/underline":Ae,"formats/formula":Ct,"formats/image":nn,"formats/video":ni,"tableModules/lite":_i.Z,"tableModules/main":Nn.Z,"modules/syntax":ii.ZP,"modules/multiline":Kr,"modules/table":Nn.Z},!0);const Si=b.default})(),_e.default})(),ki.exports=de()}}]);