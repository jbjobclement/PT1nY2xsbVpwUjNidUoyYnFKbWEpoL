"use strict";(self.webpackChunkJbNotifier=self.webpackChunkJbNotifier||[]).push([[19818],{19818:(j,p,i)=>{i.r(p),i.d(p,{TopicsModule:()=>Z});var d=i(96814),y=i(31610),s=i(88762),c=i(23758);const F=[{type:"buttons",fixed:!0,buttons:[{name:"save",template:"grid-save-button"},{name:"edit",template:"grid-edit-button"},{name:"delete",template:"grid-delete-button"},{name:"cancel",template:"grid-cancel-button"}]},{dataField:"id",visible:!1},{dataField:"concurrencyStamp",visible:!1},{dataField:"idCode",caption:"idCode",dataType:"string"},{dataField:"name",caption:"\u540d\u7a31",dataType:"string"},{dataField:"sortingNumber",caption:"\u6392\u5e8f",dataType:"number",visible:!1},{dataField:"receiverIds",caption:"",dataType:"object",visible:!1,calculateCellValue:e=>e.receiverIds?.map(r=>({id:r.id,displayName:r.name}))}],l={index:"/api/app/jbnotifier-admin/topics",get:"/api/app/jbnotifier-admin/topics",create:"/api/app/jbnotifier-admin/topics",update:"/api/app/jbnotifier-admin/topics",delete:"/api/app/jbnotifier-admin/topics"},T=[{dataField:"receiverIds",path:"/api/app/jbnotifier-admin/topics/receiver-lookup"}],g=[{dataField:"id",mapping:["topic","id"]},{dataField:"concurrencyStamp",mapping:["concurrencyStamp"]},{dataField:"idCode",queryStringKey:"IdCode",mapping:["topic","idCode"]},{dataField:"name",queryStringKey:"Name",mapping:["topic","name"]},{dataField:"sortingNumber",queryStringKey:"SortingNumber",mapping:["topic","sortingNumber"]},{dataField:"receiverIds",queryStringKey:"ReceiverIds",mapping:["receivers"]}],m=[{dataField:"idCode",editorType:"dxTextBox",colSpan:1},{dataField:"name",editorType:"dxTextBox",colSpan:1},{dataField:"sortingNumber",editorType:"dxTextBox",colSpan:1},{dataField:"receiverIds",editorType:"dxTagBox",editorOptions:{displayExpr:"displayName"},colSpan:1}],v={popup:{title:"::"},form:{colCount:2,items:m}},S={popup:{title:"::"},form:{colCount:2,items:m}};var t=i(19212),x=i(67),C=i(72783),h=i(44347),M=i(10313),b=i(20843),u=i(2173),N=i(25012);const Q=["grid"];function A(e,r){if(1&e&&t._UZ(0,"app-grid-general-filter",7),2&e){t.oxw();const n=t.MAs(1);t.Q6J("grid",n)}}function B(e,r){1&e&&t.GkF(0)}const D=e=>({$implicit:e});function P(e,r){if(1&e&&(t.ynx(0),t.YNc(1,B,1,0,"ng-container",9),t.BQk()),2&e){const n=r.$implicit,a=t.oxw().$implicit,o=t.oxw();t.xp6(),t.Q6J("ngTemplateOutlet",o.templateStore.getGridTemplates(a.key))("ngTemplateOutletContext",t.VKq(2,D,n))}}function U(e,r){if(1&e&&(t.ynx(0),t.YNc(1,P,2,4,"ng-container",8),t.BQk()),2&e){const n=r.$implicit;t.xp6(),t.Q6J("dxTemplateOf",n.key)}}const I=()=>({type:"default",stylingMode:"contained"}),J=[{path:"",component:(()=>{class e{constructor(n,a){this.gridDataSourceService=n,this.templateStore=a,this.columns=F,this.cRUDEndpoints=l,this.dataFieldLookupSourceMapping=T,this.relatedDataValueAndQueryStringKeyMapping=g,this.editingPropertiesForCreating=v,this.editingPropertiesForUpdating=S}ngOnInit(){this.gridDataSource=this.gridDataSourceService.getDataSource(l,g)}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(x.I),t.Y36(C.z))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-topics"]],viewQuery:function(a,o){if(1&a&&t.Gf(Q,5),2&a){let f;t.iGM(f=t.CRH())&&(o.grid=f.first)}},decls:9,vars:12,consts:[["appGridFeature","",3,"datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","editingPropertiesForCreating","editingPropertiesForUpdating","columns","dataSource","isEditingDataAsync"],["grid",""],["name","addRowButton","location","before","widget","dxButton","cssClass","mb-1",3,"options"],["location","after"],[3,"grid",4,"dxTemplate"],["name","applyFilterButton","cssClass","d-none"],[4,"ngFor","ngForOf"],[3,"grid"],[4,"dxTemplate","dxTemplateOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(a,o){1&a&&(t.TgZ(0,"dx-data-grid",0,1)(2,"dxo-toolbar"),t._UZ(3,"dxi-item",2),t.TgZ(4,"dxi-item",3),t.YNc(5,A,1,1,"app-grid-general-filter",4),t.qZA(),t._UZ(6,"dxi-item",5),t.qZA(),t.YNc(7,U,2,1,"ng-container",6),t.ALo(8,"keyvalue"),t.qZA()),2&a&&(t.Q6J("datafieldValueQueryStringKeyMapping",o.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",o.dataFieldLookupSourceMapping)("editingPropertiesForCreating",o.editingPropertiesForCreating)("editingPropertiesForUpdating",o.editingPropertiesForUpdating)("columns",o.columns)("dataSource",o.gridDataSource)("isEditingDataAsync",!0),t.xp6(3),t.Q6J("options",t.DdM(11,I)),t.xp6(4),t.Q6J("ngForOf",t.lcZ(8,9,o.templateStore.gridTemplates)))},dependencies:[d.sg,d.tP,h._,M.w,b.p6,u.ZT3,N.e,u.y1f,d.Nd],encapsulation:2})}return e})(),canActivate:[s.a1M,s.nG9]}];let K=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(J),c.Bz]})}return e})();var O=i(5533);let Z=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[d.ez,K,y.m,O.P]})}return e})()}}]);