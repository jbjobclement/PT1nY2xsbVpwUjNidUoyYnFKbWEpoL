"use strict";(self.webpackChunkJbNotifier=self.webpackChunkJbNotifier||[]).push([[20654],{20654:(yt,g,r)=>{r.r(g),r.d(g,{NotificationRecordsModule:()=>ft});var p=r(96814),h=r(23758);const C={index:"/api/app/jbnotifier-admin/notification-records"},O=[{dataField:"notificationCategoryId",path:"/api/app/notification-infos/assignable-notification-categories",pathForSelectedDisplay:"/api/app/notification-categories"}],w=[],y=[{name:"id",mapping:["notification","id"]},{name:"isRepushable",mapping:["isRepushable"]},{name:"concurrencyStamp",mapping:["notificationInfo","concurrencyStamp"]},{name:"tenantName",queryStringKey:"TenantName",mapping:["tenant","name"]},{name:"notificationInfoTypeShow",mapping:["notificationInfo","typeShow"]},{name:"notificationInfoType",queryStringKey:"Type",mapping:["notificationInfo","type"]},{dataField:"notificationInfoName",mapping:["notificationInfo","name"]},{name:"notificationProvidersDisplayName",mapping:["notificationProviders","displayName"]},{dataField:"notificationProviders",mapping:["notificationProviders"]},{dataField:"notificationRecordId",mapping:["notificationRecord","id"]},{name:"notificationSchedulePlan",mapping:["notificationSchedulePlan"]},{dataField:"notificationRecordPushTime",queryStringKey:"PushTime",mapping:["notificationRecord","pushTime"]},{dataField:"notificationRecordIsManual",queryStringKey:"IsManual",mapping:["notificationRecord","isManual"]},{dataField:"receiverName",queryStringKey:"ReceiverName",mapping:["receiver","name"]},{dataField:"notificationCategoryName",queryStringKey:"NotificationCategoryName",mapping:["notificationCategory","name"]},{dataField:"notificationRecordTitle",queryStringKey:"Title",mapping:["notificationRecord","title"]},{dataField:"notificationRecordSubtitle",queryStringKey:"SubTitle",mapping:["notificationRecord","subtitle"]},{dataField:"notificationRecordTextContent",queryStringKey:"TextContent",mapping:["notificationRecord","textContent"]},{dataField:"notificationRecordHtmlContent",queryStringKey:"HtmlContent",mapping:["notificationRecord","htmlContent"]},{dataField:"notificationRecordIsModifiedWhenPending",queryStringKey:"IsModifiedWhenPending",mapping:["notificationRecord","isModifiedWhenPending"]},{dataField:"notificationRecordIsFullyFinished",queryStringKey:"IsFullyFinished",mapping:["notificationRecord","isFullyFinished"]},{dataField:"notificationRecordIsCompeletySuccessful",queryStringKey:"IsCompletelySuccessful",mapping:["notificationRecord","isCompletelySuccessful"]},{dataField:"notificationIsRead",queryStringKey:"NotificationIsRead",mapping:["notification","isRead"]}],x={imageUpload:{fileUploadMode:"both",tabs:["url","file"]},toolbar:{items:[{name:"undo"},{name:"redo"},{name:"separator"},{name:"size",acceptedValues:["8pt","10pt","12pt","14pt","18pt","24pt","36pt"]},{name:"font",acceptedValues:["Arial","Georgia","Tahoma","Times New Roman","Verdana"]},{name:"separator"},{name:"bold"},{name:"italic"},{name:"strike"},{name:"underline"},{name:"separator"},{name:"alignLeft"},{name:"alignCenter"},{name:"alignRight"},{name:"alignJustify"},{name:"separator"},{name:"orderedList"},{name:"bulletList"},{name:"separator"},{name:"header",acceptedValues:[!1,1,2,3,4,5]},{name:"separator"},{name:"color"},{name:"background"},{name:"separator"},{name:"link"},{name:"image"},{name:"separator"},{name:"clear"},{name:"codeBlock"},{name:"blockquote"},{name:"separator"},{name:"insertTable"},{name:"deleteTable"},{name:"insertRowAbove"},{name:"insertRowBelow"},{name:"deleteRow"},{name:"insertColumnLeft"},{name:"insertColumnRight"},{name:"deleteColumn"},{name:"cellProperties"},{name:"tableProperties"}]}},T=[{itemType:"group",name:"basicGroup",caption:"\u57fa\u672c",colCount:2,items:[{dataField:"notificationProviderDefinitionIds"},{itemType:"group",name:"receiverGroup",colCount:2,items:[{dataField:"isForAllReceivers",editorType:"dxCheckBox"},{itemType:"empty"},{dataField:"receiverIds",label:{visible:!1}},{dataField:"receiverGroupIds",label:{visible:!1}}]}]},{itemType:"group",name:"notificationSettingGroup",caption:"\u8a2d\u5b9a",colCount:2,items:[{dataField:"notificationSettingRadioGroup",label:{visible:!1}},{dataField:"notificationSettingItems",label:{visible:!1}}]},{itemType:"group",name:"notificationContentGroup",caption:"\u901a\u77e5\u5167\u5bb9",colCount:2,items:[{dataField:"notificationCategoryId",editorType:"dxSelectBox"},{dataField:"title",editorType:"dxTextBox"},{itemType:"group",name:"textboxGroup",items:[{dataField:"subtitle",editorType:"dxTextBox"},{dataField:"notificationDataFetchEndpoint",editorType:"dxTextBox"},{dataField:"hookEndpoint",editorType:"dxTextBox"}]},{itemType:"group",name:"textareaGroup",items:[{dataField:"textContent",editorType:"dxTextArea",editorOptions:{height:"100px"}},{dataField:"isFetchNotificationDataByEachReceiver",editorType:"dxCheckBox"}]},{dataField:"htmlContent",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{...x,height:"250px"}}]}],D=[{itemType:"group",name:"basicGroup",caption:"\u57fa\u672c",colCount:2,items:[{dataField:"notificationProviderDefinitionIds"},{itemType:"group",name:"receiverGroup",colCount:2,items:[{dataField:"isForAllReceivers",editorType:"dxCheckBox",editorOptions:{disabled:!0}},{itemType:"empty"},{dataField:"receiverIds",label:{visible:!1}},{dataField:"receiverGroupIds",label:{visible:!1}}]}]},{itemType:"group",name:"notificationSettingGroup",caption:"\u8a2d\u5b9a",colCount:2,items:[{dataField:"notificationSettingRadioGroup",label:{visible:!1}},{dataField:"notificationSettingItems",label:{visible:!1}}]},{itemType:"group",name:"notificationContentGroup",caption:"\u901a\u77e5\u5167\u5bb9",colCount:2,items:[{dataField:"notificationCategoryId",editorType:"dxSelectBox",editorOptions:{disabled:!0}},{dataField:"title",editorType:"dxTextBox",editorOptions:{disabled:!0}},{itemType:"group",name:"textboxGroup",items:[{dataField:"subtitle",editorType:"dxTextBox",editorOptions:{disabled:!0}},{dataField:"notificationDataFetchEndpoint",editorType:"dxTextBox",editorOptions:{disabled:!0}},{dataField:"hookEndpoint",editorType:"dxTextBox",editorOptions:{disabled:!0}}]},{itemType:"group",name:"textareaGroup",items:[{dataField:"textContent",editorType:"dxTextArea",editorOptions:{height:"100px",disabled:!0}},{dataField:"isFetchNotificationDataByEachReceiver",editorType:"dxCheckBox",editorOptions:{disabled:!0}}]},{dataField:"htmlContent",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{...x,height:"250px",disabled:!0}}]}],V={form:{colCount:1,items:T}},A={form:{colCount:1,items:D},popup:{wrapperAttr:{class:"instant-notification-infos-view"},toolbarItems:[]}};var K=r(86659),d=r(35461),b=r(93116);const m=[{id:0,name:"\u5373\u6642"},{id:1,name:"\u9810\u7d04"},{id:2,name:"\u91cd\u8907"}],E=[{type:"buttons",fixed:!0,buttons:[{name:"repush",template:"repush",visible:e=>e.row.data.isRepushable}]},{dataField:"id",visible:!1},{dataField:"concurrencyStamp",visible:!1},{name:"tenantName",caption:"\u79df\u6236\u540d\u7a31",dataType:"string",filterOperations:d.I$.text},{name:"notificationInfoTypeShow",caption:"\u578b\u614b",dataType:"string",filterOperations:d.I$.text,visible:!1},{name:"notificationInfoType",caption:"\u578b\u614b",dataType:"string",lookup:{valueExpr:"id",displayExpr:"name",allowClearing:!0,dataSource:{store:new K.Z({key:"id",load:e=>e.searchValue?m.filter(i=>i.name.includes(e.searchValue)):m,byKey(e,l){const i=m.find(o=>o.id===e);return new Promise(o=>{o(i)})}})}},calculateDisplayValue:e=>e.notificationInfoTypeShow},{dataField:"notificationInfoName",caption:"\u540d\u7a31",dataType:"string",filterOperations:d.I$.text},{name:"notificationProvidersDisplayName",caption:"\u63d0\u4f9b\u8005",dataType:"object",calculateDisplayValue:e=>e.notificationProviders.map(l=>l.displayName).join("\u3001"),allowFiltering:!1,allowSorting:!1},{name:"notificationSchedulePlan",caption:"\u6642\u9593\u8a08\u756b",dataType:"object",calculateDisplayValue:e=>0===e.notificationInfoType&&e.notificationSchedulePlan?(0,b.m)(e.notificationSchedulePlan.pushTime):1===e.notificationInfoType&&e.notificationSchedulePlan?(0,b.m)(e.notificationSchedulePlan.pushTime)+`(${e.notificationSchedulePlan.name})`:2===e.notificationInfoType&&e.notificationSchedulePlan?e.notificationSchedulePlan.cronDescription+`(${e.notificationSchedulePlan.name})`:void 0,allowFiltering:!1,allowSorting:!1},{dataField:"notificationRecordPushTime",caption:"\u63a8\u9001\u6642\u9593",dataType:"datetime",format:"yyyy/MM/dd HH:mm:ss",filterOperations:d.I$.datetime},{dataField:"notificationRecordIsManual",caption:"\u624b\u52d5",dataType:"boolean"},{dataField:"receiverName",caption:"\u63a5\u6536\u8005",dataType:"string",filterOperations:d.I$.text},{dataField:"notificationCategoryName",caption:"\u5206\u985e",dataType:"string",filterOperations:d.I$.text},{dataField:"notificationRecordTitle",caption:"\u6a19\u984c",dataType:"string",filterOperations:d.I$.text},{dataField:"notificationRecordSubtitle",caption:"\u526f\u6a19\u984c",dataType:"string",filterOperations:d.I$.text},{dataField:"notificationRecordId",dataType:"string",visible:!1},{dataField:"notificationRecordTextContent",caption:"\u6587\u5b57\u5167\u5bb9",cellTemplate:"shortTextContent",filterOperations:d.I$.text},{dataField:"notificationRecordHtmlContent",caption:"HTML\u5167\u5bb9",cellTemplate:"shortHtmlContent",filterOperations:d.I$.text},{dataField:"notificationRecordIsModifiedWhenPending",caption:"\u7b49\u5019\u5340\u7570\u52d5",dataType:"boolean"},{dataField:"notificationRecordIsFullyFinished",caption:"\u5168\u90e8\u7d50\u675f",dataType:"boolean"},{dataField:"notificationRecordIsCompeletySuccessful",caption:"\u5b8c\u5168\u6210\u529f",dataType:"boolean"},{dataField:"notificationIsRead",caption:"\u63a5\u6536\u8005\u5df2\u8b80",dataType:"boolean",calculateCellValue:e=>!!e.notificationIsRead},{dataField:"shortResultMessages",caption:"\u8a73\u7d30\u8a0a\u606f",dataType:"string",visible:!1},{dataField:"isRepushable",dataType:"boolean",visible:!1},{type:"detailExpand",fixed:!0,fixedPosition:"right"}];var R=r(94664),t=r(19212),v=r(53009),J=r(67),Q=r(72783),_=r(88762),F=r(24270),Z=r(59444),$=r(13443),k=r(65343),B=r(60237),u=r(64133),G=r(16358),S=r(20843),I=r(25012),f=r(89267),N=r(33630),M=r(12305),P=r(34906),H=r(21194);const L=[{dataField:"notificationProvider.concurrencyStamp",visible:!1},{dataField:"notificationProvider.displayName",caption:"\u63d0\u4f9b\u8005",dataType:"string",filterOperations:d.I$.text},{dataField:"notificationRecordDetail.pushTime",caption:"\u63a8\u9001\u6642\u9593",dataType:"datetime",format:"yyyy/MM/dd HH:mm:ss",filterOperations:d.I$.datetime},{dataField:"notificationRecordDetail.isSuccessful",caption:"\u6210\u529f",dataType:"boolean"},{dataField:"notificationRecordDetail.logMessages",caption:"Log \u8a0a\u606f",cellTemplate:"logContent"},{type:"buttons",caption:"\u91cd\u65b0\u63a8\u9001",fixed:!0,buttons:[{name:"repush",template:"repush",visible:e=>e.row.data.isRepushable}]}],U=["grid"];function Y(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.showLogContent(a.value))}),t._uU(1,"\u9ede\u64ca\u67e5\u770b"),t.qZA()}}function j(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"app-repush-button",10),t.NdJ("buttonClick",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw();return t.KtG(a.singleRepush(n.data.isRepushable,n.data.notificationRecordDetail.id))}),t.qZA()}}function q(e,l){if(1&e&&(t.ynx(0),t.YNc(1,j,1,0,"app-repush-button",9),t.BQk()),2&e){const i=l.$implicit;t.xp6(),t.Q6J("ngIf",i.data.isRepushable)}}const z=()=>({class:"notification-records-master-detail-data-grid"});let W=(()=>{class e{constructor(i,o,n){this.appRestService=i,this.configStateService=o,this.toastService=n,this.columns=L,this.isTextContentVisible=!1,this.textContent="",this.repush=a=>{this.configStateService.getOne$("currentTenant").pipe((0,R.w)(s=>this.appRestService.request({method:"POST",url:`/api/app/jbnotifier-admin/notification-records/details/${a}/repush`,body:{SpecifiedTenantId:s.id}}))).subscribe(()=>{this.toastService.success("\u64cd\u4f5c\u6210\u529f!\uff0c\u56e0\u767c\u9001\u9700\u8981\u6642\u9593\uff0c\u6210\u529f\u6b21\u6578\u4e0d\u6703\u99ac\u4e0a\u767c\u751f\u8b8a\u5316\u3002")})}}ngOnChanges(){this.getData()}trackBy(i){return i}getData(){this.notificationRecordId&&this.appRestService.request({method:"GET",url:`/api/app/jbnotifier-admin/notification-records/details?NotificationRecordId=${this.notificationRecordId}`}).subscribe(i=>{this.gridDataSource=i.items})}singleRepush(i=!1,o){i&&this.repush([o])}showLogContent(i){this.isTextContentVisible=!0,this.textContent=i}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(v.$),t.Y36(_.XJE),t.Y36(F.P))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-notifications-records-master-detail"]],viewQuery:function(o,n){if(1&o&&t.Gf(U,5),2&o){let a;t.iGM(a=t.CRH())&&(n.grid=a.first)}},inputs:{notificationRecordId:"notificationRecordId"},features:[t.TTD],decls:10,vars:8,consts:[[1,"master-detail"],[1,"master-detail-container"],[1,"master-detail-title"],[3,"dataSource","columns","elementAttr"],["grid",""],[3,"click",4,"dxTemplate","dxTemplateOf"],[4,"dxTemplate","dxTemplateOf"],["textTitle","Log \u8a0a\u606f",3,"isTextContentVisible","textContent","isTextContentVisibleChange"],[3,"click"],[3,"buttonClick",4,"ngIf"],[3,"buttonClick"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4,"\u63a8\u9001\u8a18\u9304"),t.qZA()(),t.TgZ(5,"dx-data-grid",3,4),t.YNc(7,Y,2,0,"a",5)(8,q,2,1,"ng-container",6),t.qZA(),t.TgZ(9,"app-text-content-viewer",7),t.NdJ("isTextContentVisibleChange",function(s){return n.isTextContentVisible=s}),t.qZA()()()),2&o&&(t.xp6(5),t.Q6J("dataSource",n.gridDataSource)("columns",n.columns)("elementAttr",t.DdM(7,z)),t.xp6(2),t.Q6J("dxTemplateOf","logContent"),t.xp6(),t.Q6J("dxTemplateOf","repush"),t.xp6(),t.Q6J("isTextContentVisible",n.isTextContentVisible)("textContent",n.textContent))},dependencies:[p.O5,u.f,S.p6,I.e,f.Q],styles:[".master-detail[_ngcontent-%COMP%]{background-color:var(--dx-master-detail-row-background);padding:3px 20px 16px}.master-detail-container[_ngcontent-%COMP%]{padding:0 24px;background-color:var(--white-1);border:1px solid var(--gray-2);border-radius:5px}.master-detail-title[_ngcontent-%COMP%]{padding:8px 0;border-bottom:1px solid var(--gray-3)}.master-detail-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:600;letter-spacing:var(--letter-2);color:var(--blue-1);margin-bottom:0}.master-detail-content[_ngcontent-%COMP%]{padding:16px 0;flex:1}.master-detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.master-detail-label[_ngcontent-%COMP%]{color:var(--gray-2);margin-bottom:8px}.master-detail-label--horizontal[_ngcontent-%COMP%]{margin-bottom:0;margin-right:8px}.master-detail-text[_ngcontent-%COMP%]{display:block;color:var(--black-1);white-space:normal;word-wrap:break-word}.master-detail-group[_ngcontent-%COMP%]{display:flex;gap:16px}.notification-records-master-detail-data-grid[_ngcontent-%COMP%]     .dx-datagrid-headers.dx-bordered-top-view .dx-row.dx-header-row>td{background-color:transparent!important}"]})}return e})();const X=["grid"];function tt(e,l){1&e&&t.GkF(0)}const et=e=>({$implicit:e});function it(e,l){if(1&e&&(t.ynx(0),t.YNc(1,tt,1,0,"ng-container",12),t.BQk()),2&e){const i=l.$implicit,o=t.oxw().$implicit,n=t.oxw();t.xp6(),t.Q6J("ngTemplateOutlet",n.templateStore.getGridTemplates(o.key))("ngTemplateOutletContext",t.VKq(2,et,i))}}function nt(e,l){if(1&e&&(t.ynx(0),t.YNc(1,it,2,4,"ng-container",9),t.BQk()),2&e){const i=l.$implicit;t.xp6(),t.Q6J("dxTemplateOf",i.key)}}function ot(e,l){if(1&e&&t._UZ(0,"app-notifications-records-master-detail",13),2&e){const i=t.oxw();t.Q6J("notificationRecordId",null==i.masterDetailRowCollapseKey?null:i.masterDetailRowCollapseKey.notificationRecordId)}}function at(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.showTextContent(a.value))}),t._uU(1,"\u9ede\u64ca\u67e5\u770b"),t.qZA()}}function rt(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){const a=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.showHtmlContent(a.value))}),t._uU(1,"\u9ede\u64ca\u67e5\u770b"),t.qZA()}}function st(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"app-repush-button",16),t.NdJ("buttonClick",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw();return t.KtG(a.repush([n.data.notificationRecordId]))}),t.qZA()}}function lt(e,l){if(1&e&&(t.ynx(0),t.YNc(1,st,1,0,"app-repush-button",15),t.BQk()),2&e){const i=l.$implicit;t.xp6(),t.Q6J("ngIf",i.data.isRepushable)}}const dt=[{path:"",component:(()=>{class e{constructor(i,o,n,a,s,gt){this.appRestService=i,this.gridDataSourceService=o,this.templateStore=n,this.configStateService=a,this.toastService=s,this.tenantChooser=gt,this.columns=E,this.cRUDEndpoints=C,this.dataFieldLookupSourceMapping=O,this.dataFieldTranslationKeysMapping=w,this.relatedDataValueAndQueryStringKeyMapping=y,this.editingPropertiesForCreating=V,this.editingPropertiesForUpdating=A,this.selectedNotificationRecords=[],this.selectedIdsNoIsrepushableFalse=[],this.isTextContentVisible=!1,this.isHTMLContentVisible=!1,this.textContent="",this.htmlContent="",this.checkBoxUpdating=!1,this.gridProperties={editing:{allowAdding:!1},selection:{mode:"multiple",allowSelectAll:!0,selectAllMode:"page"},masterDetail:{enabled:!0,template:"notifications-records-master-detail"}},this.repushButtonProperties={type:"default",stylingMode:"contained",text:"\u518d\u6b21\u767c\u9001(\u591a\u7b46)",onClick:()=>{this.repush(this.selectedIdsNoIsrepushableFalse)}},this.rowExpanded=c=>{this.applyyNotificationMasterDetailRowCollapse(c)},this.repush=c=>{this.configStateService.getOne$("currentTenant").pipe((0,R.w)(Ct=>this.appRestService.request({method:"POST",url:"/api/app/jbnotifier-admin/notification-records/repush",body:{notificationRecordIds:c,SpecifiedTenantId:Ct.id}}))).subscribe(()=>{this.toastService.success("\u64cd\u4f5c\u6210\u529f!\uff0c\u56e0\u767c\u9001\u9700\u8981\u6642\u9593\uff0c\u6210\u529f\u6b21\u6578\u4e0d\u6703\u99ac\u4e0a\u767c\u751f\u8b8a\u5316\u3002")})},this.columns.find(c=>"shortResultMessages"===c.dataField).calculateDisplayValue=c=>c.shortResultMessages||"\u7121\u932f\u8aa4\u8a0a\u606f",this.tenantChooser.tenantId$.subscribe(c=>{this.grid?.instance?.refresh()})}ngOnInit(){this.gridDataSource=this.gridDataSourceService.getDataSource(C,y)}ngAfterViewInit(){this.grid.instance.on("rowExpanded",this.rowExpanded)}applyyNotificationMasterDetailRowCollapse(i){setTimeout(()=>{const n=i.element.querySelector('[aria-label="Collapse"]').parentElement.ariaRowIndex;i.element.querySelector(`tr.dx-row.dx-data-row.dx-row-lines[aria-rowindex="${n}"]`).classList.add("master-detail-row-collapse")}),i.key!==this.masterDetailRowCollapseKey&&(i.component.collapseRow(this.masterDetailRowCollapseKey),this.masterDetailRowCollapseKey=i.key)}showTextContent(i){this.isTextContentVisible=!0,this.textContent=i}showHtmlContent(i){this.isHTMLContentVisible=!0,this.htmlContent=i}isRepushable(i){return i.isRepushable}onCellPrepared(i){"data"===i.rowType&&0===i.columnIndex&&!i.data.isRepushable&&(i.cellElement.style.visibility="hidden")}onSelectionChanged(i){this.selectedIdsNoIsrepushableFalse=[],i.selectedRowsData.forEach(o=>{o.isRepushable&&this.selectedIdsNoIsrepushableFalse.push(o.notificationRecordId)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(v.$),t.Y36(J.I),t.Y36(Q.z),t.Y36(_.XJE),t.Y36(F.P),t.Y36(Z.L))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification-records"]],viewQuery:function(o,n){if(1&o&&t.Gf(X,5),2&o){let a;t.iGM(a=t.CRH())&&(n.grid=a.first)}},decls:20,vars:23,consts:[[1,"custom-grid-container"],[3,"grid"],[1,"d-flex","justify-content-between"],["type","default","stylingMode","contained","text","\u518d\u6b21\u767c\u9001(\u591a\u7b46)",3,"onClick"],["appGridFeature","","appGridFeatureNotification","",3,"dataFieldTranslationKeysMapping","datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","editingPropertiesForCreating","editingPropertiesForUpdating","columns","dataSource","gridProperties","selectedRowKeys","selectedRowKeysChange","onCellPrepared","onSelectionChanged"],["grid",""],[4,"ngFor","ngForOf"],[3,"notificationRecordId",4,"dxTemplate","dxTemplateOf"],[3,"click",4,"dxTemplate","dxTemplateOf"],[4,"dxTemplate","dxTemplateOf"],[3,"isTextContentVisible","textContent","isTextContentVisibleChange"],[3,"isHTMLContentVisible","htmlContent","isHTMLContentVisibleChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"notificationRecordId"],[3,"click"],[3,"buttonClick",4,"ngIf"],[3,"buttonClick"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0),t._UZ(1,"app-tenant-chooser"),t.TgZ(2,"div")(3,"div"),t._UZ(4,"app-grid-filter-items",1),t.qZA(),t.TgZ(5,"div",2)(6,"div")(7,"dx-button",3),t.NdJ("onClick",function(){return n.repush(n.selectedIdsNoIsrepushableFalse)}),t.qZA()(),t._UZ(8,"app-grid-after-tool-bar",1),t.qZA()(),t.TgZ(9,"dx-data-grid",4,5),t.NdJ("selectedRowKeysChange",function(s){return n.selectedNotificationRecords=s})("onCellPrepared",function(s){return n.onCellPrepared(s)})("onSelectionChanged",function(s){return n.onSelectionChanged(s)}),t.YNc(11,nt,2,1,"ng-container",6),t.ALo(12,"keyvalue"),t.YNc(13,ot,1,1,"app-notifications-records-master-detail",7)(14,at,2,0,"a",8)(15,rt,2,0,"a",8)(16,lt,2,1,"ng-container",9),t.qZA(),t._UZ(17,"app-notification-pager",1),t.qZA(),t.TgZ(18,"app-text-content-viewer",10),t.NdJ("isTextContentVisibleChange",function(s){return n.isTextContentVisible=s}),t.qZA(),t.TgZ(19,"app-html-content-viewer",11),t.NdJ("isHTMLContentVisibleChange",function(s){return n.isHTMLContentVisible=s}),t.qZA()),2&o){const a=t.MAs(10);t.xp6(4),t.Q6J("grid",a),t.xp6(4),t.Q6J("grid",a),t.xp6(),t.Q6J("dataFieldTranslationKeysMapping",n.dataFieldTranslationKeysMapping)("datafieldValueQueryStringKeyMapping",n.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",n.dataFieldLookupSourceMapping)("editingPropertiesForCreating",n.editingPropertiesForCreating)("editingPropertiesForUpdating",n.editingPropertiesForUpdating)("columns",n.columns)("dataSource",n.gridDataSource)("gridProperties",n.gridProperties)("selectedRowKeys",n.selectedNotificationRecords),t.xp6(2),t.Q6J("ngForOf",t.lcZ(12,21,n.templateStore.gridTemplates)),t.xp6(2),t.Q6J("dxTemplateOf","notifications-records-master-detail"),t.xp6(),t.Q6J("dxTemplateOf","shortTextContent"),t.xp6(),t.Q6J("dxTemplateOf","shortHtmlContent"),t.xp6(),t.Q6J("dxTemplateOf","repush"),t.xp6(),t.Q6J("grid",a),t.xp6(),t.Q6J("isTextContentVisible",n.isTextContentVisible)("textContent",n.textContent),t.xp6(),t.Q6J("isHTMLContentVisible",n.isHTMLContentVisible)("htmlContent",n.htmlContent)}},dependencies:[p.sg,p.O5,p.tP,$._,k.f,B.V,u.f,G.K,S.p6,I.e,f.Q,N.$,M.D,P.W,H.D,W,p.Nd]})}return e})()}];let ct=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(dt),h.Bz]})}return e})();var pt=r(31610),mt=r(5533),ut=r(41992);let ft=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[p.ez,pt.m,mt.P,ct,f.Q,N.$,M.D,u.f,P.W,ut.e]})}return e})()}}]);