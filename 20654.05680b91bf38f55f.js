"use strict";(self.webpackChunkJbNotifier=self.webpackChunkJbNotifier||[]).push([[20654],{20654:(gt,f,s)=>{s.r(f),s.d(f,{NotificationRecordsModule:()=>pt});var c=s(96814),g=s(23758);const h={index:"/api/app/jbnotifier-admin/notification-records"},P=[{dataField:"notificationCategoryId",path:"/api/app/notification-infos/assignable-notification-categories",pathForSelectedDisplay:"/api/app/notification-categories"}],O=[],C=[{name:"id",mapping:["notification","id"]},{name:"isRepushable",mapping:["isRepushable"]},{name:"concurrencyStamp",mapping:["notificationInfo","concurrencyStamp"]},{name:"tenantName",mapping:["tenant","name"]},{name:"notificationInfoTypeShow",mapping:["notificationInfo","typeShow"]},{name:"notificationInfoType",mapping:["notificationInfo","type"]},{dataField:"notificationInfoName",mapping:["notificationInfo","name"]},{name:"notificationProvidersDisplayName",mapping:["notificationProviders","displayName"]},{dataField:"notificationProviders",mapping:["notificationProviders"]},{dataField:"notificationRecordId",mapping:["notificationRecord","id"]},{name:"notificationSchedulePlan",mapping:["notificationSchedulePlan"]},{dataField:"notificationRecordPushTime",mapping:["notificationRecord","pushTime"]},{dataField:"notificationRecordIsManual",mapping:["notificationRecord","isManual"]},{dataField:"receiverName",queryStringKey:"ReceiverName",mapping:["receiver","name"]},{dataField:"notificationCategoryName",mapping:["notificationCategory","name"]},{dataField:"notificationRecordTitle",mapping:["notificationRecord","title"]},{dataField:"notificationRecordSubtitle",mapping:["notificationRecord","subtitle"]},{dataField:"notificationRecordTextContent",mapping:["notificationRecord","textContent"]},{dataField:"notificationRecordHtmlContent",mapping:["notificationRecord","htmlContent"]},{dataField:"notificationRecordIsModifiedWhenPending",queryStringKey:"notificationRecordIsModifiedWhenPending",mapping:["notificationRecord","isModifiedWhenPending"]},{dataField:"notificationRecordIsFullyFinished",mapping:["notificationRecord","isFullyFinished"]},{name:"notificationRecordIsCompeletySuccessful",mapping:["notificationRecord","isCompeletySuccessful"]},{dataField:"notificationIsRead",mapping:["notification","isRead"]}],T={imageUpload:{fileUploadMode:"both",tabs:["url","file"]},toolbar:{items:[{name:"undo"},{name:"redo"},{name:"separator"},{name:"size",acceptedValues:["8pt","10pt","12pt","14pt","18pt","24pt","36pt"]},{name:"font",acceptedValues:["Arial","Georgia","Tahoma","Times New Roman","Verdana"]},{name:"separator"},{name:"bold"},{name:"italic"},{name:"strike"},{name:"underline"},{name:"separator"},{name:"alignLeft"},{name:"alignCenter"},{name:"alignRight"},{name:"alignJustify"},{name:"separator"},{name:"orderedList"},{name:"bulletList"},{name:"separator"},{name:"header",acceptedValues:[!1,1,2,3,4,5]},{name:"separator"},{name:"color"},{name:"background"},{name:"separator"},{name:"link"},{name:"image"},{name:"separator"},{name:"clear"},{name:"codeBlock"},{name:"blockquote"},{name:"separator"},{name:"insertTable"},{name:"deleteTable"},{name:"insertRowAbove"},{name:"insertRowBelow"},{name:"deleteRow"},{name:"insertColumnLeft"},{name:"insertColumnRight"},{name:"deleteColumn"},{name:"cellProperties"},{name:"tableProperties"}]}},x=[{itemType:"group",name:"basicGroup",caption:"\u57fa\u672c",colCount:2,items:[{dataField:"notificationProviderDefinitionIds"},{itemType:"group",name:"receiverGroup",colCount:2,items:[{dataField:"isForAllReceivers",editorType:"dxCheckBox"},{itemType:"empty"},{dataField:"receiverIds",label:{visible:!1}},{dataField:"receiverGroupIds",label:{visible:!1}}]}]},{itemType:"group",name:"notificationSettingGroup",caption:"\u8a2d\u5b9a",colCount:2,items:[{dataField:"notificationSettingRadioGroup",label:{visible:!1}},{dataField:"notificationSettingItems",label:{visible:!1}}]},{itemType:"group",name:"notificationContentGroup",caption:"\u901a\u77e5\u5167\u5bb9",colCount:2,items:[{dataField:"notificationCategoryId",editorType:"dxSelectBox"},{dataField:"title",editorType:"dxTextBox"},{itemType:"group",name:"textboxGroup",items:[{dataField:"subtitle",editorType:"dxTextBox"},{dataField:"notificationDataFetchEndpoint",editorType:"dxTextBox"},{dataField:"hookEndpoint",editorType:"dxTextBox"}]},{itemType:"group",name:"textareaGroup",items:[{dataField:"textContent",editorType:"dxTextArea",editorOptions:{height:"100px"}},{dataField:"isFetchNotificationDataByEachReceiver",editorType:"dxCheckBox"}]},{dataField:"htmlContent",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{...T,height:"250px"}}]}],D=[{itemType:"group",name:"basicGroup",caption:"\u57fa\u672c",colCount:2,items:[{dataField:"notificationProviderDefinitionIds"},{itemType:"group",name:"receiverGroup",colCount:2,items:[{dataField:"isForAllReceivers",editorType:"dxCheckBox",editorOptions:{disabled:!0}},{itemType:"empty"},{dataField:"receiverIds",label:{visible:!1}},{dataField:"receiverGroupIds",label:{visible:!1}}]}]},{itemType:"group",name:"notificationSettingGroup",caption:"\u8a2d\u5b9a",colCount:2,items:[{dataField:"notificationSettingRadioGroup",label:{visible:!1}},{dataField:"notificationSettingItems",label:{visible:!1}}]},{itemType:"group",name:"notificationContentGroup",caption:"\u901a\u77e5\u5167\u5bb9",colCount:2,items:[{dataField:"notificationCategoryId",editorType:"dxSelectBox",editorOptions:{disabled:!0}},{dataField:"title",editorType:"dxTextBox",editorOptions:{disabled:!0}},{itemType:"group",name:"textboxGroup",items:[{dataField:"subtitle",editorType:"dxTextBox",editorOptions:{disabled:!0}},{dataField:"notificationDataFetchEndpoint",editorType:"dxTextBox",editorOptions:{disabled:!0}},{dataField:"hookEndpoint",editorType:"dxTextBox",editorOptions:{disabled:!0}}]},{itemType:"group",name:"textareaGroup",items:[{dataField:"textContent",editorType:"dxTextArea",editorOptions:{height:"100px",disabled:!0}},{dataField:"isFetchNotificationDataByEachReceiver",editorType:"dxCheckBox",editorOptions:{disabled:!0}}]},{dataField:"htmlContent",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{...T,height:"250px",disabled:!0}}]}],w={form:{colCount:1,items:x}},V={form:{colCount:1,items:D},popup:{wrapperAttr:{class:"instant-notification-infos-view"},toolbarItems:[]}};var p=s(35461),y=s(93116);const A=[{type:"buttons",fixed:!0,buttons:[{name:"repush",template:"repush",visible:e=>e.row.data.isRepushable}]},{dataField:"id",visible:!1},{dataField:"concurrencyStamp",visible:!1},{name:"tenantName",caption:"\u79df\u6236\u540d\u7a31",dataType:"string",filterOperations:p.I$.text},{name:"notificationInfoTypeShow",caption:"\u578b\u614b",dataType:"string",filterOperations:p.I$.text},{dataField:"notificationInfoType",dataType:"string",visible:!1},{dataField:"notificationInfoName",caption:"\u540d\u7a31",dataType:"string",filterOperations:p.I$.text},{name:"notificationProvidersDisplayName",caption:"\u63d0\u4f9b\u8005",dataType:"object",calculateDisplayValue:e=>e.notificationProviders.map(l=>l.displayName).join("\u3001")},{name:"notificationSchedulePlan",caption:"\u6642\u9593\u8a08\u756b",dataType:"object",calculateDisplayValue:e=>0===e.notificationInfoType&&e.notificationSchedulePlan?(0,y.m)(e.notificationSchedulePlan.pushTime):1===e.notificationInfoType&&e.notificationSchedulePlan?(0,y.m)(e.notificationSchedulePlan.pushTime)+`(${e.notificationSchedulePlan.name})`:2===e.notificationInfoType&&e.notificationSchedulePlan?e.notificationSchedulePlan.cronDescription+`(${e.notificationSchedulePlan.name})`:void 0},{dataField:"notificationRecordPushTime",caption:"\u63a8\u9001\u6642\u9593",dataType:"datetime",format:"yyyy/MM/dd HH:mm:ss",filterOperations:p.I$.datetime},{dataField:"notificationRecordIsManual",caption:"\u624b\u52d5",dataType:"string",calculateDisplayValue:e=>e.notificationRecordIsManual?"\u662f":"\u5426"},{dataField:"receiverName",caption:"\u63a5\u6536\u8005",dataType:"string"},{dataField:"notificationCategoryName",caption:"\u5206\u985e",dataType:"string"},{dataField:"notificationRecordTitle",caption:"\u6a19\u984c",dataType:"string"},{dataField:"notificationRecordSubtitle",caption:"\u526f\u6a19\u984c",dataType:"string"},{dataField:"notificationRecordId",dataType:"string",visible:!1},{dataField:"notificationRecordTextContent",caption:"\u6587\u5b57\u5167\u5bb9",cellTemplate:"shortTextContent"},{dataField:"notificationRecordHtmlContent",caption:"HTML\u5167\u5bb9",cellTemplate:"shortHtmlContent"},{dataField:"notificationRecordIsModifiedWhenPending",caption:"\u7b49\u5019\u5340\u7570\u52d5",dataType:"string",calculateDisplayValue:e=>e.notificationRecordIsModifiedWhenPending?"\u662f":"\u5426"},{dataField:"notificationRecordIsFullyFinished",caption:"\u5168\u90e8\u7d50\u675f",dataType:"string",calculateDisplayValue:e=>e.notificationRecordIsFullyFinished?"\u662f":"\u5426"},{name:"notificationRecordIsCompeletySuccessful",caption:"\u5b8c\u5168\u6210\u529f",dataType:"string",calculateDisplayValue:e=>null==e.notificationRecordIsCompeletySuccessful?"":e.notificationRecordIsCompeletySuccessful?"\u662f":"\u5426"},{dataField:"notificationIsRead",caption:"\u63a5\u6536\u8005\u5df2\u8b80",dataType:"string",calculateDisplayValue:e=>e.notificationIsRead?"\u662f":"\u5426"},{dataField:"shortResultMessages",caption:"\u8a73\u7d30\u8a0a\u606f",dataType:"string",visible:!1},{dataField:"isRepushable",dataType:"boolean",visible:!1},{type:"detailExpand",fixed:!0,fixedPosition:"right"}];var R=s(94664),t=s(19212),b=s(53009),E=s(67),J=s(72783),_=s(88762),v=s(24270),Q=s(59444),Z=s(44347),B=s(65343),k=s(60237),m=s(64133),G=s(16358),F=s(20843),I=s(25012),u=s(89267),S=s(33630),N=s(12305),M=s(34906),H=s(21194);const K=[{dataField:"notificationProvider.concurrencyStamp",visible:!1},{dataField:"notificationProvider.displayName",caption:"\u63d0\u4f9b\u8005",dataType:"string",filterOperations:p.I$.text},{dataField:"notificationRecordDetail.pushTime",caption:"\u63a8\u9001\u6642\u9593",dataType:"datetime",format:"yyyy/MM/dd HH:mm:ss",filterOperations:p.I$.datetime},{dataField:"notificationRecordDetail.isSuccessful",caption:"\u6210\u529f",dataType:"boolean"},{dataField:"notificationRecordDetail.logMessages",caption:"Log \u8a0a\u606f",cellTemplate:"logContent"},{type:"buttons",caption:"\u91cd\u65b0\u63a8\u9001",fixed:!0,buttons:[{name:"repush",template:"repush",visible:e=>e.row.data.isRepushable}]}],$=["grid"];function L(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(){const a=t.CHM(i).$implicit,r=t.oxw();return t.KtG(r.showLogContent(a.value))}),t._uU(1,"\u9ede\u64ca\u67e5\u770b"),t.qZA()}}function U(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"app-repush-button",10),t.NdJ("buttonClick",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw();return t.KtG(a.singleRepush(n.data.isRepushable,n.data.notificationRecordDetail.id))}),t.qZA()}}function Y(e,l){if(1&e&&(t.ynx(0),t.YNc(1,U,1,0,"app-repush-button",9),t.BQk()),2&e){const i=l.$implicit;t.xp6(),t.Q6J("ngIf",i.data.isRepushable)}}let j=(()=>{class e{constructor(i,o,n){this.appRestService=i,this.configStateService=o,this.toastService=n,this.columns=K,this.isTextContentVisible=!1,this.textContent="",this.repush=a=>{this.configStateService.getOne$("currentTenant").pipe((0,R.w)(r=>this.appRestService.request({method:"POST",url:`/api/app/jbnotifier-admin/notification-records/details/${a}/repush`,body:{SpecifiedTenantId:r.id}}))).subscribe(()=>{this.toastService.success("\u64cd\u4f5c\u6210\u529f!\uff0c\u56e0\u767c\u9001\u9700\u8981\u6642\u9593\uff0c\u6210\u529f\u6b21\u6578\u4e0d\u6703\u99ac\u4e0a\u767c\u751f\u8b8a\u5316\u3002")})}}ngOnChanges(){this.getData()}trackBy(i){return i}getData(){this.notificationRecordId&&this.appRestService.request({method:"GET",url:`/api/app/jbnotifier-admin/notification-records/details?NotificationRecordId=${this.notificationRecordId}`}).subscribe(i=>{this.gridDataSource=i.items})}singleRepush(i=!1,o){i&&this.repush([o])}showLogContent(i){this.isTextContentVisible=!0,this.textContent=i}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(b.$),t.Y36(_.XJE),t.Y36(v.P))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-notifications-records-master-detail"]],viewQuery:function(o,n){if(1&o&&t.Gf($,5),2&o){let a;t.iGM(a=t.CRH())&&(n.grid=a.first)}},inputs:{notificationRecordId:"notificationRecordId"},features:[t.TTD],decls:10,vars:6,consts:[[1,"master-detail"],[1,"master-detail-container"],[1,"master-detail-title"],[3,"dataSource","columns"],["grid",""],[3,"click",4,"dxTemplate","dxTemplateOf"],[4,"dxTemplate","dxTemplateOf"],[3,"isTextContentVisible","textContent","isTextContentVisibleChange"],[3,"click"],[3,"buttonClick",4,"ngIf"],[3,"buttonClick"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4,"\u63a8\u9001\u8a18\u9304"),t.qZA()(),t.TgZ(5,"dx-data-grid",3,4),t.YNc(7,L,2,0,"a",5)(8,Y,2,1,"ng-container",6),t.qZA(),t.TgZ(9,"app-text-content-viewer",7),t.NdJ("isTextContentVisibleChange",function(r){return n.isTextContentVisible=r}),t.qZA()()()),2&o&&(t.xp6(5),t.Q6J("dataSource",n.gridDataSource)("columns",n.columns),t.xp6(2),t.Q6J("dxTemplateOf","logContent"),t.xp6(),t.Q6J("dxTemplateOf","repush"),t.xp6(),t.Q6J("isTextContentVisible",n.isTextContentVisible)("textContent",n.textContent))},dependencies:[c.O5,m.f,F.p6,I.e,u.Q],styles:[".master-detail[_ngcontent-%COMP%]{background-color:var(--dx-master-detail-row-background);padding:3px 20px 16px}.master-detail-container[_ngcontent-%COMP%]{padding:0 24px;background-color:var(--white-1);border:1px solid var(--gray-2);border-radius:5px}.master-detail-title[_ngcontent-%COMP%]{padding:8px 0;border-bottom:1px solid var(--gray-3)}.master-detail-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:600;letter-spacing:var(--letter-2);color:var(--blue-1);margin-bottom:0}.master-detail-content[_ngcontent-%COMP%]{padding:16px 0;flex:1}.master-detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.master-detail-label[_ngcontent-%COMP%]{color:var(--gray-2);margin-bottom:8px}.master-detail-label--horizontal[_ngcontent-%COMP%]{margin-bottom:0;margin-right:8px}.master-detail-text[_ngcontent-%COMP%]{display:block;color:var(--black-1);white-space:normal;word-wrap:break-word}.master-detail-group[_ngcontent-%COMP%]{display:flex;gap:16px}"]})}return e})();const z=["grid"];function W(e,l){1&e&&t.GkF(0)}const X=e=>({$implicit:e});function q(e,l){if(1&e&&(t.ynx(0),t.YNc(1,W,1,0,"ng-container",12),t.BQk()),2&e){const i=l.$implicit,o=t.oxw().$implicit,n=t.oxw();t.xp6(),t.Q6J("ngTemplateOutlet",n.templateStore.getGridTemplates(o.key))("ngTemplateOutletContext",t.VKq(2,X,i))}}function tt(e,l){if(1&e&&(t.ynx(0),t.YNc(1,q,2,4,"ng-container",9),t.BQk()),2&e){const i=l.$implicit;t.xp6(),t.Q6J("dxTemplateOf",i.key)}}function et(e,l){if(1&e&&t._UZ(0,"app-notifications-records-master-detail",13),2&e){const i=t.oxw();t.Q6J("notificationRecordId",null==i.masterDetailRowCollapseKey?null:i.masterDetailRowCollapseKey.notificationRecordId)}}function it(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){const a=t.CHM(i).$implicit,r=t.oxw();return t.KtG(r.showTextContent(a.value))}),t._uU(1,"\u9ede\u64ca\u67e5\u770b"),t.qZA()}}function nt(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){const a=t.CHM(i).$implicit,r=t.oxw();return t.KtG(r.showHtmlContent(a.value))}),t._uU(1,"\u9ede\u64ca\u67e5\u770b"),t.qZA()}}function ot(e,l){if(1&e){const i=t.EpF();t.TgZ(0,"app-repush-button",16),t.NdJ("buttonClick",function(){t.CHM(i);const n=t.oxw().$implicit,a=t.oxw();return t.KtG(a.repush([n.data.notificationRecordId]))}),t.qZA()}}function at(e,l){if(1&e&&(t.ynx(0),t.YNc(1,ot,1,0,"app-repush-button",15),t.BQk()),2&e){const i=l.$implicit;t.xp6(),t.Q6J("ngIf",i.data.isRepushable)}}const st=[{path:"",component:(()=>{class e{constructor(i,o,n,a,r,mt){this.appRestService=i,this.gridDataSourceService=o,this.templateStore=n,this.configStateService=a,this.toastService=r,this.tenantChooser=mt,this.columns=A,this.cRUDEndpoints=h,this.dataFieldLookupSourceMapping=P,this.dataFieldTranslationKeysMapping=O,this.relatedDataValueAndQueryStringKeyMapping=C,this.editingPropertiesForCreating=w,this.editingPropertiesForUpdating=V,this.selectedNotificationRecords=[],this.selectedIdsNoIsrepushableFalse=[],this.isTextContentVisible=!1,this.isHTMLContentVisible=!1,this.textContent="",this.htmlContent="",this.checkBoxUpdating=!1,this.gridProperties={editing:{allowAdding:!1},selection:{mode:"multiple",allowSelectAll:!0,selectAllMode:"page"},masterDetail:{enabled:!0,template:"notifications-records-master-detail"}},this.repushButtonProperties={type:"default",stylingMode:"contained",text:"\u518d\u6b21\u767c\u9001(\u591a\u7b46)",onClick:()=>{this.repush(this.selectedIdsNoIsrepushableFalse)}},this.rowExpanded=d=>{this.applyyNotificationMasterDetailRowCollapse(d)},this.repush=d=>{this.configStateService.getOne$("currentTenant").pipe((0,R.w)(ft=>this.appRestService.request({method:"POST",url:"/api/app/jbnotifier-admin/notification-records/repush",body:{notificationRecordIds:d,SpecifiedTenantId:ft.id}}))).subscribe(()=>{this.toastService.success("\u64cd\u4f5c\u6210\u529f!\uff0c\u56e0\u767c\u9001\u9700\u8981\u6642\u9593\uff0c\u6210\u529f\u6b21\u6578\u4e0d\u6703\u99ac\u4e0a\u767c\u751f\u8b8a\u5316\u3002")})},this.columns.find(d=>"shortResultMessages"===d.dataField).calculateDisplayValue=d=>d.shortResultMessages||"\u7121\u932f\u8aa4\u8a0a\u606f",this.tenantChooser.tenantId$.subscribe(d=>{this.grid?.instance?.refresh()})}ngOnInit(){this.gridDataSource=this.gridDataSourceService.getDataSource(h,C)}ngAfterViewInit(){this.grid.instance.on("rowExpanded",this.rowExpanded)}applyyNotificationMasterDetailRowCollapse(i){setTimeout(()=>{const n=i.element.querySelector('[aria-label="Collapse"]').parentElement.ariaRowIndex;i.element.querySelector(`tr.dx-row.dx-data-row.dx-row-lines[aria-rowindex="${n}"]`).classList.add("master-detail-row-collapse")}),i.key!==this.masterDetailRowCollapseKey&&(i.component.collapseRow(this.masterDetailRowCollapseKey),this.masterDetailRowCollapseKey=i.key)}showTextContent(i){this.isTextContentVisible=!0,this.textContent=i}showHtmlContent(i){this.isHTMLContentVisible=!0,this.htmlContent=i}isRepushable(i){return i.isRepushable}onCellPrepared(i){"data"===i.rowType&&0===i.columnIndex&&!i.data.isRepushable&&(i.cellElement.style.visibility="hidden")}onSelectionChanged(i){this.selectedIdsNoIsrepushableFalse=[],i.selectedRowsData.forEach(o=>{o.isRepushable&&this.selectedIdsNoIsrepushableFalse.push(o.notificationRecordId)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(b.$),t.Y36(E.I),t.Y36(J.z),t.Y36(_.XJE),t.Y36(v.P),t.Y36(Q.L))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-notification-records"]],viewQuery:function(o,n){if(1&o&&t.Gf(z,5),2&o){let a;t.iGM(a=t.CRH())&&(n.grid=a.first)}},decls:20,vars:23,consts:[[1,"custom-grid-container"],[3,"grid"],[1,"d-flex","justify-content-between"],["type","default","stylingMode","contained","text","\u518d\u6b21\u767c\u9001(\u591a\u7b46)",3,"onClick"],["appGridFeature","","appGridFeatureNotification","",3,"dataFieldTranslationKeysMapping","datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","editingPropertiesForCreating","editingPropertiesForUpdating","columns","dataSource","gridProperties","selectedRowKeys","selectedRowKeysChange","onCellPrepared","onSelectionChanged"],["grid",""],[4,"ngFor","ngForOf"],[3,"notificationRecordId",4,"dxTemplate","dxTemplateOf"],[3,"click",4,"dxTemplate","dxTemplateOf"],[4,"dxTemplate","dxTemplateOf"],[3,"isTextContentVisible","textContent","isTextContentVisibleChange"],[3,"isHTMLContentVisible","htmlContent","isHTMLContentVisibleChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"notificationRecordId"],[3,"click"],[3,"buttonClick",4,"ngIf"],[3,"buttonClick"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0),t._UZ(1,"app-tenant-chooser"),t.TgZ(2,"div")(3,"div"),t._UZ(4,"app-grid-filter-items",1),t.qZA(),t.TgZ(5,"div",2)(6,"div")(7,"dx-button",3),t.NdJ("onClick",function(){return n.repush(n.selectedIdsNoIsrepushableFalse)}),t.qZA()(),t._UZ(8,"app-grid-after-tool-bar",1),t.qZA()(),t.TgZ(9,"dx-data-grid",4,5),t.NdJ("selectedRowKeysChange",function(r){return n.selectedNotificationRecords=r})("onCellPrepared",function(r){return n.onCellPrepared(r)})("onSelectionChanged",function(r){return n.onSelectionChanged(r)}),t.YNc(11,tt,2,1,"ng-container",6),t.ALo(12,"keyvalue"),t.YNc(13,et,1,1,"app-notifications-records-master-detail",7)(14,it,2,0,"a",8)(15,nt,2,0,"a",8)(16,at,2,1,"ng-container",9),t.qZA(),t._UZ(17,"app-notification-pager",1),t.qZA(),t.TgZ(18,"app-text-content-viewer",10),t.NdJ("isTextContentVisibleChange",function(r){return n.isTextContentVisible=r}),t.qZA(),t.TgZ(19,"app-html-content-viewer",11),t.NdJ("isHTMLContentVisibleChange",function(r){return n.isHTMLContentVisible=r}),t.qZA()),2&o){const a=t.MAs(10);t.xp6(4),t.Q6J("grid",a),t.xp6(4),t.Q6J("grid",a),t.xp6(),t.Q6J("dataFieldTranslationKeysMapping",n.dataFieldTranslationKeysMapping)("datafieldValueQueryStringKeyMapping",n.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",n.dataFieldLookupSourceMapping)("editingPropertiesForCreating",n.editingPropertiesForCreating)("editingPropertiesForUpdating",n.editingPropertiesForUpdating)("columns",n.columns)("dataSource",n.gridDataSource)("gridProperties",n.gridProperties)("selectedRowKeys",n.selectedNotificationRecords),t.xp6(2),t.Q6J("ngForOf",t.lcZ(12,21,n.templateStore.gridTemplates)),t.xp6(2),t.Q6J("dxTemplateOf","notifications-records-master-detail"),t.xp6(),t.Q6J("dxTemplateOf","shortTextContent"),t.xp6(),t.Q6J("dxTemplateOf","shortHtmlContent"),t.xp6(),t.Q6J("dxTemplateOf","repush"),t.xp6(),t.Q6J("grid",a),t.xp6(),t.Q6J("isTextContentVisible",n.isTextContentVisible)("textContent",n.textContent),t.xp6(),t.Q6J("isHTMLContentVisible",n.isHTMLContentVisible)("htmlContent",n.htmlContent)}},dependencies:[c.sg,c.O5,c.tP,Z._,B.f,k.V,m.f,G.K,F.p6,I.e,u.Q,S.$,N.D,M.W,H.D,j,c.Nd]})}return e})()}];let rt=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(st),g.Bz]})}return e})();var lt=s(31610),dt=s(5533),ct=s(41992);let pt=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[c.ez,lt.m,dt.P,rt,u.Q,S.$,N.D,m.f,M.W,ct.e]})}return e})()}}]);