"use strict";(self.webpackChunkJBNotifier=self.webpackChunkJBNotifier||[]).push([[90802],{90802:(yt,y,r)=>{r.r(y),r.d(y,{GroupingNotificationPushLogsModule:()=>mt});var p=r(96814),_=r(23758);const T={index:"/api/app/grouping-notification-push-logs"},N=[{dataField:"notificationCategoryId",path:"/api/app/notification-infos/assignable-notification-categories",pathForSelectedDisplay:"/api/app/notification-categories"}],D=[],x=[{dataField:"notificationInfoId",queryStringKey:"notificationInfoId",mapping:["notificationInfoId"]},{dataField:"tenantName",queryStringKey:"TenantName",mapping:["tenantName"]},{dataField:"notificationInfoName",queryStringKey:"NotificationInfoName",mapping:["notificationInfoName"]},{dataField:"typeShow",queryStringKey:"TypeShow",mapping:["typeShow"]},{dataField:"notificationProviderNames",queryStringKey:"NotificationProviderNames",mapping:["notificationProviderNames"]},{dataField:"notificationSchedulePlanDescription",queryStringKey:"NotificationSchedulePlanDescription",mapping:["notificationSchedulePlanDescription"]},{dataField:"receiverDescription",queryStringKey:"ReceiverDescription",mapping:["receiverDescription"]},{dataField:"notificationCategoryName",queryStringKey:"NotificationCategoryName",mapping:["notificationCategoryName"]},{dataField:"title",queryStringKey:"Title",mapping:["title"]},{dataField:"notificationDataFetchEndpoint",queryStringKey:"NotificationDataFetchEndpoint",mapping:["notificationDataFetchEndpoint"]},{dataField:"hookEndpoint",queryStringKey:"HookEndpoint",mapping:["hookEndpoint"]},{dataField:"successCount",queryStringKey:"SuccessCount",mapping:["successCount"]},{dataField:"failureCount",queryStringKey:"FailureCount",mapping:["failureCount"]},{dataField:"isFinished",queryStringKey:"IsFinished",mapping:["isFinished"]},{dataField:"notificationProviders",queryStringKey:"notificationProviders",mapping:["notificationProviders"]},{dataField:"isRePushable",queryStringKey:"IsRePushable",mapping:["isRePushable"]}],F={imageUpload:{fileUploadMode:"both",tabs:["url","file"]},toolbar:{items:[{name:"undo"},{name:"redo"},{name:"separator"},{name:"size",acceptedValues:["8pt","10pt","12pt","14pt","18pt","24pt","36pt"]},{name:"font",acceptedValues:["Arial","Georgia","Tahoma","Times New Roman","Verdana"]},{name:"separator"},{name:"bold"},{name:"italic"},{name:"strike"},{name:"underline"},{name:"separator"},{name:"alignLeft"},{name:"alignCenter"},{name:"alignRight"},{name:"alignJustify"},{name:"separator"},{name:"orderedList"},{name:"bulletList"},{name:"separator"},{name:"header",acceptedValues:[!1,1,2,3,4,5]},{name:"separator"},{name:"color"},{name:"background"},{name:"separator"},{name:"link"},{name:"image"},{name:"separator"},{name:"clear"},{name:"codeBlock"},{name:"blockquote"},{name:"separator"},{name:"insertTable"},{name:"deleteTable"},{name:"insertRowAbove"},{name:"insertRowBelow"},{name:"deleteRow"},{name:"insertColumnLeft"},{name:"insertColumnRight"},{name:"deleteColumn"},{name:"cellProperties"},{name:"tableProperties"}]}},v=[{itemType:"group",name:"basicGroup",caption:"\u57fa\u672c",colCount:2,items:[{dataField:"notificationProviderDefinitionIds"},{itemType:"group",name:"receiverGroup",colCount:2,items:[{dataField:"isForAllReceivers",editorType:"dxCheckBox"},{itemType:"empty"},{dataField:"receiverIds",label:{visible:!1}},{dataField:"receiverGroupIds",label:{visible:!1}}]}]},{itemType:"group",name:"notificationSettingGroup",caption:"\u8a2d\u5b9a",colCount:2,items:[{dataField:"notificationSettingRadioGroup",label:{visible:!1}},{dataField:"notificationSettingItems",label:{visible:!1}}]},{itemType:"group",name:"notificationContentGroup",caption:"\u901a\u77e5\u5167\u5bb9",colCount:2,items:[{dataField:"notificationCategoryId",editorType:"dxSelectBox"},{dataField:"title",editorType:"dxTextBox"},{itemType:"group",name:"textboxGroup",items:[{dataField:"subtitle",editorType:"dxTextBox"},{dataField:"notificationDataFetchEndpoint",editorType:"dxTextBox"},{dataField:"hookEndpoint",editorType:"dxTextBox"}]},{itemType:"group",name:"textareaGroup",items:[{dataField:"textContent",editorType:"dxTextArea",editorOptions:{height:"100px"}},{dataField:"isFetchNotificationDataByEachReceiver",editorType:"dxCheckBox"}]},{dataField:"htmlContent",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{...F,height:"250px"}}]}],K=[{itemType:"group",name:"basicGroup",caption:"\u57fa\u672c",colCount:2,items:[{dataField:"notificationProviderDefinitionIds"},{itemType:"group",name:"receiverGroup",colCount:2,items:[{dataField:"isForAllReceivers",editorType:"dxCheckBox",editorOptions:{disabled:!0}},{itemType:"empty"},{dataField:"receiverIds",label:{visible:!1}},{dataField:"receiverGroupIds",label:{visible:!1}}]}]},{itemType:"group",name:"notificationSettingGroup",caption:"\u8a2d\u5b9a",colCount:2,items:[{dataField:"notificationSettingRadioGroup",label:{visible:!1}},{dataField:"notificationSettingItems",label:{visible:!1}}]},{itemType:"group",name:"notificationContentGroup",caption:"\u901a\u77e5\u5167\u5bb9",colCount:2,items:[{dataField:"notificationCategoryId",editorType:"dxSelectBox",editorOptions:{disabled:!0}},{dataField:"title",editorType:"dxTextBox",editorOptions:{disabled:!0}},{itemType:"group",name:"textboxGroup",items:[{dataField:"subtitle",editorType:"dxTextBox",editorOptions:{disabled:!0}},{dataField:"notificationDataFetchEndpoint",editorType:"dxTextBox",editorOptions:{disabled:!0}},{dataField:"hookEndpoint",editorType:"dxTextBox",editorOptions:{disabled:!0}}]},{itemType:"group",name:"textareaGroup",items:[{dataField:"textContent",editorType:"dxTextArea",editorOptions:{height:"100px",disabled:!0}},{dataField:"isFetchNotificationDataByEachReceiver",editorType:"dxCheckBox",editorOptions:{disabled:!0}}]},{dataField:"htmlContent",colSpan:2,editorType:"dxHtmlEditor",editorOptions:{...F,height:"250px",disabled:!0}}]}],L={form:{colCount:1,items:v}},R={form:{colCount:1,items:K},popup:{wrapperAttr:{class:"instant-notification-infos-view"},toolbarItems:[]}},M=[{type:"buttons",fixed:!0,buttons:[{name:"repush",template:"repush"}]},{dataField:"notificationInfoId",caption:"\u6a19\u984c",dataType:"string",visible:!1},{dataField:"tenantName",caption:"\u79df\u6236",dataType:"string"},{dataField:"notificationInfoName",caption:"\u901a\u77e5\u540d\u7a31",dataType:"string"},{dataField:"typeShow",caption:"\u578b\u614b",dataType:"string"},{dataField:"notificationProviderNames",caption:"\u63d0\u4f9b\u8005",dataType:"string"},{dataField:"notificationSchedulePlanDescription",caption:"\u6642\u9593\u8a08\u756b",dataType:"string"},{dataField:"receiverDescription",caption:"\u63a5\u6536\u8005",dataType:"string"},{dataField:"notificationCategoryName",caption:"\u5206\u985e",dataType:"string"},{dataField:"title",caption:"\u6a19\u984c",dataType:"string"},{dataField:"notificationDataFetchEndpoint",caption:"\u53d6\u5f97\u8cc7\u6599endpoint",dataType:"string"},{dataField:"hookEndpoint",caption:"Hook Endpoint",dataType:"string"},{dataField:"successCount",caption:"\u6210\u529f\u6b21\u6578",dataType:"boolean"},{dataField:"failureCount",caption:"\u5931\u6557\u6b21\u6578",dataType:"number"},{dataField:"isFinished",caption:"\u5df2\u5b8c\u6210",dataType:"boolean"},{dataField:"notificationProviders",caption:"\u63d0\u4f9b\u8005\u6e05\u55ae",dataType:"object"},{dataField:"isRePushable",caption:"isRePushable",dataType:"boolean"}];var t=r(19212),C=r(67),P=r(72783),c=r(53009),u=r(88762),g=r(24270),S=r(43821),b=r(10313),m=r(64133),f=r(20843),l=r(2173),h=r(25012);const O=[{dataField:"notificationProviderId",caption:"\u63d0\u4f9b\u8005\u540d\u7a31"},{dataField:"notificationProviderName",caption:"\u63d0\u4f9b\u8005\u540d\u7a31"},{dataField:"successCount",caption:"\u6210\u529f\u6b21\u6578"},{dataField:"failureCount",caption:"\u5931\u6557\u6b21\u6578"},{dataField:"isRePushable",caption:"isRePushable"},{type:"buttons",buttons:[{name:"detail",template:"detail"},{name:"repush",template:"repush"}]}],G={index:"/api/app/instant-notification-infos",get:"/api/app/instant-notification-infos",create:"/api/app/instant-notification-infos",update:"/api/app/instant-notification-infos",delete:"/api/app/instant-notification-infos"},I=[{dataField:"id",mapping:["notificationPushLogId"],queryStringKey:"notificationPushLogId"},{dataField:"notificationPushLogId",mapping:["notificationPushLogId"],queryStringKey:"notificationPushLogId"},{dataField:"notificationSchedulePlanName",mapping:["notificationSchedulePlanName"],queryStringKey:"notificationSchedulePlanName"},{dataField:"pushTime",mapping:["pushTime"],queryStringKey:"pushTime"},{dataField:"receiverName",mapping:["receiverName"],queryStringKey:"receiverName"},{dataField:"title",mapping:["title"],queryStringKey:"title"},{dataField:"subtitle",mapping:["subtitle"],queryStringKey:"subtitle"},{dataField:"shortTextContent",mapping:["shortTextContent"],queryStringKey:"shortTextContent"},{dataField:"shortHtmlContent",mapping:["shortHtmlContent"],queryStringKey:"shortHtmlContent"},{dataField:"isModifiedWhenPending",mapping:["isModifiedWhenPending"],queryStringKey:"isModifiedWhenPending"},{dataField:"isSuccess",mapping:["isSuccess"],queryStringKey:"isSuccess"},{dataField:"shortResultMessages",mapping:["shortResultMessages"],queryStringKey:"shortResultMessages"},{dataField:"isReceiverRead",mapping:["isReceiverRead"],queryStringKey:"isReceiverRead"},{dataField:"isRePushable",mapping:["isRePushable"],queryStringKey:"isRePushable"}],Q=[{type:"buttons",fixed:!0,buttons:[{name:"repush",template:"repush"}]},{dataField:"id",caption:"",dataType:"string",visible:!1},{dataField:"notificationPushLogId",caption:"",dataType:"string",visible:!1},{dataField:"notificationSchedulePlanName",caption:"\u6642\u9593\u8a08\u756b\u540d\u7a31",dataType:"string"},{dataField:"pushTime",caption:"\u63a8\u9001\u6642\u9593",dataType:"string"},{dataField:"receiverName",caption:"\u63a5\u6536\u8005\u540d\u7a31",dataType:"string"},{dataField:"title",caption:"\u6a19\u984c",dataType:"string"},{dataField:"subtitle",caption:"\u5b50\u6a19\u984c",dataType:"string"},{dataField:"shortTextContent",caption:"\u7d14\u6587\u5b57\u5167\u5bb9",dataType:"string"},{dataField:"shortHtmlContent",caption:"Html\u5167\u5bb9",dataType:"string"},{dataField:"isModifiedWhenPending",caption:"\u7b49\u5019\u5340\u7570\u52d5",dataType:"string"},{dataField:"isSuccess",caption:"\u6210\u529f",dataType:"string"},{dataField:"shortResultMessages",caption:"\u8a73\u7d30\u8a0a\u606f",dataType:"string"},{dataField:"isReceiverRead",caption:"\u63a5\u6536\u8005\u5df2\u8b80",dataType:"string"},{dataField:"isRePushable",caption:"isRePushable",dataType:"string"}];var J=r(16358),k=r(98179);const A=["grid"];function B(e,o){if(1&e&&t._UZ(0,"app-grid-general-filter",10),2&e){t.oxw();const i=t.MAs(2);t.Q6J("grid",i)}}function Z(e,o){1&e&&t.GkF(0)}const w=e=>({$implicit:e});function q(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Z,1,0,"ng-container",11),t.BQk()),2&e){const i=o.$implicit,n=t.oxw().$implicit,a=t.oxw(2);t.xp6(),t.Q6J("ngTemplateOutlet",a.templateStore.getGridTemplates(n.key))("ngTemplateOutletContext",t.VKq(2,w,i))}}function E(e,o){if(1&e&&(t.ynx(0),t.YNc(1,q,2,4,"ng-container",2),t.BQk()),2&e){const i=o.$implicit;t.xp6(),t.Q6J("dxTemplateOf",i.key)}}function U(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"app-repush-button",13),t.NdJ("buttonClick",function(){t.CHM(i);const a=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.singleRepush(a.data.notificationPushLogId))}),t.qZA()}}function Y(e,o){if(1&e&&(t.ynx(0),t.YNc(1,U,1,0,"app-repush-button",12),t.BQk()),2&e){const i=o.$implicit;t.xp6(),t.Q6J("ngIf",i.data.isRePushable)}}function $(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div")(1,"dx-data-grid",3,4),t.NdJ("selectedRowKeysChange",function(a){t.CHM(i);const s=t.oxw();return t.KtG(s.selectedNotificationPushLogs=a)}),t.TgZ(3,"dxo-toolbar"),t._UZ(4,"dxi-item",5),t.TgZ(5,"dxi-item",6),t.YNc(6,B,1,1,"app-grid-general-filter",7),t.qZA(),t._UZ(7,"dxi-item",8),t.qZA(),t.YNc(8,E,2,1,"ng-container",9),t.ALo(9,"keyvalue"),t.YNc(10,Y,2,1,"ng-container",2),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(),t.Q6J("dataFieldTranslationKeysMapping",i.dataFieldTranslationKeysMapping)("datafieldValueQueryStringKeyMapping",i.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",i.dataFieldLookupSourceMapping)("columns",i.columns)("dataSource",i.gridDataSource)("gridProperties",i.gridProperties)("selectedRowKeys",i.selectedNotificationPushLogs),t.xp6(3),t.Q6J("options",i.repushButtonProperties),t.xp6(4),t.Q6J("ngForOf",t.lcZ(9,10,i.templateStore.gridTemplates)),t.xp6(2),t.Q6J("dxTemplateOf","repush")}}let V=(()=>{class e{constructor(i,n,a,s,d){this.appRestService=i,this.gridDataSourceService=n,this.templateStore=a,this.configStateService=s,this.toastService=d,this.visible=!1,this.gridDataSource=[],this.cRUDEndpoints=G,this.relatedDataValueAndQueryStringKeyMapping=I,this.dataFieldTranslationKeysMapping=[],this.dataFieldLookupSourceMapping=[],this.columns=Q,this.selectedNotificationPushLogs=[],this.gridProperties={editing:{allowAdding:!1},selection:{mode:"multiple",allowSelectAll:!0,selectAllMode:"page"}},this.repushButtonProperties={type:"default",stylingMode:"contained",text:"\u518d\u6b21\u767c\u9001(\u591a\u7b46)",onClick:()=>{const ft=this.selectedNotificationPushLogs.map(ht=>ht.notificationPushLogId);this.repush(ft)}}}showDetail(){if(this.notificationInfoId&&this.notificationProviderDefinitionId){const i=`/api/app/grouping-notification-push-logs/details/${this.notificationInfoId}/${this.notificationProviderDefinitionId}`;this.visible=!0,this.gridDataSource=this.gridDataSourceService.getDataSource({index:i},I)}}singleRepush(i){this.repush([i])}repush(i){const n=this.configStateService.getOne("currentUser");this.appRestService.request({method:"POST",url:"/api/app/grouping-notification-push-logs/repush-by-notification-push-log-ids",body:{tenantId:n.tenantId,notificationPushLogIds:i}}).subscribe(()=>{this.toastService.success("\u64cd\u4f5c\u6210\u529f!\uff0c\u56e0\u767c\u9001\u9700\u8981\u6642\u9593\uff0c\u6210\u529f\u6b21\u6578\u4e0d\u6703\u99ac\u4e0a\u767c\u751f\u8b8a\u5316\u3002")})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c.$),t.Y36(C.I),t.Y36(P.z),t.Y36(u.XJE),t.Y36(g.P))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-push-log-details"]],viewQuery:function(n,a){if(1&n&&t.Gf(A,5),2&n){let s;t.iGM(s=t.CRH())&&(a.grid=s.first)}},inputs:{notificationInfoId:"notificationInfoId",notificationProviderDefinitionId:"notificationProviderDefinitionId"},decls:3,vars:4,consts:[["icon","detailslayout","stylingMode","contained","type","success",3,"hint","onClick"],["contentTemplate","content",3,"visible","showCloseButton","visibleChange"],[4,"dxTemplate","dxTemplateOf"],["appGridFeature","",3,"dataFieldTranslationKeysMapping","datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","columns","dataSource","gridProperties","selectedRowKeys","selectedRowKeysChange"],["grid",""],["location","before","widget","dxButton","cssClass","mb-1",3,"options"],["location","after"],[3,"grid",4,"dxTemplate"],["name","applyFilterButton","cssClass","d-none"],[4,"ngFor","ngForOf"],[3,"grid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"buttonClick",4,"ngIf"],[3,"buttonClick"]],template:function(n,a){1&n&&(t.TgZ(0,"dx-button",0),t.NdJ("onClick",function(){return a.showDetail()}),t.qZA(),t.TgZ(1,"dx-popup",1),t.NdJ("visibleChange",function(d){return a.visible=d}),t.YNc(2,$,11,12,"div",2),t.qZA()),2&n&&(t.Q6J("hint","\u6aa2\u8996\u660e\u7d30"),t.xp6(),t.Q6J("visible",a.visible)("showCloseButton",!0),t.xp6(),t.Q6J("dxTemplateOf","content"))},dependencies:[p.sg,p.O5,p.tP,S._,b.w,m.f,J.K,f.p6,l.ZT3,k.x,h.e,l.y1f,p.Nd],styles:["dx-popup[_ngcontent-%COMP%]{display:none!important}"]})}return e})();function H(e,o){if(1&e&&t._UZ(0,"app-push-log-details",3),2&e){const i=o.$implicit,n=t.oxw();t.Q6J("notificationInfoId",null==n.data?null:n.data.notificationInfoId)("notificationProviderDefinitionId",null==i.data?null:i.data.notificationProviderId)}}function z(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"app-repush-button",5),t.NdJ("buttonClick",function(){t.CHM(i);const a=t.oxw().$implicit,s=t.oxw();return t.KtG(s.repush(a.data.notificationProviderId))}),t.qZA()}}function X(e,o){if(1&e&&(t.ynx(0),t.YNc(1,z,1,0,"app-repush-button",4),t.BQk()),2&e){const i=o.$implicit;t.xp6(),t.Q6J("ngIf",i.data.isRePushable)}}let W=(()=>{class e{constructor(i,n,a){this.appRestService=i,this.configStateService=n,this.toastService=a,this.columns=O}showDetail(i,n){this.notificationInfoId=i,this.notificationProviderDefinitionId=n}repush(i){const n=this.configStateService.getOne("currentUser"),{notificationInfoId:a}=this.data;this.appRestService.request({method:"POST",url:"/api/app/grouping-notification-push-logs/repush-by-notification-info-id-and-notification-provider-definition-id",body:{tenantId:n.tenantId,notificationInfoId:a,notificationProviderDefinitionId:i}}).subscribe(s=>{this.toastService.success("\u64cd\u4f5c\u6210\u529f!\uff0c\u56e0\u767c\u9001\u9700\u8981\u6642\u9593\uff0c\u6210\u529f\u6b21\u6578\u4e0d\u6703\u99ac\u4e0a\u767c\u751f\u8b8a\u5316\u3002")})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(c.$),t.Y36(u.XJE),t.Y36(g.P))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-grid-master-detail"]],inputs:{data:"data"},decls:5,vars:4,consts:[[3,"columns","dataSource"],[3,"notificationInfoId","notificationProviderDefinitionId",4,"dxTemplate","dxTemplateOf"],[4,"dxTemplate","dxTemplateOf"],[3,"notificationInfoId","notificationProviderDefinitionId"],[3,"buttonClick",4,"ngIf"],[3,"buttonClick"]],template:function(n,a){1&n&&(t.TgZ(0,"h3"),t._uU(1," \u901a\u77e5\u670d\u52d9\u63d0\u4f9b\u8005\u6e05\u55ae\n"),t.qZA(),t.TgZ(2,"dx-data-grid",0),t.YNc(3,H,1,2,"app-push-log-details",1)(4,X,2,1,"ng-container",2),t.qZA()),2&n&&(t.xp6(2),t.Q6J("columns",a.columns)("dataSource",null==a.data?null:a.data.notificationProviders),t.xp6(),t.Q6J("dxTemplateOf","detail"),t.xp6(),t.Q6J("dxTemplateOf","repush"))},dependencies:[p.O5,m.f,f.p6,h.e,V]})}return e})();const j=["grid"];function tt(e,o){if(1&e&&t._UZ(0,"app-grid-general-filter",9),2&e){t.oxw();const i=t.MAs(1);t.Q6J("grid",i)}}function et(e,o){1&e&&t.GkF(0)}const it=e=>({$implicit:e});function nt(e,o){if(1&e&&(t.ynx(0),t.YNc(1,et,1,0,"ng-container",10),t.BQk()),2&e){const i=o.$implicit,n=t.oxw().$implicit,a=t.oxw();t.xp6(),t.Q6J("ngTemplateOutlet",a.templateStore.getGridTemplates(n.key))("ngTemplateOutletContext",t.VKq(2,it,i))}}function at(e,o){if(1&e&&(t.ynx(0),t.YNc(1,nt,2,4,"ng-container",8),t.BQk()),2&e){const i=o.$implicit;t.xp6(),t.Q6J("dxTemplateOf",i.key)}}function ot(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"app-password-input",11),t.NdJ("valueChanged",function(a){const d=t.CHM(i).$implicit;return t.KtG(d.setValue(a))}),t.qZA()}if(2&e){const i=o.$implicit;t.Q6J("value",i.value)("editorOptions",null==i.item?null:i.item.editorOptions)}}function st(e,o){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-grid-master-detail",12),t.qZA()),2&e){const i=o.$implicit;t.xp6(),t.Q6J("data",i.data)}}function rt(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"app-repush-button",14),t.NdJ("buttonClick",function(){t.CHM(i);const a=t.oxw().$implicit,s=t.oxw();return t.KtG(s.repush(a.data.notificationInfoId))}),t.qZA()}}function pt(e,o){if(1&e&&(t.ynx(0),t.YNc(1,rt,1,0,"app-repush-button",13),t.BQk()),2&e){const i=o.$implicit;t.xp6(),t.Q6J("ngIf",i.data.isRePushable)}}const dt=()=>({type:"default",stylingMode:"contained"}),lt=[{path:"",component:(()=>{class e{constructor(i,n,a,s,d){this.gridDataSourceService=i,this.templateStore=n,this.appRestService=a,this.configStateService=s,this.toastService=d,this.columns=M,this.cRUDEndpoints=T,this.dataFieldLookupSourceMapping=N,this.dataFieldTranslationKeysMapping=D,this.relatedDataValueAndQueryStringKeyMapping=x,this.editingPropertiesForCreating=L,this.editingPropertiesForUpdating=R,this.gridProperties={masterDetail:{enabled:!0,template:"detail"}}}ngOnInit(){this.gridDataSource=this.gridDataSourceService.getDataSource(T,x)}repush(i){const n=this.configStateService.getOne("currentUser");this.appRestService.request({method:"POST",url:"/api/app/grouping-notification-push-logs/repush-by-notification-info-id",body:{tenantId:n.tenantId,notificationInfoId:i}}).subscribe(()=>{this.toastService.success("\u64cd\u4f5c\u6210\u529f!\uff0c\u56e0\u767c\u9001\u9700\u8981\u6642\u9593\uff0c\u6210\u529f\u6b21\u6578\u4e0d\u6703\u99ac\u4e0a\u767c\u751f\u8b8a\u5316\u3002")})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(C.I),t.Y36(P.z),t.Y36(c.$),t.Y36(u.XJE),t.Y36(g.P))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-grouping-notification-push-logs"]],viewQuery:function(n,a){if(1&n&&t.Gf(j,5),2&n){let s;t.iGM(s=t.CRH())&&(a.grid=s.first)}},decls:12,vars:16,consts:[["appGridFeature","",3,"dataFieldTranslationKeysMapping","datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","editingPropertiesForCreating","editingPropertiesForUpdating","columns","dataSource","gridProperties"],["grid",""],["name","addRowButton","location","before","widget","dxButton","cssClass","mb-1",3,"options"],["location","after"],[3,"grid",4,"dxTemplate"],["name","applyFilterButton","cssClass","d-none"],[4,"ngFor","ngForOf"],[3,"value","editorOptions","valueChanged",4,"dxTemplate","dxTemplateOf"],[4,"dxTemplate","dxTemplateOf"],[3,"grid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"value","editorOptions","valueChanged"],[3,"data"],[3,"buttonClick",4,"ngIf"],[3,"buttonClick"]],template:function(n,a){1&n&&(t.TgZ(0,"dx-data-grid",0,1)(2,"dxo-toolbar"),t._UZ(3,"dxi-item",2),t.TgZ(4,"dxi-item",3),t.YNc(5,tt,1,1,"app-grid-general-filter",4),t.qZA(),t._UZ(6,"dxi-item",5),t.qZA(),t.YNc(7,at,2,1,"ng-container",6),t.ALo(8,"keyvalue"),t.YNc(9,ot,1,2,"app-password-input",7)(10,st,2,1,"div",8)(11,pt,2,1,"ng-container",8),t.qZA()),2&n&&(t.Q6J("dataFieldTranslationKeysMapping",a.dataFieldTranslationKeysMapping)("datafieldValueQueryStringKeyMapping",a.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",a.dataFieldLookupSourceMapping)("editingPropertiesForCreating",a.editingPropertiesForCreating)("editingPropertiesForUpdating",a.editingPropertiesForUpdating)("columns",a.columns)("dataSource",a.gridDataSource)("gridProperties",a.gridProperties),t.xp6(3),t.Q6J("options",t.DdM(15,dt)),t.xp6(4),t.Q6J("ngForOf",t.lcZ(8,13,a.templateStore.gridTemplates)),t.xp6(2),t.Q6J("dxTemplateOf","password-input"),t.xp6(),t.Q6J("dxTemplateOf","detail"),t.xp6(),t.Q6J("dxTemplateOf","repush"))},dependencies:[p.sg,p.O5,p.tP,S._,b.w,m.f,f.p6,l.ZT3,h.e,l.y1f,W,p.Nd]})}return e})()}];let ct=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[_.Bz.forChild(lt),_.Bz]})}return e})();var ut=r(77490),gt=r(66648);let mt=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[p.ez,gt.m,ut.P,ct]})}return e})()}}]);