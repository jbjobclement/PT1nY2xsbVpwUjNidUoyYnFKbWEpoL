"use strict";(self.webpackChunkJbNotifier=self.webpackChunkJbNotifier||[]).push([[59524],{59524:(yt,C,a)=>{a.r(C),a.d(C,{NotificationGroupingRecordsModule:()=>vt});var p=a(96814),b=a(23758),d=a(35461),c=a(93116);const N=[{type:"buttons",fixed:!0,buttons:[{name:"detail",template:"grid-detail-button"},{name:"edit",template:"grid-edit-button"},{name:"repush",template:"repush"}]},{name:"id",visible:!1},{name:"concurrencyStamp",visible:!1},{name:"tenantName",caption:"\u79df\u6236\u540d\u7a31",dataType:"string",filterOperations:d.I.text},{name:"typeShow",caption:"\u578b\u614b",dataType:"string",filterOperations:d.I.text},{name:"notificationInfoName",caption:"\u540d\u7a31",dataType:"string",filterOperations:d.I.text},{name:"notificationProviders",caption:"\u63d0\u4f9b\u8005",dataType:"object",calculateDisplayValue:i=>i.notificationProviders.map(l=>l.displayName).join("\u3001")},{name:"notificationSchedulePlans",caption:"\u6642\u9593\u8a08\u756b",dataType:"object",calculateDisplayValue:i=>0===i.type?(0,c.m)(i.notificationSchedulePlans[0].pushTime):1===i.type?i.notificationSchedulePlans.map(l=>(0,c.m)(l.pushTime)+` (${l.name})`).join("\u3001"):2===i.type?i.notificationSchedulePlans.map(l=>l.cronDescription+` (${l.name})`).join("\u3001"):void 0},{name:"receiverDescription",caption:"\u63a5\u6536\u8005\u63cf\u8ff0",dataType:"string",filterOperations:d.I.text},{dataField:"title",caption:"\u6a19\u984c",dataType:"string",visible:!1},{dataField:"subtitle",caption:"\u5b50\u6a19\u984c",dataType:"string",visible:!1},{dataField:"notificationDataFetchEndpoint",caption:"\u53d6\u5f97\u901a\u77e5\u8cc7\u6599 Endpoint",dataType:"string",visible:!1},{dataField:"hookEndpoint",caption:"Hook",dataType:"string",visible:!1},{dataField:"textContent",caption:"\u6587\u5b57\u5167\u5bb9",dataType:"string",visible:!1},{dataField:"htmlContent",caption:"HTML \u5167\u5bb9",dataType:"string",visible:!1},{type:"detailExpand",fixed:!0,fixedPosition:"right"}],_={index:"/api/app/jbnotifier-admin/notification-grouping-records"},V=[{dataField:"notificationCategoryId",path:"/api/app/notification-infos/assignable-notification-categories",pathForSelectedDisplay:"/api/app/notification-categories"}],T=[{name:"id",mapping:["notificationInfo","id"]},{name:"concurrencyStamp",mapping:["notificationInfo","concurrencyStamp"]},{name:"tenantName",mapping:["tenant","name"]},{name:"type",mapping:["notificationInfo","type"]},{name:"typeShow",mapping:["notificationInfo","typeShow"]},{name:"notificationInfoName",mapping:["notificationInfo","name"]},{name:"notificationProviders",mapping:["notificationProviders"]},{name:"notificationSchedulePlans",mapping:["notificationSchedulePlans"]},{name:"receiverDescription",mapping:["receiverDescription"]},{dataField:"title",mapping:["notificationInfo","title"]},{dataField:"subtitle",mapping:["notificationInfo","subtitle"]},{dataField:"notificationDataFetchEndpoint",mapping:["notificationInfo","notificationDataFetchEndpoint"]},{dataField:"hookEndpoint",mapping:["notificationInfo","hookEndpoint"]},{dataField:"textContent",mapping:["notificationInfo","textContent"]},{dataField:"htmlContent",mapping:["notificationInfo","htmlContent"]},{name:"parseSuccessfulCount",mapping:["notificationInfo","parseSuccessfulCount"]},{name:"parseFailedCount",mapping:["notificationInfo","parseFailedCount"]},{name:"parseCount",mapping:["notificationInfo","parseCount"]},{name:"pushSuccessfulCount",mapping:["notificationInfo","pushSuccessfulCount"]},{name:"pushFailedCount",mapping:["notificationInfo","pushFailedCount"]},{name:"pushCount",mapping:["notificationInfo","pushCount"]},{name:"isFullyFinished",mapping:["notificationInfo","isFullyFinished"]},{name:"isCompletelySuccessful",mapping:["notificationInfo","isCompletelySuccessful"]},{name:"isRepushable",mapping:["isRepushable"]}],J={popup:{title:"::\u901a\u77e5\u5167\u5bb9",showCloseButton:!0,wrapperAttr:{class:"basic-popup"},toolbarItems:[{toolbar:"bottom",template:"bottom-toolbar"}],width:"85vw",height:"90vh"},form:{colCount:2,items:[{dataField:"title",editorType:"dxTextBox",editorOptions:{disabled:!0}},{dataField:"subtitle",editorType:"dxTextBox",editorOptions:{disabled:!0}},{dataField:"notificationDataFetchEndpoint",editorType:"dxTextBox",editorOptions:{disabled:!0}},{dataField:"hookEndpoint",editorType:"dxTextBox",editorOptions:{disabled:!0}},{itemType:"group",name:"CustomContentGroup",cssClass:"CustomContentGroup",colSpan:2,colCount:8,items:[{dataField:"textContent",editorType:"dxTextArea",editorOptions:{height:"240px",disabled:!0},colSpan:3},{dataField:"htmlContent",editorType:"dxHtmlEditor",editorOptions:{...a(35130).W,height:"240px",disabled:!0},colSpan:5}]}],elementAttr:{class:"basic-form basic-form--readonly"}}};var t=a(19212),v=a(67),O=a(72783),E=a(69420),y=a(44347),k=a(65343),S=a(27310),Q=a(60237),U=a(64133),I=a(16358),F=a(20843),u=a(2173),D=a(25012),f=a(12305),Z=a(53009),w=a(11028),B=a(21137);let K=(()=>{class i{constructor(e){this.appRestService=e,this.notificationInfo={parseSuccessfulCount:null,parseFailedCount:null,parseCount:null,pushSuccessfulCount:null,pushFailedCount:null,pushCount:null,isFullyFinished:null,isCompletelySuccessful:null}}ngOnChanges(){this.getData()}getData(){this.notificationInfoId&&this.appRestService.request({method:"GET",url:`/api/app/jbnotifier-admin/notification-grouping-records/${this.notificationInfoId}`}).subscribe(e=>{this.notificationInfo.parseSuccessfulCount=e.notificationInfo.parseSuccessfulCount,this.notificationInfo.parseFailedCount=e.notificationInfo.parseFailedCount,this.notificationInfo.parseCount=e.notificationInfo.parseCount,this.notificationInfo.pushSuccessfulCount=e.notificationInfo.pushSuccessfulCount,this.notificationInfo.pushFailedCount=e.notificationInfo.pushFailedCount,this.notificationInfo.pushCount=e.notificationInfo.pushCount,this.notificationInfo.isFullyFinished=e.notificationInfo.isFullyFinished,this.notificationInfo.isCompletelySuccessful=e.notificationInfo.isCompletelySuccessful})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(Z.$))};static#i=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-notifications-grouping-records-master-detail"]],inputs:{notificationInfoId:"notificationInfoId"},features:[t.TTD],decls:46,vars:10,consts:[[1,"master-detail"],[1,"master-detail-container"],[1,"master-detail-title"],[1,"master-detail-group"],[1,"master-detail-content"],[1,"master-detail-label"],[1,"master-detail-text"],[1,"master-detail-label","master-detail-label--horizontal"],["appCheckBox","",3,"value","disabled"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),t._uU(4,"\u63a8\u9001\u8a18\u9304"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"label",5),t._uU(8,"\u89e3\u6790\u6210\u529f\u6b21\u6578"),t.qZA(),t.TgZ(9,"span",6),t._uU(10),t.qZA()(),t.TgZ(11,"div",4)(12,"label",5),t._uU(13,"\u89e3\u6790\u5931\u6557\u6b21\u6578"),t.qZA(),t.TgZ(14,"span",6),t._uU(15),t.qZA()(),t.TgZ(16,"div",4)(17,"label",5),t._uU(18,"\u89e3\u6790\u7e3d\u6b21\u6578"),t.qZA(),t.TgZ(19,"span",6),t._uU(20),t.qZA()()(),t.TgZ(21,"div",3)(22,"div",4)(23,"label",5),t._uU(24,"\u63a8\u9001\u6210\u529f\u6b21\u6578"),t.qZA(),t.TgZ(25,"span",6),t._uU(26),t.qZA()(),t.TgZ(27,"div",4)(28,"label",5),t._uU(29,"\u63a8\u9001\u5931\u6557\u6b21\u6578"),t.qZA(),t.TgZ(30,"span",6),t._uU(31),t.qZA()(),t.TgZ(32,"div",4)(33,"label",5),t._uU(34,"\u63a8\u9001\u7e3d\u6b21\u6578"),t.qZA(),t.TgZ(35,"span",6),t._uU(36),t.qZA()()(),t.TgZ(37,"div",3)(38,"div",4)(39,"label",7),t._uU(40,"\u5168\u90e8\u7d50\u675f"),t.qZA(),t._UZ(41,"dx-check-box",8),t.qZA(),t.TgZ(42,"div",4)(43,"label",7),t._uU(44,"\u5168\u90e8\u6210\u529f"),t.qZA(),t._UZ(45,"dx-check-box",8),t.qZA()()()()),2&o){let s,r,g,m,h,x;t.xp6(10),t.Oqu(null!==(s=n.notificationInfo.parseSuccessfulCount)&&void 0!==s?s:"null"),t.xp6(5),t.Oqu(null!==(r=n.notificationInfo.parseFailedCount)&&void 0!==r?r:"null"),t.xp6(5),t.Oqu(null!==(g=n.notificationInfo.parseCount)&&void 0!==g?g:"null"),t.xp6(6),t.Oqu(null!==(m=n.notificationInfo.pushSuccessfulCount)&&void 0!==m?m:"null"),t.xp6(5),t.Oqu(null!==(h=n.notificationInfo.pushFailedCount)&&void 0!==h?h:"null"),t.xp6(5),t.Oqu(null!==(x=n.notificationInfo.pushCount)&&void 0!==x?x:"null"),t.xp6(5),t.Q6J("value",n.notificationInfo.isFullyFinished||!1)("disabled",!0),t.xp6(4),t.Q6J("value",n.notificationInfo.isCompletelySuccessful||!1)("disabled",!0)}},dependencies:[w.w,B.v],styles:[".master-detail[_ngcontent-%COMP%]{background-color:var(--dx-master-detail-row-background);padding:3px 20px 16px}.master-detail-container[_ngcontent-%COMP%]{padding:0 24px;background-color:var(--white-1);border:1px solid var(--gray-2);border-radius:5px}.master-detail-title[_ngcontent-%COMP%]{padding:8px 0;border-bottom:1px solid var(--gray-3)}.master-detail-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:600;letter-spacing:var(--letter-2);color:var(--blue-1);margin-bottom:0}.master-detail-content[_ngcontent-%COMP%]{padding:16px 0;flex:1}.master-detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.master-detail-label[_ngcontent-%COMP%]{color:var(--gray-2);margin-bottom:8px}.master-detail-label--horizontal[_ngcontent-%COMP%]{margin-bottom:0;margin-right:8px}.master-detail-text[_ngcontent-%COMP%]{display:block;color:var(--black-1);white-space:normal;word-wrap:break-word}.master-detail-group[_ngcontent-%COMP%]{display:flex;gap:16px}"]})}return i})();const $=[{name:"notificationSchedulePlan",caption:"\u6642\u9593\u8a08\u756b",dataType:"object",calculateDisplayValue:i=>i.notificationSchedulePlan.cronDescription?i.notificationSchedulePlan.cronDescription+` (${i.notificationSchedulePlan.name})`:(0,c.m)(i.notificationBackgroundJob.pushTime)+` (${i.notificationSchedulePlan?.name})`},{dataField:"isManual",caption:"\u624b\u52d5",dataType:"boolean",calculateCellValue:i=>i.notificationBackgroundJob.isManual},{name:"expectedParseTime",caption:"\u9810\u8a08\u89e3\u6790\u6642\u9593",dataType:"datetime",calculateDisplayValue:i=>(0,c.m)(i.notificationBackgroundJob.expectedParseTime)},{dataField:"isParseFinished",caption:"\u89e3\u6790\u7d50\u675f",dataType:"boolean",calculateCellValue:i=>i.notificationBackgroundJob.isParseFinished},{dataField:"isParseSuccessful",caption:"\u89e3\u6790\u6210\u529f",dataType:"boolean",calculateCellValue:i=>i.notificationBackgroundJob.isParseSuccessful},{name:"pushTime",caption:"\u63a8\u9001\u6642\u9593",dataType:"datetime",calculateDisplayValue:i=>(0,c.m)(i.notificationBackgroundJob.pushTime)},{dataField:"isFullyFinished",caption:"\u5168\u90e8\u7d50\u675f",dataType:"boolean",calculateCellValue:i=>i.notificationBackgroundJob.isFullyFinished},{dataField:"isCompoletelySuccessful",caption:"\u5b8c\u5168\u6210\u529f",dataType:"boolean",calculateCellValue:i=>i.notificationBackgroundJob.isCompletelySuccessful},{name:"logMessages",caption:"Log \u8a0a\u606f",dataType:"string",cellTemplate:"logMessages"}],q=[],A=[{name:"notificationSchedulePlan",mapping:["notificationSchedulePlan"]},{name:"notificationBackgroundJob",mapping:["notificationBackgroundJob"]}],M={index:"/api/app/jbnotifier-admin/notification-grouping-records"};var L=a(10708),Y=a(37398),j=a(88762),H=a(98179),R=a(89267);const z=["grid"];function X(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.showTextContent(s.data.notificationBackgroundJob.logMessages))}),t._uU(1," \u9ede\u96c6\u67e5\u770b "),t.qZA()}}function W(i,l){if(1&i&&(t.TgZ(0,"div")(1,"dx-data-grid",3,4)(3,"dxo-toolbar"),t._UZ(4,"dxi-item",5),t.qZA(),t.YNc(5,X,2,0,"a",6),t.qZA(),t._UZ(6,"app-notification-pager",7),t.qZA()),2&i){const e=t.MAs(2),o=t.oxw();t.xp6(),t.Q6J("datafieldValueQueryStringKeyMapping",o.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",o.dataFieldLookupSourceMapping)("columns",o.columns)("dataSource",o.gridDataSource)("gridProperties",o.gridProperties),t.xp6(4),t.Q6J("dxTemplateOf","logMessages"),t.xp6(),t.Q6J("grid",e)}}const tt=()=>({class:"custom-button"});function it(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"dx-button",9),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.closePopup())}),t.qZA()()}2&i&&(t.xp6(),t.Q6J("elementAttr",t.DdM(1,tt)))}const et=()=>({toolbar:"bottom",template:"bottom-toolbar"}),nt=i=>[i],ot=()=>({class:"basic-popup"});let at=(()=>{class i{constructor(e,o,n){this.gridDataSourceService=e,this.appRestService=o,this.configStateService=n,this.isDetailsVisibleChange=new t.vpe,this.columns=$,this.dataFieldLookupSourceMapping=q,this.relatedDataValueAndQueryStringKeyMapping=A,this.cRUDEndpoints=M,this.isTextContentVisible=!1,this.gridProperties={editing:{allowDeleting:!1,allowUpdating:!1},filterRow:{visible:!1},toolbar:{visible:!1},pager:{visible:!1},height:"85%"},this.configStateService.getOne$("currentTenant").subscribe(s=>{this.tenantId=s.id})}ngOnChanges(){this.getDataSource()}getDataSource(){!this.isDetailsVisible||!this.notificationInfoId||(this.gridDataSource=this.gridDataSourceService.getDataSource(M,A,{override:{load:e=>{e.filter=this.gridDataSourceService.getFlattenedFilter(e.filter);const o=this.gridDataSourceService.getSortingString(e);return(0,L.n)(this.appRestService.request({url:`/api/app/jbnotifier-admin/notification-grouping-records/${this.notificationInfoId}/details`,method:"GET",params:{Sorting:o,SpecifiedTenantId:this.tenantId,MaxResultCount:e.take,SkipCount:e.skip}}).pipe((0,Y.U)(n=>({data:n.items,totalCount:n.totalCount}))))}}}))}closePopup(){this.isDetailsVisibleChange.emit(!1),this.grid.instance.pageIndex(0)}showTextContent(e){this.isTextContentVisible=!0,this.logMessages=e}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(v.I),t.Y36(Z.$),t.Y36(j.XJE))};static#i=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-notifications-grouping-record-details"]],viewQuery:function(o,n){if(1&o&&t.Gf(z,5),2&o){let s;t.iGM(s=t.CRH())&&(n.grid=s.first)}},inputs:{notificationInfoId:"notificationInfoId",isDetailsVisible:"isDetailsVisible"},outputs:{isDetailsVisibleChange:"isDetailsVisibleChange"},features:[t.TTD],decls:4,vars:11,consts:[["title","\u901a\u77e5\u5206\u7d44\u8a18\u9304\u660e\u7d30","width","85vw","height","90vh",3,"visible","toolbarItems","wrapperAttr","visibleChange"],[4,"dxTemplate","dxTemplateOf"],[3,"isTextContentVisible","textContent","isTextContentVisibleChange"],["appGridFeature","",3,"datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","columns","dataSource","gridProperties"],["grid",""],["name","applyFilterButton","cssClass","d-none"],[3,"click",4,"dxTemplate","dxTemplateOf"],[1,"notification-grouping-record-details",3,"grid"],[3,"click"],["appCustomButton","","text","\u95dc\u9589",3,"elementAttr","onClick"]],template:function(o,n){1&o&&(t.TgZ(0,"dx-popup",0),t.NdJ("visibleChange",function(r){return n.isDetailsVisible=r}),t.YNc(1,W,7,7,"div",1)(2,it,2,2,"div",1),t.qZA(),t.TgZ(3,"app-text-content-viewer",2),t.NdJ("isTextContentVisibleChange",function(r){return n.isTextContentVisible=r}),t.qZA()),2&o&&(t.Q6J("visible",n.isDetailsVisible)("toolbarItems",t.VKq(8,nt,t.DdM(7,et)))("wrapperAttr",t.DdM(10,ot)),t.xp6(),t.Q6J("dxTemplateOf","content"),t.xp6(),t.Q6J("dxTemplateOf","bottom-toolbar"),t.xp6(),t.Q6J("isTextContentVisible",n.isTextContentVisible)("textContent",n.logMessages))},dependencies:[y._,S.A,I.K,F.p6,u.ZT3,H.x,D.e,u.y1f,f.D,R.Q],styles:[".dx-datagrid-header-panel,   .dx-datagrid-headers.dx-datagrid-nowrap.dx-bordered-top-view{border-bottom:0;margin-bottom:4px}  .dx-datagrid-header-panel td,   .dx-datagrid-headers.dx-datagrid-nowrap.dx-bordered-top-view td{border-bottom:0}  dx-data-grid .dx-datagrid-header-panel{padding:0;margin:0}  .notification-grouping-record-details .pager{margin:8px 0}"]})}return i})();const st=["grid"];function lt(i,l){if(1&i&&t._UZ(0,"app-grid-after-tool-bar",9),2&i){t.oxw();const e=t.MAs(1);t.Q6J("grid",e)}}const rt=()=>({class:"custom-button custom-button--blue"});function pt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"dx-button",11),t.NdJ("onClick",function(){t.CHM(e),t.oxw();const n=t.MAs(1);return t.KtG(n.instance.cancelEditData())}),t.qZA()()}2&i&&(t.xp6(),t.Q6J("elementAttr",t.DdM(1,rt)))}function ct(i,l){1&i&&t.GkF(0)}const dt=i=>({$implicit:i});function ut(i,l){if(1&i&&(t.ynx(0),t.YNc(1,ct,1,0,"ng-container",12),t.BQk()),2&i){const e=l.$implicit,o=t.oxw().$implicit,n=t.oxw();t.xp6(),t.Q6J("ngTemplateOutlet",n.templateStore.getGridTemplates(o.key))("ngTemplateOutletContext",t.VKq(2,dt,e))}}function ft(i,l){if(1&i&&(t.ynx(0),t.YNc(1,ut,2,4,"ng-container",5),t.BQk()),2&i){const e=l.$implicit;t.xp6(),t.Q6J("dxTemplateOf",e.key)}}function gt(i,l){if(1&i&&t._UZ(0,"app-notifications-grouping-records-master-detail",13),2&i){const e=t.oxw();t.Q6J("notificationInfoId",null==e.masterDetailRowCollapseKey?null:e.masterDetailRowCollapseKey.id)}}function mt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"dx-button",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.openDetailsTable(s.data.id))}),t.qZA()}}function ht(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"app-repush-button",16),t.NdJ("buttonClick",function(){t.CHM(e);const n=t.oxw().$implicit,s=t.oxw();return t.KtG(s.repush(n.data.id))}),t.qZA()}}function xt(i,l){if(1&i&&(t.ynx(0),t.YNc(1,ht,1,0,"app-repush-button",15),t.BQk()),2&i){const e=l.$implicit;t.xp6(),t.Q6J("ngIf",e.data.isRepushable)}}const Ct=[{path:"",component:(()=>{class i{constructor(e,o){this.gridDataSourceService=e,this.templateStore=o,this.columns=N,this.cRUDEndpoints=_,this.dataFieldLookupSourceMapping=V,this.relatedDataValueAndQueryStringKeyMapping=T,this.editingPropertiesForUpdating=J,this.gridProperties={editing:{allowAdding:!1},masterDetail:{enabled:!0,template:"notifications-grouping-records-master-detail"}},this.isDetailsVisible=!1,this.rowExpanded=n=>{this.applyyNotificationMasterDetailRowCollapse(n)}}ngOnInit(){this.gridDataSource=this.gridDataSourceService.getDataSource(_,T)}ngAfterViewInit(){this.grid.instance.on("rowExpanded",this.rowExpanded)}applyyNotificationMasterDetailRowCollapse(e){setTimeout(()=>{const n=e.element.querySelector('[aria-label="Collapse"]').parentElement.ariaRowIndex;e.element.querySelector(`tr.dx-row.dx-data-row.dx-row-lines[aria-rowindex="${n}"]`).classList.add("master-detail-row-collapse")}),e.key!==this.masterDetailRowCollapseKey&&(e.component.collapseRow(this.masterDetailRowCollapseKey),this.masterDetailRowCollapseKey=e.key)}openDetailsTable(e){this.isDetailsVisible=!0,this.notificationInfoId=e}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(v.I),t.Y36(O.z))};static#i=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-notification-grouping-records"]],viewQuery:function(o,n){if(1&o&&t.Gf(st,5),2&o){let s;t.iGM(s=t.CRH())&&(n.grid=s.first)}},decls:14,vars:16,consts:[["appGridFeature","","appGridFeatureNotification","",3,"datafieldValueQueryStringKeyMapping","dataFieldLookUpSourceMapping","editingPropertiesForUpdating","columns","dataSource","gridProperties"],["grid",""],["location","after"],[3,"grid",4,"dxTemplate"],["name","applyFilterButton","cssClass","d-none"],[4,"dxTemplate","dxTemplateOf"],[4,"ngFor","ngForOf"],[3,"notificationInfoId",4,"dxTemplate","dxTemplateOf"],["appGridViewButton","",3,"click",4,"dxTemplate","dxTemplateOf"],[3,"grid"],[3,"isDetailsVisible","notificationInfoId","isDetailsVisibleChange"],["appCustomButton","","text","\u78ba\u8a8d",3,"elementAttr","onClick"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"notificationInfoId"],["appGridViewButton","",3,"click"],[3,"buttonClick",4,"ngIf"],[3,"buttonClick"]],template:function(o,n){if(1&o&&(t.TgZ(0,"dx-data-grid",0,1)(2,"dxo-toolbar")(3,"dxi-item",2),t.YNc(4,lt,1,1,"app-grid-after-tool-bar",3),t.qZA(),t._UZ(5,"dxi-item",4),t.qZA(),t.YNc(6,pt,2,2,"div",5)(7,ft,2,1,"ng-container",6),t.ALo(8,"keyvalue"),t.YNc(9,gt,1,1,"app-notifications-grouping-records-master-detail",7)(10,mt,1,0,"dx-button",8)(11,xt,2,1,"ng-container",5),t.qZA(),t._UZ(12,"app-notification-pager",9),t.TgZ(13,"app-notifications-grouping-record-details",10),t.NdJ("isDetailsVisibleChange",function(r){return n.isDetailsVisible=r}),t.qZA()),2&o){const s=t.MAs(1);t.Q6J("datafieldValueQueryStringKeyMapping",n.relatedDataValueAndQueryStringKeyMapping)("dataFieldLookUpSourceMapping",n.dataFieldLookupSourceMapping)("editingPropertiesForUpdating",n.editingPropertiesForUpdating)("columns",n.columns)("dataSource",n.gridDataSource)("gridProperties",n.gridProperties),t.xp6(6),t.Q6J("dxTemplateOf","bottom-toolbar"),t.xp6(),t.Q6J("ngForOf",t.lcZ(8,14,n.templateStore.gridTemplates)),t.xp6(2),t.Q6J("dxTemplateOf","notifications-grouping-records-master-detail"),t.xp6(),t.Q6J("dxTemplateOf","grid-detail-button"),t.xp6(),t.Q6J("dxTemplateOf","repush"),t.xp6(),t.Q6J("grid",s),t.xp6(),t.Q6J("isDetailsVisible",n.isDetailsVisible)("notificationInfoId",n.notificationInfoId)}},dependencies:[p.sg,p.O5,p.tP,E.p,y._,k.f,S.A,Q.V,U.f,I.K,F.p6,u.ZT3,D.e,u.y1f,f.D,K,at,p.Nd]})}return i})()}];let bt=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#i=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[b.Bz.forChild(Ct),b.Bz]})}return i})();var _t=a(5533),Tt=a(31610);let vt=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#i=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[p.ez,Tt.m,_t.P,bt,f.D,R.Q]})}return i})()}}]);